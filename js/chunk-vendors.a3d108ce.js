"use strict";(self["webpackChunkjeju_tour"]=self["webpackChunkjeju_tour"]||[]).push([[504],{4046:function(e,t,n){n.d(t,{Am:function(){return V},FA:function(){return N},Fy:function(){return _},I9:function(){return B},Im:function(){return L},Ku:function(){return q},T9:function(){return v},Tj:function(){return m},Uj:function(){return l},XA:function(){return y},ZQ:function(){return w},bD:function(){return M},cY:function(){return b},eX:function(){return x},g:function(){return O},hp:function(){return W},jZ:function(){return E},lT:function(){return S},lV:function(){return C},nr:function(){return k},sr:function(){return T},tD:function(){return $},u:function(){return u},yU:function(){return g},zW:function(){return A}});n(4114),n(4979);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((7&i)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length,a=s?n[e.charAt(i)]:0;++i;const l=i<e.length,u=l?n[e.charAt(i)]:64;++i;const c=i<e.length,d=c?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==u||null==d)throw new o;const h=t<<2|a>>4;if(r.push(h),64!==u){const e=a<<4&240|u>>2;if(r.push(e),64!==d){const e=u<<6&192|d;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){const t=r(e);return s.encodeByteArray(t,!0)},l=function(e){return a(e).replace(/\./g,"")},u=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d=()=>c().__FIREBASE_DEFAULTS__,h=()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",VUE_APP_API_BASE:"https://startling-chimera-5cd156.netlify.app",VUE_APP_FIREBASE_API_KEY:"AIzaSyCAoe5LjzjXaww6_XTBaxpGBtBPgTWcU-Y",VUE_APP_FIREBASE_APP_ID:"1:935848543566:web:dd3caa9389552e65f84a1f",VUE_APP_FIREBASE_AUTH_DOMAIN:"jeju-tour-6b6e9.firebaseapp.com",VUE_APP_FIREBASE_MEASUREMENT_ID:"G-1LQ63V3B7T",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"935848543566",VUE_APP_FIREBASE_PROJECT_ID:"jeju-tour-6b6e9",VUE_APP_FIREBASE_STORAGE_BUCKET:"jeju-tour-6b6e9.appspot.com",BASE_URL:"/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},f=()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&u(e[1]);return t&&JSON.parse(t)},p=()=>{try{return d()||h()||f()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},m=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},g=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},v=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},y=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[l(JSON.stringify(n)),l(JSON.stringify(o)),a].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function E(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function I(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function T(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function S(){const e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k(){return!I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){try{return"object"===typeof indexedDB}catch(e){return!1}}function x(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const R="FirebaseError";class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=R,Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?D(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`,a=new O(r,o,n);return a}}function D(e,t){return e.replace(P,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}const P=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(F(n)&&F(s)){if(!M(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function V(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function B(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function W(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(e,t){const n=new j(e,t);return n.subscribe.bind(n)}class j{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=U(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function U(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function z(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(e){return e&&e._delegate?e._delegate:e}},179:function(e,t,n){n.d(t,{$q:function(){return f}});n(4114);function r(){return i().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof globalThis?globalThis:{}}const s="function"===typeof Proxy,o="devtools-plugin:setup",a="plugin:settings:set";let l,u;function c(){var e;return void 0!==l||("undefined"!==typeof window&&window.performance?(l=!0,u=window.performance):"undefined"!==typeof globalThis&&(null===(e=globalThis.perf_hooks)||void 0===e?void 0:e.performance)?(l=!0,u=globalThis.perf_hooks.performance):l=!1),l}function d(){return c()?u.now():Date.now()}class h{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const o in e.settings){const t=e.settings[o];n[o]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(s){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(s){}i=e},now(){return d()}},t&&t.on(a,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function f(e,t){const n=e,a=i(),l=r(),u=s&&n.enableEarlyProxy;if(!l||!a.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&u){const e=u?new h(n,l):null,r=a.__VUE_DEVTOOLS_PLUGINS__=a.__VUE_DEVTOOLS_PLUGINS__||[];r.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else l.emit(o,e,t)}},144:function(e,t,n){n.d(t,{BA:function(){return Be},C4:function(){return b},EW:function(){return Re},Gc:function(){return ye},IG:function(){return Se},IJ:function(){return Le},KR:function(){return Pe},Kh:function(){return ve},Pr:function(){return $e},R1:function(){return Ve},X2:function(){return d},bl:function(){return _},fE:function(){return Ie},g8:function(){return we},hZ:function(){return O},i9:function(){return De},jr:function(){return c},ju:function(){return Te},lW:function(){return ze},o5:function(){return u},tB:function(){return be},u4:function(){return R},uY:function(){return a},ux:function(){return Ce},yC:function(){return o}});n(4114);var r=n(4232);let i,s;class o{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function a(e){return new o(e)}function l(e,t=i){t&&t.active&&t.effects.push(e)}function u(){return i}function c(e){i&&i.cleanups.push(e)}class d{constructor(e,t,n,r){this.fn=e,this.trigger=t,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,l(this,r)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,b();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(h(t.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),_()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=g,t=s;try{return g=!0,s=this,this._runnings++,f(this),this.fn()}finally{p(this),this._runnings--,s=t,g=e}}stop(){var e;this.active&&(f(this),p(this),null==(e=this.onStop)||e.call(this),this.active=!1)}}function h(e){return e.value}function f(e){e._trackId++,e._depsLength=0}function p(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)m(e.deps[t],e);e.deps.length=e._depsLength}}function m(e,t){const n=e.get(t);void 0!==n&&t._trackId!==n&&(e.delete(t),0===e.size&&e.cleanup())}let g=!0,v=0;const y=[];function b(){y.push(g),g=!1}function _(){const e=y.pop();g=void 0===e||e}function w(){v++}function E(){v--;while(!v&&T.length)T.shift()()}function I(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&m(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const T=[];function C(e,t,n){w();for(const r of e.keys()){let n;r._dirtyLevel<t&&(null!=n?n:n=e.get(r)===r._trackId)&&(r._shouldSchedule||(r._shouldSchedule=0===r._dirtyLevel),r._dirtyLevel=t),r._shouldSchedule&&(null!=n?n:n=e.get(r)===r._trackId)&&(r.trigger(),r._runnings&&!r.allowRecurse||2===r._dirtyLevel||(r._shouldSchedule=!1,r.scheduler&&T.push(r.scheduler)))}E()}const S=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},k=new WeakMap,A=Symbol(""),x=Symbol("");function R(e,t,n){if(g&&s){let t=k.get(e);t||k.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=S((()=>t.delete(n)))),I(s,r,void 0)}}function O(e,t,n,i,s,o){const a=k.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===n&&(0,r.cy)(e)){const e=Number(i);a.forEach(((t,n)=>{("length"===n||!(0,r.Bm)(n)&&n>=e)&&l.push(t)}))}else switch(void 0!==n&&l.push(a.get(n)),t){case"add":(0,r.cy)(e)?(0,r.yI)(n)&&l.push(a.get("length")):(l.push(a.get(A)),(0,r.CE)(e)&&l.push(a.get(x)));break;case"delete":(0,r.cy)(e)||(l.push(a.get(A)),(0,r.CE)(e)&&l.push(a.get(x)));break;case"set":(0,r.CE)(e)&&l.push(a.get(A));break}w();for(const r of l)r&&C(r,4,void 0);E()}function N(e,t){var n;return null==(n=k.get(e))?void 0:n.get(t)}const D=(0,r.pD)("__proto__,__v_isRef,__isVue"),P=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.Bm)),L=M();function M(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Ce(this);for(let t=0,i=this.length;t<i;t++)R(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Ce)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){b(),w();const n=Ce(this)[t].apply(this,e);return E(),_(),n}})),e}function F(e){const t=Ce(this);return R(t,"has",e),t.hasOwnProperty(e)}class V{constructor(e=!1,t=!1){this._isReadonly=e,this._shallow=t}get(e,t,n){const i=this._isReadonly,s=this._shallow;if("__v_isReactive"===t)return!i;if("__v_isReadonly"===t)return i;if("__v_isShallow"===t)return s;if("__v_raw"===t)return n===(i?s?pe:fe:s?he:de).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=(0,r.cy)(e);if(!i){if(o&&(0,r.$3)(L,t))return Reflect.get(L,t,n);if("hasOwnProperty"===t)return F}const a=Reflect.get(e,t,n);return((0,r.Bm)(t)?P.has(t):D(t))?a:(i||R(e,"get",t),s?a:De(a)?o&&(0,r.yI)(t)?a:a.value:(0,r.Gv)(a)?i?be(a):ve(a):a)}}class B extends V{constructor(e=!1){super(!1,e)}set(e,t,n,i){let s=e[t];if(!this._shallow){const t=Ee(s);if(Ie(n)||Ee(n)||(s=Ce(s),n=Ce(n)),!(0,r.cy)(e)&&De(s)&&!De(n))return!t&&(s.value=n,!0)}const o=(0,r.cy)(e)&&(0,r.yI)(t)?Number(t)<e.length:(0,r.$3)(e,t),a=Reflect.set(e,t,n,i);return e===Ce(i)&&(o?(0,r.$H)(n,s)&&O(e,"set",t,n,s):O(e,"add",t,n)),a}deleteProperty(e,t){const n=(0,r.$3)(e,t),i=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&O(e,"delete",t,void 0,i),s}has(e,t){const n=Reflect.has(e,t);return(0,r.Bm)(t)&&P.has(t)||R(e,"has",t),n}ownKeys(e){return R(e,"iterate",(0,r.cy)(e)?"length":A),Reflect.ownKeys(e)}}class W extends V{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const $=new B,j=new W,U=new B(!0),z=e=>e,q=e=>Reflect.getPrototypeOf(e);function G(e,t,n=!1,i=!1){e=e["__v_raw"];const s=Ce(e),o=Ce(t);n||((0,r.$H)(t,o)&&R(s,"get",t),R(s,"get",o));const{has:a}=q(s),l=i?z:n?Ae:ke;return a.call(s,t)?l(e.get(t)):a.call(s,o)?l(e.get(o)):void(e!==s&&e.get(t))}function K(e,t=!1){const n=this["__v_raw"],i=Ce(n),s=Ce(e);return t||((0,r.$H)(e,s)&&R(i,"has",e),R(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function H(e,t=!1){return e=e["__v_raw"],!t&&R(Ce(e),"iterate",A),Reflect.get(e,"size",e)}function X(e){e=Ce(e);const t=Ce(this),n=q(t),r=n.has.call(t,e);return r||(t.add(e),O(t,"add",e,e)),this}function Q(e,t){t=Ce(t);const n=Ce(this),{has:i,get:s}=q(n);let o=i.call(n,e);o||(e=Ce(e),o=i.call(n,e));const a=s.call(n,e);return n.set(e,t),o?(0,r.$H)(t,a)&&O(n,"set",e,t,a):O(n,"add",e,t),this}function Y(e){const t=Ce(this),{has:n,get:r}=q(t);let i=n.call(t,e);i||(e=Ce(e),i=n.call(t,e));const s=r?r.call(t,e):void 0,o=t.delete(e);return i&&O(t,"delete",e,void 0,s),o}function J(){const e=Ce(this),t=0!==e.size,n=void 0,r=e.clear();return t&&O(e,"clear",void 0,void 0,n),r}function Z(e,t){return function(n,r){const i=this,s=i["__v_raw"],o=Ce(s),a=t?z:e?Ae:ke;return!e&&R(o,"iterate",A),s.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function ee(e,t,n){return function(...i){const s=this["__v_raw"],o=Ce(s),a=(0,r.CE)(o),l="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=s[e](...i),d=n?z:t?Ae:ke;return!t&&R(o,"iterate",u?x:A),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function te(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function ne(){const e={get(e){return G(this,e)},get size(){return H(this)},has:K,add:X,set:Q,delete:Y,clear:J,forEach:Z(!1,!1)},t={get(e){return G(this,e,!1,!0)},get size(){return H(this)},has:K,add:X,set:Q,delete:Y,clear:J,forEach:Z(!1,!0)},n={get(e){return G(this,e,!0)},get size(){return H(this,!0)},has(e){return K.call(this,e,!0)},add:te("add"),set:te("set"),delete:te("delete"),clear:te("clear"),forEach:Z(!0,!1)},r={get(e){return G(this,e,!0,!0)},get size(){return H(this,!0)},has(e){return K.call(this,e,!0)},add:te("add"),set:te("set"),delete:te("delete"),clear:te("clear"),forEach:Z(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=ee(i,!1,!1),n[i]=ee(i,!0,!1),t[i]=ee(i,!1,!0),r[i]=ee(i,!0,!0)})),[e,n,t,r]}const[re,ie,se,oe]=ne();function ae(e,t){const n=t?e?oe:se:e?ie:re;return(t,i,s)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.$3)(n,i)&&i in t?n:t,i,s)}const le={get:ae(!1,!1)},ue={get:ae(!1,!0)},ce={get:ae(!0,!1)};const de=new WeakMap,he=new WeakMap,fe=new WeakMap,pe=new WeakMap;function me(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ge(e){return e["__v_skip"]||!Object.isExtensible(e)?0:me((0,r.Zf)(e))}function ve(e){return Ee(e)?e:_e(e,!1,$,le,de)}function ye(e){return _e(e,!1,U,ue,he)}function be(e){return _e(e,!0,j,ce,fe)}function _e(e,t,n,i,s){if(!(0,r.Gv)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=s.get(e);if(o)return o;const a=ge(e);if(0===a)return e;const l=new Proxy(e,2===a?i:n);return s.set(e,l),l}function we(e){return Ee(e)?we(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ee(e){return!(!e||!e["__v_isReadonly"])}function Ie(e){return!(!e||!e["__v_isShallow"])}function Te(e){return we(e)||Ee(e)}function Ce(e){const t=e&&e["__v_raw"];return t?Ce(t):e}function Se(e){return Object.isExtensible(e)&&(0,r.yQ)(e,"__v_skip",!0),e}const ke=e=>(0,r.Gv)(e)?ve(e):e,Ae=e=>(0,r.Gv)(e)?be(e):e;class xe{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new d((()=>e(this._value)),(()=>Ne(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Ce(this);return e._cacheable&&!e.effect.dirty||!(0,r.$H)(e._value,e._value=e.effect.run())||Ne(e,4),Oe(e),e.effect._dirtyLevel>=2&&Ne(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Re(e,t,n=!1){let i,s;const o=(0,r.Tn)(e);o?(i=e,s=r.tE):(i=e.get,s=e.set);const a=new xe(i,s,o||!s,n);return a}function Oe(e){var t;g&&s&&(e=Ce(e),I(s,null!=(t=e.dep)?t:e.dep=S((()=>e.dep=void 0),e instanceof xe?e:void 0),void 0))}function Ne(e,t=4,n){e=Ce(e);const r=e.dep;r&&C(r,t,void 0)}function De(e){return!(!e||!0!==e.__v_isRef)}function Pe(e){return Me(e,!1)}function Le(e){return Me(e,!0)}function Me(e,t){return De(e)?e:new Fe(e,t)}class Fe{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ce(e),this._value=t?e:ke(e)}get value(){return Oe(this),this._value}set value(e){const t=this.__v_isShallow||Ie(e)||Ee(e);e=t?e:Ce(e),(0,r.$H)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:ke(e),Ne(this,4,e))}}function Ve(e){return De(e)?e.value:e}function Be(e){return(0,r.Tn)(e)?e():Ve(e)}const We={get:(e,t,n)=>Ve(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return De(i)&&!De(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function $e(e){return we(e)?e:new Proxy(e,We)}class je{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return N(Ce(this._object),this._key)}}class Ue{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ze(e,t,n){return De(e)?e:(0,r.Tn)(e)?new Ue(e):(0,r.Gv)(e)&&arguments.length>1?qe(e,t,n):Pe(e)}function qe(e,t,n){const r=e[t];return De(r)?r:new je(e,t,n)}},6768:function(e,t,n){n.d(t,{$u:function(){return Fe},$y:function(){return K},CE:function(){return yn},Df:function(){return we},EW:function(){return sr},FK:function(){return an},Gt:function(){return wt},Gy:function(){return de},Ht:function(){return Je},Im:function(){return sn},K9:function(){return jt},Lk:function(){return Cn},MZ:function(){return _e},Mw:function(){return un},Ng:function(){return An},OA:function(){return Ze},OW:function(){return ve},Q3:function(){return On},QP:function(){return fe},Qi:function(){return L},RG:function(){return Ge},WQ:function(){return Et},Wv:function(){return bn},bF:function(){return Sn},bo:function(){return ae},dY:function(){return y},eW:function(){return Rn},eX:function(){return qe},g2:function(){return q},h:function(){return or},hi:function(){return Be},jt:function(){return M},k6:function(){return F},n:function(){return Se},nI:function(){return $n},nT:function(){return ee},pI:function(){return ze},pM:function(){return Ee},pR:function(){return me},qL:function(){return o},sV:function(){return Le},uX:function(){return fn},v6:function(){return Ln},wB:function(){return ne},xo:function(){return Ve}});n(4114);var r=n(144),i=n(4232);function s(e,t,n,r){try{return r?e(...r):e()}catch(i){a(i,t,n)}}function o(e,t,n,r){if((0,i.Tn)(e)){const o=s(e,t,n,r);return o&&(0,i.yL)(o)&&o.catch((e=>{a(e,t,n)})),o}const l=[];for(let i=0;i<e.length;i++)l.push(o(e[i],t,n,r));return l}function a(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void s(a,null,10,[e,i,o])}l(e,n,i,r)}function l(e,t,n,r=!0){console.error(e)}let u=!1,c=!1;const d=[];let h=0;const f=[];let p=null,m=0;const g=Promise.resolve();let v=null;function y(e){const t=v||g;return e?t.then(this?e.bind(this):e):t}function b(e){let t=h+1,n=d.length;while(t<n){const r=t+n>>>1,i=d[r],s=S(i);s<e||s===e&&i.pre?t=r+1:n=r}return t}function _(e){d.length&&d.includes(e,u&&e.allowRecurse?h+1:h)||(null==e.id?d.push(e):d.splice(b(e.id),0,e),w())}function w(){u||c||(c=!0,v=g.then(A))}function E(e){const t=d.indexOf(e);t>h&&d.splice(t,1)}function I(e){(0,i.cy)(e)?f.push(...e):p&&p.includes(e,e.allowRecurse?m+1:m)||f.push(e),w()}function T(e,t,n=(u?h+1:0)){for(0;n<d.length;n++){const t=d[n];if(t&&t.pre){if(e&&t.id!==e.uid)continue;0,d.splice(n,1),n--,t()}}}function C(e){if(f.length){const e=[...new Set(f)].sort(((e,t)=>S(e)-S(t)));if(f.length=0,p)return void p.push(...e);for(p=e,m=0;m<p.length;m++)p[m]();p=null,m=0}}const S=e=>null==e.id?1/0:e.id,k=(e,t)=>{const n=S(e)-S(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function A(e){c=!1,u=!0,d.sort(k);i.tE;try{for(h=0;h<d.length;h++){const e=d[h];e&&!1!==e.active&&s(e,null,14)}}finally{h=0,d.length=0,C(e),u=!1,v=null,(d.length||f.length)&&A(e)}}function x(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.MZ;let s=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in r){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:o}=r[e]||i.MZ;o&&(s=n.map((e=>(0,i.Kg)(e)?e.trim():e))),t&&(s=n.map(i.bB))}let u;let c=r[u=(0,i.rU)(t)]||r[u=(0,i.rU)((0,i.PT)(t))];!c&&a&&(c=r[u=(0,i.rU)((0,i.Tg)(t))]),c&&o(c,e,6,s);const d=r[u+"Once"];if(d){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,o(d,e,6,s)}}function R(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(void 0!==s)return s;const o=e.emits;let a={},l=!1;if(!(0,i.Tn)(e)){const r=e=>{const n=R(e,t,!0);n&&(l=!0,(0,i.X$)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||l?((0,i.cy)(o)?o.forEach((e=>a[e]=null)):(0,i.X$)(a,o),(0,i.Gv)(e)&&r.set(e,a),a):((0,i.Gv)(e)&&r.set(e,null),null)}function O(e,t){return!(!e||!(0,i.Mp)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.$3)(e,t[0].toLowerCase()+t.slice(1))||(0,i.$3)(e,(0,i.Tg)(t))||(0,i.$3)(e,t))}let N=null,D=null;function P(e){const t=N;return N=e,D=e&&e.type.__scopeId||null,t}function L(e){D=e}function M(){D=null}function F(e,t=N,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&gn(-1);const i=P(t);let s;try{s=e(...n)}finally{P(i),r._d&&gn(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function V(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[l],slots:u,attrs:c,emit:d,render:h,renderCache:f,data:p,setupState:m,ctx:g,inheritAttrs:v}=e;let y,b;const _=P(e);try{if(4&n.shapeFlag){const e=s||r,t=e;y=Nn(h.call(t,e,f,o,m,p,g)),b=c}else{const e=t;0,y=Nn(e.length>1?e(o,{attrs:c,slots:u,emit:d}):e(o,null)),b=t.props?c:B(c)}}catch(E){dn.length=0,a(E,e,1),y=Sn(un)}let w=y;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(l&&e.some(i.CP)&&(b=W(b,l)),w=xn(w,b))}return n.dirs&&(w=xn(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),y=w,P(_),y}const B=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.Mp)(n))&&((t||(t={}))[n]=e[n]);return t},W=(e,t)=>{const n={};for(const r in e)(0,i.CP)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function $(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==o&&(r?!o||j(r,o,u):!!o);if(1024&l)return!0;if(16&l)return r?j(r,o,u):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!O(u,n))return!0}}return!1}function j(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!O(n,s))return!0}return!1}function U({vnode:e,parent:t},n){while(t){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const z="components";function q(e,t){return H(z,e,!0,t)||e}const G=Symbol.for("v-ndc");function K(e){return(0,i.Kg)(e)?H(z,e,!1)||e:e||G}function H(e,t,n=!0,r=!1){const s=N||Wn;if(s){const n=s.type;if(e===z){const e=rr(n,!1);if(e&&(e===t||e===(0,i.PT)(t)||e===(0,i.ZH)((0,i.PT)(t))))return n}const o=X(s[e]||n[e],t)||X(s.appContext[e],t);return!o&&r?n:o}}function X(e,t){return e&&(e[t]||e[(0,i.PT)(t)]||e[(0,i.ZH)((0,i.PT)(t))])}const Q=e=>e.__isSuspense;function Y(e,t){t&&t.pendingBranch?(0,i.cy)(e)?t.effects.push(...e):t.effects.push(e):I(e)}const J=Symbol.for("v-scx"),Z=()=>{{const e=Et(J);return e}};function ee(e,t){return re(e,null,t)}const te={};function ne(e,t,n){return re(e,t,n)}function re(e,t,{immediate:n,deep:a,flush:l,once:u,onTrack:c,onTrigger:d}=i.MZ){if(t&&u){const e=t;t=(...t)=>{e(...t),S()}}const h=Wn,f=e=>!0===a?e:oe(e,!1===a?1:void 0);let p,m,g=!1,v=!1;if((0,r.i9)(e)?(p=()=>e.value,g=(0,r.fE)(e)):(0,r.g8)(e)?(p=()=>f(e),g=!0):(0,i.cy)(e)?(v=!0,g=e.some((e=>(0,r.g8)(e)||(0,r.fE)(e))),p=()=>e.map((e=>(0,r.i9)(e)?e.value:(0,r.g8)(e)?f(e):(0,i.Tn)(e)?s(e,h,2):void 0))):p=(0,i.Tn)(e)?t?()=>s(e,h,2):()=>(m&&m(),o(e,h,3,[b])):i.tE,t&&a){const e=p;p=()=>oe(e())}let y,b=e=>{m=T.onStop=()=>{s(e,h,4),m=T.onStop=void 0}};if(Xn){if(b=i.tE,t?n&&o(t,h,3,[p(),v?[]:void 0,b]):p(),"sync"!==l)return i.tE;{const e=Z();y=e.__watcherHandles||(e.__watcherHandles=[])}}let w=v?new Array(e.length).fill(te):te;const E=()=>{if(T.active&&T.dirty)if(t){const e=T.run();(a||g||(v?e.some(((e,t)=>(0,i.$H)(e,w[t]))):(0,i.$H)(e,w)))&&(m&&m(),o(t,h,3,[e,w===te?void 0:v&&w[0]===te?[]:w,b]),w=e)}else T.run()};let I;E.allowRecurse=!!t,"sync"===l?I=E:"post"===l?I=()=>$t(E,h&&h.suspense):(E.pre=!0,h&&(E.id=h.uid),I=()=>_(E));const T=new r.X2(p,i.tE,I),C=(0,r.o5)(),S=()=>{T.stop(),C&&(0,i.TF)(C.effects,T)};return t?n?E():w=T.run():"post"===l?$t(T.run.bind(T),h&&h.suspense):T.run(),y&&y.push(S),S}function ie(e,t,n){const r=this.proxy,s=(0,i.Kg)(e)?e.includes(".")?se(r,e):()=>r[e]:e.bind(r,r);let o;(0,i.Tn)(t)?o=t:(o=t.handler,n=t);const a=zn(this),l=re(s,o.bind(r),n);return a(),l}function se(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function oe(e,t,n=0,s){if(!(0,i.Gv)(e)||e["__v_skip"])return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),(0,r.i9)(e))oe(e.value,t,n,s);else if((0,i.cy)(e))for(let r=0;r<e.length;r++)oe(e[r],t,n,s);else if((0,i.vM)(e)||(0,i.CE)(e))e.forEach((e=>{oe(e,t,n,s)}));else if((0,i.Qd)(e))for(const r in e)oe(e[r],t,n,s);return e}function ae(e,t){if(null===N)return e;const n=nr(N)||N.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,o,a,l=i.MZ]=t[s];e&&((0,i.Tn)(e)&&(e={mounted:e,updated:e}),e.deep&&oe(o),r.push({dir:e,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function le(e,t,n,i){const s=e.dirs,a=t&&t.dirs;for(let l=0;l<s.length;l++){const u=s[l];a&&(u.oldValue=a[l].value);let c=u.dir[i];c&&((0,r.C4)(),o(c,n,8,[e.el,u,e,t]),(0,r.bl)())}}const ue=Symbol("_leaveCb"),ce=Symbol("_enterCb");function de(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Le((()=>{e.isMounted=!0})),Ve((()=>{e.isUnmounting=!0})),e}const he=[Function,Array],fe={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:he,onEnter:he,onAfterEnter:he,onEnterCancelled:he,onBeforeLeave:he,onLeave:he,onAfterLeave:he,onLeaveCancelled:he,onBeforeAppear:he,onAppear:he,onAfterAppear:he,onAppearCancelled:he},pe={name:"BaseTransition",props:fe,setup(e,{slots:t}){const n=$n(),i=de();let s;return()=>{const o=t.default&&we(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==un){0,a=t,e=!0;break}}const l=(0,r.ux)(e),{mode:u}=l;if(i.isLeaving)return ye(a);const c=be(a);if(!c)return ye(a);const d=ve(c,l,i,n);_e(c,d);const h=n.subTree,f=h&&be(h);let p=!1;const{getTransitionKey:m}=c.type;if(m){const e=m();void 0===s?s=e:e!==s&&(s=e,p=!0)}if(f&&f.type!==un&&(!wn(c,f)||p)){const e=ve(f,l,i,n);if(_e(f,e),"out-in"===u)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},ye(a);"in-out"===u&&c.type!==un&&(e.delayLeave=(e,t,n)=>{const r=ge(i,f);r[String(f.key)]=f,e[ue]=()=>{t(),e[ue]=void 0,delete d.delayedLeave},d.delayedLeave=n})}return a}}},me=pe;function ge(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ve(e,t,n,r){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:_}=t,w=String(e.key),E=ge(n,e),I=(e,t)=>{e&&o(e,r,9,t)},T=(e,t)=>{const n=t[1];I(e,t),(0,i.cy)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},C={mode:a,persisted:l,beforeEnter(t){let r=u;if(!n.isMounted){if(!s)return;r=v||u}t[ue]&&t[ue](!0);const i=E[w];i&&wn(e,i)&&i.el[ue]&&i.el[ue](),I(r,[t])},enter(e){let t=c,r=d,i=h;if(!n.isMounted){if(!s)return;t=y||c,r=b||d,i=_||h}let o=!1;const a=e[ce]=t=>{o||(o=!0,I(t?i:r,[e]),C.delayedLeave&&C.delayedLeave(),e[ce]=void 0)};t?T(t,[e,a]):a()},leave(t,r){const i=String(e.key);if(t[ce]&&t[ce](!0),n.isUnmounting)return r();I(f,[t]);let s=!1;const o=t[ue]=n=>{s||(s=!0,r(),I(n?g:m,[t]),t[ue]=void 0,E[i]===e&&delete E[i])};E[i]=e,p?T(p,[t,o]):o()},clone(e){return ve(e,t,n,r)}};return C}function ye(e){if(Te(e))return e=xn(e),e.children=null,e}function be(e){return Te(e)?e.children?e.children[0]:void 0:e}function _e(e,t){6&e.shapeFlag&&e.component?_e(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function we(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===an?(128&o.patchFlag&&i++,r=r.concat(we(o.children,t,a))):(t||o.type!==un)&&r.push(null!=a?xn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function Ee(e,t){return(0,i.Tn)(e)?(()=>(0,i.X$)({name:e.name},t,{setup:e}))():e}const Ie=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Te=e=>e.type.__isKeepAlive;RegExp,RegExp;function Ce(e,t){return(0,i.cy)(e)?e.some((e=>Ce(e,t))):(0,i.Kg)(e)?e.split(",").includes(t):!!(0,i.gd)(e)&&e.test(t)}function Se(e,t){Ae(e,"a",t)}function ke(e,t){Ae(e,"da",t)}function Ae(e,t,n=Wn){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Ne(t,r,n),n){let e=n.parent;while(e&&e.parent)Te(e.parent.vnode)&&xe(r,t,n,e),e=e.parent}}function xe(e,t,n,r){const s=Ne(t,e,r,!0);Be((()=>{(0,i.TF)(r[t],s)}),n)}function Re(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Oe(e){return 128&e.shapeFlag?e.ssContent:e}function Ne(e,t,n=Wn,i=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.C4)();const s=zn(n),a=o(t,n,e,i);return s(),(0,r.bl)(),a});return i?s.unshift(a):s.push(a),a}}const De=e=>(t,n=Wn)=>(!Xn||"sp"===e)&&Ne(e,((...e)=>t(...e)),n),Pe=De("bm"),Le=De("m"),Me=De("bu"),Fe=De("u"),Ve=De("bum"),Be=De("um"),We=De("sp"),$e=De("rtg"),je=De("rtc");function Ue(e,t=Wn){Ne("ec",e,t)}function ze(e,t,n,r){let s;const o=n&&n[r];if((0,i.cy)(e)||(0,i.Kg)(e)){s=new Array(e.length);for(let n=0,r=e.length;n<r;n++)s[n]=t(e[n],n,void 0,o&&o[n])}else if("number"===typeof e){0,s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,o&&o[n])}else if((0,i.Gv)(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);s=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];s[r]=t(e[i],i,r,o&&o[r])}}else s=[];return n&&(n[r]=s),s}function qe(e,t){for(let n=0;n<t.length;n++){const r=t[n];if((0,i.cy)(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function Ge(e,t,n={},r,i){if(N.isCE||N.parent&&Ie(N.parent)&&N.parent.isCE)return"default"!==t&&(n.name=t),Sn("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),fn();const o=s&&Ke(s(n)),a=bn(an,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&1===e._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Ke(e){return e.some((e=>!_n(e)||e.type!==un&&!(e.type===an&&!Ke(e.children))))?e:null}const He=e=>e?Gn(e)?nr(e)||e.proxy:He(e.parent):null,Xe=(0,i.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>He(e.parent),$root:e=>He(e.root),$emit:e=>e.emit,$options:e=>at(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,_(e.update)}),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>ie.bind(e)}),Qe=(e,t)=>e!==i.MZ&&!e.__isScriptSetup&&(0,i.$3)(e,t),Ye={get({_:e},t){const{ctx:n,setupState:s,data:o,props:a,accessCache:l,type:u,appContext:c}=e;let d;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(Qe(s,t))return l[t]=1,s[t];if(o!==i.MZ&&(0,i.$3)(o,t))return l[t]=2,o[t];if((d=e.propsOptions[0])&&(0,i.$3)(d,t))return l[t]=3,a[t];if(n!==i.MZ&&(0,i.$3)(n,t))return l[t]=4,n[t];nt&&(l[t]=0)}}const h=Xe[t];let f,p;return h?("$attrs"===t&&(0,r.u4)(e,"get",t),h(e)):(f=u.__cssModules)&&(f=f[t])?f:n!==i.MZ&&(0,i.$3)(n,t)?(l[t]=4,n[t]):(p=c.config.globalProperties,(0,i.$3)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return Qe(s,t)?(s[t]=n,!0):r!==i.MZ&&(0,i.$3)(r,t)?(r[t]=n,!0):!(0,i.$3)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},a){let l;return!!n[a]||e!==i.MZ&&(0,i.$3)(e,a)||Qe(t,a)||(l=o[0])&&(0,i.$3)(l,a)||(0,i.$3)(r,a)||(0,i.$3)(Xe,a)||(0,i.$3)(s.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.$3)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Je(){return et().slots}function Ze(){return et().attrs}function et(){const e=$n();return e.setupContext||(e.setupContext=tr(e))}function tt(e){return(0,i.cy)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let nt=!0;function rt(e){const t=at(e),n=e.proxy,s=e.ctx;nt=!1,t.beforeCreate&&st(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:u,provide:c,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:E,render:I,renderTracked:T,renderTriggered:C,errorCaptured:S,serverPrefetch:k,expose:A,inheritAttrs:x,components:R,directives:O,filters:N}=t,D=null;if(d&&it(d,s,D),l)for(const r in l){const e=l[r];(0,i.Tn)(e)&&(s[r]=e.bind(n))}if(o){0;const t=o.call(n,n);0,(0,i.Gv)(t)&&(e.data=(0,r.Kh)(t))}if(nt=!0,a)for(const r in a){const e=a[r],t=(0,i.Tn)(e)?e.bind(n,n):(0,i.Tn)(e.get)?e.get.bind(n,n):i.tE;0;const o=!(0,i.Tn)(e)&&(0,i.Tn)(e.set)?e.set.bind(n):i.tE,l=sr({get:t,set:o});Object.defineProperty(s,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const r in u)ot(u[r],s,n,r);if(c){const e=(0,i.Tn)(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{wt(t,e[t])}))}function P(e,t){(0,i.cy)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&st(h,e,"c"),P(Pe,f),P(Le,p),P(Me,m),P(Fe,g),P(Se,v),P(ke,y),P(Ue,S),P(je,T),P($e,C),P(Ve,_),P(Be,E),P(We,k),(0,i.cy)(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});I&&e.render===i.tE&&(e.render=I),null!=x&&(e.inheritAttrs=x),R&&(e.components=R),O&&(e.directives=O)}function it(e,t,n=i.tE){(0,i.cy)(e)&&(e=ht(e));for(const s in e){const n=e[s];let o;o=(0,i.Gv)(n)?"default"in n?Et(n.from||s,n.default,!0):Et(n.from||s):Et(n),(0,r.i9)(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[s]=o}}function st(e,t,n){o((0,i.cy)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function ot(e,t,n,r){const s=r.includes(".")?se(n,r):()=>n[r];if((0,i.Kg)(e)){const n=t[e];(0,i.Tn)(n)&&ne(s,n)}else if((0,i.Tn)(e))ne(s,e.bind(n));else if((0,i.Gv)(e))if((0,i.cy)(e))e.forEach((e=>ot(e,t,n,r)));else{const r=(0,i.Tn)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.Tn)(r)&&ne(s,r,e)}else 0}function at(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,l=o.get(t);let u;return l?u=l:s.length||n||r?(u={},s.length&&s.forEach((e=>lt(u,e,a,!0))),lt(u,t,a)):u=t,(0,i.Gv)(t)&&o.set(t,u),u}function lt(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&lt(e,s,n,!0),i&&i.forEach((t=>lt(e,t,n,!0)));for(const o in t)if(r&&"expose"===o);else{const r=ut[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const ut={data:ct,props:mt,emits:mt,methods:pt,computed:pt,beforeCreate:ft,created:ft,beforeMount:ft,mounted:ft,beforeUpdate:ft,updated:ft,beforeDestroy:ft,beforeUnmount:ft,destroyed:ft,unmounted:ft,activated:ft,deactivated:ft,errorCaptured:ft,serverPrefetch:ft,components:pt,directives:pt,watch:gt,provide:ct,inject:dt};function ct(e,t){return t?e?function(){return(0,i.X$)((0,i.Tn)(e)?e.call(this,this):e,(0,i.Tn)(t)?t.call(this,this):t)}:t:e}function dt(e,t){return pt(ht(e),ht(t))}function ht(e){if((0,i.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ft(e,t){return e?[...new Set([].concat(e,t))]:t}function pt(e,t){return e?(0,i.X$)(Object.create(null),e,t):t}function mt(e,t){return e?(0,i.cy)(e)&&(0,i.cy)(t)?[...new Set([...e,...t])]:(0,i.X$)(Object.create(null),tt(e),tt(null!=t?t:{})):t}function gt(e,t){if(!e)return t;if(!t)return e;const n=(0,i.X$)(Object.create(null),e);for(const r in t)n[r]=ft(e[r],t[r]);return n}function vt(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yt=0;function bt(e,t){return function(n,r=null){(0,i.Tn)(n)||(n=(0,i.X$)({},n)),null==r||(0,i.Gv)(r)||(r=null);const s=vt(),o=new WeakSet;let a=!1;const l=s.app={_uid:yt++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:ar,get config(){return s.config},set config(e){0},use(e,...t){return o.has(e)||(e&&(0,i.Tn)(e.install)?(o.add(e),e.install(l,...t)):(0,i.Tn)(e)&&(o.add(e),e(l,...t))),l},mixin(e){return s.mixins.includes(e)||s.mixins.push(e),l},component(e,t){return t?(s.components[e]=t,l):s.components[e]},directive(e,t){return t?(s.directives[e]=t,l):s.directives[e]},mount(i,o,u){if(!a){0;const c=Sn(n,r);return c.appContext=s,!0===u?u="svg":!1===u&&(u=void 0),o&&t?t(c,i):e(c,i,u),a=!0,l._container=i,i.__vue_app__=l,nr(c.component)||c.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return s.provides[e]=t,l},runWithContext(e){const t=_t;_t=l;try{return e()}finally{_t=t}}};return l}}let _t=null;function wt(e,t){if(Wn){let n=Wn.provides;const r=Wn.parent&&Wn.parent.provides;r===n&&(n=Wn.provides=Object.create(r)),n[e]=t}else 0}function Et(e,t,n=!1){const r=Wn||N;if(r||_t){const s=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:_t._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&(0,i.Tn)(t)?t.call(r&&r.proxy):t}else 0}function It(e,t,n,s=!1){const o={},a={};(0,i.yQ)(a,En,1),e.propsDefaults=Object.create(null),Ct(e,t,o,a);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=s?o:(0,r.Gc)(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function Tt(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,u=(0,r.ux)(o),[c]=e.propsOptions;let d=!1;if(!(s||l>0)||16&l){let r;Ct(e,t,o,a)&&(d=!0);for(const s in u)t&&((0,i.$3)(t,s)||(r=(0,i.Tg)(s))!==s&&(0,i.$3)(t,r))||(c?!n||void 0===n[s]&&void 0===n[r]||(o[s]=St(c,u,s,void 0,e,!0)):delete o[s]);if(a!==u)for(const e in a)t&&(0,i.$3)(t,e)||(delete a[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(O(e.emitsOptions,s))continue;const l=t[s];if(c)if((0,i.$3)(a,s))l!==a[s]&&(a[s]=l,d=!0);else{const t=(0,i.PT)(s);o[t]=St(c,u,t,l,e,!1)}else l!==a[s]&&(a[s]=l,d=!0)}}d&&(0,r.hZ)(e,"set","$attrs")}function Ct(e,t,n,s){const[o,a]=e.propsOptions;let l,u=!1;if(t)for(let r in t){if((0,i.SU)(r))continue;const c=t[r];let d;o&&(0,i.$3)(o,d=(0,i.PT)(r))?a&&a.includes(d)?(l||(l={}))[d]=c:n[d]=c:O(e.emitsOptions,r)||r in s&&c===s[r]||(s[r]=c,u=!0)}if(a){const t=(0,r.ux)(n),s=l||i.MZ;for(let r=0;r<a.length;r++){const l=a[r];n[l]=St(o,t,l,s[l],e,!(0,i.$3)(s,l))}}return u}function St(e,t,n,r,s,o){const a=e[n];if(null!=a){const e=(0,i.$3)(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&!a.skipFactory&&(0,i.Tn)(e)){const{propsDefaults:i}=s;if(n in i)r=i[n];else{const o=zn(s);r=i[n]=e.call(null,t),o()}}else r=e}a[0]&&(o&&!e?r=!1:!a[1]||""!==r&&r!==(0,i.Tg)(n)||(r=!0))}return r}function kt(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,a={},l=[];let u=!1;if(!(0,i.Tn)(e)){const r=e=>{u=!0;const[n,r]=kt(e,t,!0);(0,i.X$)(a,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!o&&!u)return(0,i.Gv)(e)&&r.set(e,i.Oj),i.Oj;if((0,i.cy)(o))for(let d=0;d<o.length;d++){0;const e=(0,i.PT)(o[d]);At(e)&&(a[e]=i.MZ)}else if(o){0;for(const e in o){const t=(0,i.PT)(e);if(At(t)){const n=o[e],r=a[t]=(0,i.cy)(n)||(0,i.Tn)(n)?{type:n}:(0,i.X$)({},n);if(r){const e=Ot(Boolean,r.type),n=Ot(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.$3)(r,"default"))&&l.push(t)}}}}const c=[a,l];return(0,i.Gv)(e)&&r.set(e,c),c}function At(e){return"$"!==e[0]&&!(0,i.SU)(e)}function xt(e){if(null===e)return"null";if("function"===typeof e)return e.name||"";if("object"===typeof e){const t=e.constructor&&e.constructor.name;return t||""}return""}function Rt(e,t){return xt(e)===xt(t)}function Ot(e,t){return(0,i.cy)(t)?t.findIndex((t=>Rt(t,e))):(0,i.Tn)(t)&&Rt(t,e)?0:-1}const Nt=e=>"_"===e[0]||"$stable"===e,Dt=e=>(0,i.cy)(e)?e.map(Nn):[Nn(e)],Pt=(e,t,n)=>{if(t._n)return t;const r=F(((...e)=>Dt(t(...e))),n);return r._c=!1,r},Lt=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Nt(s))continue;const n=e[s];if((0,i.Tn)(n))t[s]=Pt(s,n,r);else if(null!=n){0;const e=Dt(n);t[s]=()=>e}}},Mt=(e,t)=>{const n=Dt(t);e.slots.default=()=>n},Ft=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.ux)(t),(0,i.yQ)(t,"_",n)):Lt(t,e.slots={})}else e.slots={},t&&Mt(e,t);(0,i.yQ)(e.slots,En,1)},Vt=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,a=i.MZ;if(32&r.shapeFlag){const e=t._;e?n&&1===e?o=!1:((0,i.X$)(s,t),n||1!==e||delete s._):(o=!t.$stable,Lt(t,s)),a=t}else t&&(Mt(e,t),a={default:1});if(o)for(const i in s)Nt(i)||null!=a[i]||delete s[i]};function Bt(e,t,n,o,a=!1){if((0,i.cy)(e))return void e.forEach(((e,r)=>Bt(e,t&&((0,i.cy)(t)?t[r]:t),n,o,a)));if(Ie(o)&&!a)return;const l=4&o.shapeFlag?nr(o.component)||o.component.proxy:o.el,u=a?null:l,{i:c,r:d}=e;const h=t&&t.r,f=c.refs===i.MZ?c.refs={}:c.refs,p=c.setupState;if(null!=h&&h!==d&&((0,i.Kg)(h)?(f[h]=null,(0,i.$3)(p,h)&&(p[h]=null)):(0,r.i9)(h)&&(h.value=null)),(0,i.Tn)(d))s(d,c,12,[u,f]);else{const t=(0,i.Kg)(d),s=(0,r.i9)(d);if(t||s){const r=()=>{if(e.f){const n=t?(0,i.$3)(p,d)?p[d]:f[d]:d.value;a?(0,i.cy)(n)&&(0,i.TF)(n,l):(0,i.cy)(n)?n.includes(l)||n.push(l):t?(f[d]=[l],(0,i.$3)(p,d)&&(p[d]=f[d])):(d.value=[l],e.k&&(f[e.k]=d.value))}else t?(f[d]=u,(0,i.$3)(p,d)&&(p[d]=u)):s&&(d.value=u,e.k&&(f[e.k]=u))};u?(r.id=-1,$t(r,n)):r()}else 0}}function Wt(){}const $t=Y;function jt(e){return Ut(e)}function Ut(e,t){Wt();const n=(0,i.We)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:u,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=i.tE,insertStaticContent:g}=e,v=(e,t,n,r=null,i=null,s=null,o=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!wn(e,t)&&(r=J(e),K(e,i,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case ln:y(e,t,n,r);break;case un:b(e,t,n,r);break;case cn:null==e&&w(t,n,r,o);break;case an:P(e,t,n,r,i,s,o,a,l);break;default:1&d?k(e,t,n,r,i,s,o,a,l):6&d?L(e,t,n,r,i,s,o,a,l):(64&d||128&d)&&u.process(e,t,n,r,i,s,o,a,l,te)}null!=c&&i&&Bt(c,e&&e.ref,s,t||e,!t)},y=(e,t,n,r)=>{if(null==e)s(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},b=(e,t,n,r)=>{null==e?s(t.el=c(t.children||""),n,r):t.el=e.el},w=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},I=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),s(e,n,r),e=i;s(t,n,r)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),o(e),e=n;o(t)},k=(e,t,n,r,i,s,o,a,l)=>{"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?A(t,n,r,i,s,o,a,l):O(e,t,i,s,o,a,l)},A=(e,t,n,r,o,u,c,d)=>{let f,p;const{props:m,shapeFlag:g,transition:v,dirs:y}=e;if(f=e.el=l(e.type,u,m&&m.is,m),8&g?h(f,e.children):16&g&&R(e.children,f,null,r,o,zt(e,u),c,d),y&&le(e,null,r,"created"),x(f,e,e.scopeId,c,r),m){for(const t in m)"value"===t||(0,i.SU)(t)||a(f,t,null,m[t],u,e.children,r,o,Y);"value"in m&&a(f,"value",null,m.value,u),(p=m.onVnodeBeforeMount)&&Mn(p,r,e)}y&&le(e,null,r,"beforeMount");const b=Gt(o,v);b&&v.beforeEnter(f),s(f,t,n),((p=m&&m.onVnodeMounted)||b||y)&&$t((()=>{p&&Mn(p,r,e),b&&v.enter(f),y&&le(e,null,r,"mounted")}),o)},x=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let s=0;s<r.length;s++)m(e,r[s]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;x(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},R=(e,t,n,r,i,s,o,a,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=a?Dn(e[u]):Nn(e[u]);v(null,l,t,n,r,i,s,o,a)}},O=(e,t,n,r,s,o,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:f}=t;c|=16&e.patchFlag;const p=e.props||i.MZ,m=t.props||i.MZ;let g;if(n&&qt(n,!1),(g=m.onVnodeBeforeUpdate)&&Mn(g,n,t,e),f&&le(t,e,n,"beforeUpdate"),n&&qt(n,!0),d?N(e.dynamicChildren,d,u,n,r,zt(t,s),o):l||j(e,t,u,null,n,r,zt(t,s),o,!1),c>0){if(16&c)D(u,t,p,m,n,r,s);else if(2&c&&p.class!==m.class&&a(u,"class",null,m.class,s),4&c&&a(u,"style",p.style,m.style,s),8&c){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const o=i[t],l=p[o],c=m[o];c===l&&"value"!==o||a(u,o,l,c,s,e.children,n,r,Y)}}1&c&&e.children!==t.children&&h(u,t.children)}else l||null!=d||D(u,t,p,m,n,r,s);((g=m.onVnodeUpdated)||f)&&$t((()=>{g&&Mn(g,n,t,e),f&&le(t,e,n,"updated")}),r)},N=(e,t,n,r,i,s,o)=>{for(let a=0;a<t.length;a++){const l=e[a],u=t[a],c=l.el&&(l.type===an||!wn(l,u)||70&l.shapeFlag)?f(l.el):n;v(l,u,c,null,r,i,s,o,!0)}},D=(e,t,n,r,s,o,l)=>{if(n!==r){if(n!==i.MZ)for(const u in n)(0,i.SU)(u)||u in r||a(e,u,n[u],null,l,t.children,s,o,Y);for(const u in r){if((0,i.SU)(u))continue;const c=r[u],d=n[u];c!==d&&"value"!==u&&a(e,u,d,c,l,t.children,s,o,Y)}"value"in r&&a(e,"value",n.value,r.value,l)}},P=(e,t,n,r,i,o,a,l,c)=>{const d=t.el=e?e.el:u(""),h=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(s(d,n,r),s(h,n,r),R(t.children||[],n,h,i,o,a,l,c)):f>0&&64&f&&p&&e.dynamicChildren?(N(e.dynamicChildren,p,n,i,o,a,l),(null!=t.key||i&&t===i.subTree)&&Kt(e,t,!0)):j(e,t,n,h,i,o,a,l,c)},L=(e,t,n,r,i,s,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,l):M(t,n,r,i,s,o,l):F(e,t,l)},M=(e,t,n,r,i,s,o)=>{const a=e.component=Bn(e,r,i);if(Te(e)&&(a.ctx.renderer=te),Qn(a),a.asyncDep){if(i&&i.registerDep(a,B),!e.el){const e=a.subTree=Sn(un);b(null,e,t,n)}}else B(a,e,t,n,i,s,o)},F=(e,t,n)=>{const r=t.component=e.component;if($(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void W(r,t,n);r.next=t,E(r.update),r.effect.dirty=!0,r.update()}else t.el=e.el,r.vnode=t},B=(e,t,n,s,o,a,l)=>{const u=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:s,vnode:c}=e;{const n=Xt(e);if(n)return t&&(t.el=c.el,W(e,t,l)),void n.asyncDep.then((()=>{e.isUnmounted||u()}))}let d,h=t;0,qt(e,!1),t?(t.el=c.el,W(e,t,l)):t=c,n&&(0,i.DY)(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&Mn(d,s,t,c),qt(e,!0);const p=V(e);0;const m=e.subTree;e.subTree=p,v(m,p,f(m.el),J(m),e,o,a),t.el=p.el,null===h&&U(e,p.el),r&&$t(r,o),(d=t.props&&t.props.onVnodeUpdated)&&$t((()=>Mn(d,s,t,c)),o)}else{let r;const{el:l,props:u}=t,{bm:c,m:d,parent:h}=e,f=Ie(t);if(qt(e,!1),c&&(0,i.DY)(c),!f&&(r=u&&u.onVnodeBeforeMount)&&Mn(r,h,t),qt(e,!0),l&&re){const n=()=>{e.subTree=V(e),re(l,e.subTree,e,o,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=V(e);0,v(null,r,n,s,e,o,a),t.el=r.el}if(d&&$t(d,o),!f&&(r=u&&u.onVnodeMounted)){const e=t;$t((()=>Mn(r,h,e)),o)}(256&t.shapeFlag||h&&Ie(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&$t(e.a,o),e.isMounted=!0,t=n=s=null}},c=e.effect=new r.X2(u,i.tE,(()=>_(d)),e.scope),d=e.update=()=>{c.dirty&&c.run()};d.id=e.uid,qt(e,!0),d()},W=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,Tt(e,t.props,i,n),Vt(e,t.children,n),(0,r.C4)(),T(e),(0,r.bl)()},j=(e,t,n,r,i,s,o,a,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void q(u,d,n,r,i,s,o,a,l);if(256&f)return void z(u,d,n,r,i,s,o,a,l)}8&p?(16&c&&Y(u,i,s),d!==u&&h(n,d)):16&c?16&p?q(u,d,n,r,i,s,o,a,l):Y(u,i,s,!0):(8&c&&h(n,""),16&p&&R(d,n,r,i,s,o,a,l))},z=(e,t,n,r,s,o,a,l,u)=>{e=e||i.Oj,t=t||i.Oj;const c=e.length,d=t.length,h=Math.min(c,d);let f;for(f=0;f<h;f++){const r=t[f]=u?Dn(t[f]):Nn(t[f]);v(e[f],r,n,null,s,o,a,l,u)}c>d?Y(e,s,o,!0,!1,h):R(t,n,r,s,o,a,l,u,h)},q=(e,t,n,r,s,o,a,l,u)=>{let c=0;const d=t.length;let h=e.length-1,f=d-1;while(c<=h&&c<=f){const r=e[c],i=t[c]=u?Dn(t[c]):Nn(t[c]);if(!wn(r,i))break;v(r,i,n,null,s,o,a,l,u),c++}while(c<=h&&c<=f){const r=e[h],i=t[f]=u?Dn(t[f]):Nn(t[f]);if(!wn(r,i))break;v(r,i,n,null,s,o,a,l,u),h--,f--}if(c>h){if(c<=f){const e=f+1,i=e<d?t[e].el:r;while(c<=f)v(null,t[c]=u?Dn(t[c]):Nn(t[c]),n,i,s,o,a,l,u),c++}}else if(c>f)while(c<=h)K(e[c],s,o,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=f;c++){const e=t[c]=u?Dn(t[c]):Nn(t[c]);null!=e.key&&g.set(e.key,c)}let y,b=0;const _=f-m+1;let w=!1,E=0;const I=new Array(_);for(c=0;c<_;c++)I[c]=0;for(c=p;c<=h;c++){const r=e[c];if(b>=_){K(r,s,o,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(y=m;y<=f;y++)if(0===I[y-m]&&wn(r,t[y])){i=y;break}void 0===i?K(r,s,o,!0):(I[i-m]=c+1,i>=E?E=i:w=!0,v(r,t[i],n,null,s,o,a,l,u),b++)}const T=w?Ht(I):i.Oj;for(y=T.length-1,c=_-1;c>=0;c--){const e=m+c,i=t[e],h=e+1<d?t[e+1].el:r;0===I[c]?v(null,i,n,h,s,o,a,l,u):w&&(y<0||c!==T[y]?G(i,n,h,2):y--)}}},G=(e,t,n,r,i=null)=>{const{el:o,type:a,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void G(e.component.subTree,t,n,r);if(128&c)return void e.suspense.move(t,n,r);if(64&c)return void a.move(e,t,n,te);if(a===an){s(o,t,n);for(let e=0;e<u.length;e++)G(u[e],t,n,r);return void s(e.anchor,t,n)}if(a===cn)return void I(e,t,n);const d=2!==r&&1&c&&l;if(d)if(0===r)l.beforeEnter(o),s(o,t,n),$t((()=>l.enter(o)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,a=()=>s(o,t,n),u=()=>{e(o,(()=>{a(),i&&i()}))};r?r(o,a,u):u()}else s(o,t,n)},K=(e,t,n,r=!1,i=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:h}=e;if(null!=a&&Bt(a,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const f=1&c&&h,p=!Ie(e);let m;if(p&&(m=o&&o.onVnodeBeforeUnmount)&&Mn(m,t,e),6&c)Q(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);f&&le(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,i,te,r):u&&(s!==an||d>0&&64&d)?Y(u,t,n,!1,!0):(s===an&&384&d||!i&&16&c)&&Y(l,t,n),r&&H(e)}(p&&(m=o&&o.onVnodeUnmounted)||f)&&$t((()=>{m&&Mn(m,t,e),f&&le(e,null,t,"unmounted")}),n)},H=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===an)return void X(n,r);if(t===cn)return void S(e);const s=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,s);r?r(e.el,s,o):o()}else s()},X=(e,t)=>{let n;while(e!==t)n=p(e),o(e),e=n;o(t)},Q=(e,t,n)=>{const{bum:r,scope:s,update:o,subTree:a,um:l}=e;r&&(0,i.DY)(r),s.stop(),o&&(o.active=!1,K(a,e,t,n)),l&&$t(l,t),$t((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Y=(e,t,n,r=!1,i=!1,s=0)=>{for(let o=s;o<e.length;o++)K(e[o],t,n,r,i)},J=e=>6&e.shapeFlag?J(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el);let Z=!1;const ee=(e,t,n)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),Z||(Z=!0,T(),C(),Z=!1),t._vnode=e},te={p:v,um:K,m:G,r:H,mt:M,mc:R,pc:j,pbc:N,n:J,o:e};let ne,re;return t&&([ne,re]=t(te)),{render:ee,hydrate:ne,createApp:bt(ee,ne)}}function zt({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Gt(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Kt(e,t,n=!1){const r=e.children,s=t.children;if((0,i.cy)(r)&&(0,i.cy)(s))for(let i=0;i<r.length;i++){const e=r[i];let t=s[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[i]=Dn(s[i]),t.el=e.el),n||Kt(e,t)),t.type===ln&&(t.el=e.el)}}function Ht(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=t[o];return n}function Xt(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Xt(t)}const Qt=e=>e.__isTeleport,Yt=e=>e&&(e.disabled||""===e.disabled),Jt=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Zt=e=>"function"===typeof MathMLElement&&e instanceof MathMLElement,en=(e,t)=>{const n=e&&e.to;if((0,i.Kg)(n)){if(t){const e=t(n);return e}return null}return n},tn={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:g}}=u,v=Yt(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=m(""),u=t.anchor=m("");f(e,n,r),f(u,n,r);const d=t.target=en(t.props,p),h=t.targetAnchor=m("");d&&(f(h,d),"svg"===o||Jt(d)?o="svg":("mathml"===o||Zt(d))&&(o="mathml"));const g=(e,t)=>{16&y&&c(b,e,t,i,s,o,a,l)};v?g(n,u):d&&g(d,h)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,f=t.targetAnchor=e.targetAnchor,m=Yt(e.props),g=m?n:c,y=m?r:f;if("svg"===o||Jt(c)?o="svg":("mathml"===o||Zt(c))&&(o="mathml"),_?(h(e.dynamicChildren,_,g,i,s,o,a),Kt(e,t,!0)):l||d(e,t,g,y,i,s,o,a,!1),v)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):nn(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=en(t.props,p);e&&nn(t,e,null,u,0)}else m&&nn(t,c,f,u,1)}on(t)},remove(e,t,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=e;if(d&&s(c),o&&s(u),16&a){const e=o||!Yt(h);for(let r=0;r<l.length;r++){const s=l[r];i(s,t,n,e,!!s.dynamicChildren)}}},move:nn,hydrate:rn};function nn(e,t,n,{o:{insert:r},m:i},s=2){0===s&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=2===s;if(d&&r(o,t,n),(!d||Yt(c))&&16&l)for(let h=0;h<u.length;h++)i(u[h],t,n,2);d&&r(a,t,n)}function rn(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=en(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(Yt(t.props))t.anchor=u(o(e),t,a(e),n,r,i,s),t.targetAnchor=l;else{t.anchor=o(e);let a=l;while(a)if(a=o(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(l,t,c,n,r,i,s)}on(t)}return t.anchor&&o(t.anchor)}const sn=tn;function on(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;while(n&&n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const an=Symbol.for("v-fgt"),ln=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),cn=Symbol.for("v-stc"),dn=[];let hn=null;function fn(e=!1){dn.push(hn=e?null:[])}function pn(){dn.pop(),hn=dn[dn.length-1]||null}let mn=1;function gn(e){mn+=e}function vn(e){return e.dynamicChildren=mn>0?hn||i.Oj:null,pn(),mn>0&&hn&&hn.push(e),e}function yn(e,t,n,r,i,s){return vn(Cn(e,t,n,r,i,s,!0))}function bn(e,t,n,r,i){return vn(Sn(e,t,n,r,i,!0))}function _n(e){return!!e&&!0===e.__v_isVNode}function wn(e,t){return e.type===t.type&&e.key===t.key}const En="__vInternal",In=({key:e})=>null!=e?e:null,Tn=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,i.Kg)(e)||(0,r.i9)(e)||(0,i.Tn)(e)?{i:N,r:e,k:t,f:!!n}:e:null);function Cn(e,t=null,n=null,r=0,s=null,o=(e===an?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&In(t),ref:t&&Tn(t),scopeId:D,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:N};return l?(Pn(u,n),128&o&&e.normalize(u)):n&&(u.shapeFlag|=(0,i.Kg)(n)?8:16),mn>0&&!a&&hn&&(u.patchFlag>0||6&o)&&32!==u.patchFlag&&hn.push(u),u}const Sn=kn;function kn(e,t=null,n=null,s=0,o=null,a=!1){if(e&&e!==G||(e=un),_n(e)){const r=xn(e,t,!0);return n&&Pn(r,n),mn>0&&!a&&hn&&(6&r.shapeFlag?hn[hn.indexOf(e)]=r:hn.push(r)),r.patchFlag|=-2,r}if(ir(e)&&(e=e.__vccOpts),t){t=An(t);let{class:e,style:n}=t;e&&!(0,i.Kg)(e)&&(t.class=(0,i.C4)(e)),(0,i.Gv)(n)&&((0,r.ju)(n)&&!(0,i.cy)(n)&&(n=(0,i.X$)({},n)),t.style=(0,i.Tr)(n))}const l=(0,i.Kg)(e)?1:Q(e)?128:Qt(e)?64:(0,i.Gv)(e)?4:(0,i.Tn)(e)?2:0;return Cn(e,t,n,s,o,l,a,!0)}function An(e){return e?(0,r.ju)(e)||En in e?(0,i.X$)({},e):e:null}function xn(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,l=t?Ln(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&In(l),ref:t&&t.ref?n&&s?(0,i.cy)(s)?s.concat(Tn(t)):[s,Tn(t)]:Tn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==an?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xn(e.ssContent),ssFallback:e.ssFallback&&xn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u}function Rn(e=" ",t=0){return Sn(ln,null,e,t)}function On(e="",t=!1){return t?(fn(),bn(un,null,e)):Sn(un,null,e)}function Nn(e){return null==e||"boolean"===typeof e?Sn(un):(0,i.cy)(e)?Sn(an,null,e.slice()):"object"===typeof e?Dn(e):Sn(ln,null,String(e))}function Dn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:xn(e)}function Pn(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.cy)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Pn(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||En in t?3===r&&N&&(1===N.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=N}}else(0,i.Tn)(t)?(t={default:t,_ctx:N},n=32):(t=String(t),64&r?(n=16,t=[Rn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ln(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C4)([t.class,r.class]));else if("style"===e)t.style=(0,i.Tr)([t.style,r.style]);else if((0,i.Mp)(e)){const n=t[e],s=r[e];!s||n===s||(0,i.cy)(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=r[e])}return t}function Mn(e,t,n,r=null){o(e,t,7,[n,r])}const Fn=vt();let Vn=0;function Bn(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Fn,a={uid:Vn++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kt(s,o),emitsOptions:R(s,o),emit:null,emitted:null,propsDefaults:i.MZ,inheritAttrs:s.inheritAttrs,ctx:i.MZ,data:i.MZ,props:i.MZ,attrs:i.MZ,slots:i.MZ,refs:i.MZ,setupState:i.MZ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=x.bind(null,a),e.ce&&e.ce(a),a}let Wn=null;const $n=()=>Wn||N;let jn,Un;{const e=(0,i.We)(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach((t=>t(e))):r[0](e)}};jn=t("__VUE_INSTANCE_SETTERS__",(e=>Wn=e)),Un=t("__VUE_SSR_SETTERS__",(e=>Xn=e))}const zn=e=>{const t=Wn;return jn(e),e.scope.on(),()=>{e.scope.off(),jn(t)}},qn=()=>{Wn&&Wn.scope.off(),jn(null)};function Gn(e){return 4&e.vnode.shapeFlag}let Kn,Hn,Xn=!1;function Qn(e,t=!1){t&&Un(t);const{props:n,children:r}=e.vnode,i=Gn(e);It(e,n,i,t),Ft(e,r);const s=i?Yn(e,t):void 0;return t&&Un(!1),s}function Yn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.IG)(new Proxy(e.ctx,Ye));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?tr(e):null,l=zn(e);(0,r.C4)();const u=s(o,e,0,[e.props,n]);if((0,r.bl)(),l(),(0,i.yL)(u)){if(u.then(qn,qn),t)return u.then((n=>{Jn(e,n,t)})).catch((t=>{a(t,e,0)}));e.asyncDep=u}else Jn(e,u,t)}else Zn(e,t)}function Jn(e,t,n){(0,i.Tn)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Gv)(t)&&(e.setupState=(0,r.Pr)(t)),Zn(e,n)}function Zn(e,t,n){const s=e.type;if(!e.render){if(!t&&Kn&&!s.render){const t=s.template||at(e).template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,i.X$)((0,i.X$)({isCustomElement:n,delimiters:o},r),a);s.render=Kn(t,l)}}e.render=s.render||i.tE,Hn&&Hn(e)}{const t=zn(e);(0,r.C4)();try{rt(e)}finally{(0,r.bl)(),t()}}}function er(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return(0,r.u4)(e,"get","$attrs"),t[n]}}))}function tr(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return er(e)},slots:e.slots,emit:e.emit,expose:t}}function nr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.Pr)((0,r.IG)(e.exposed)),{get(t,n){return n in t?t[n]:n in Xe?Xe[n](e):void 0},has(e,t){return t in e||t in Xe}}))}function rr(e,t=!0){return(0,i.Tn)(e)?e.displayName||e.name:e.name||t&&e.__name}function ir(e){return(0,i.Tn)(e)&&"__vccOpts"in e}const sr=(e,t)=>(0,r.EW)(e,t,Xn);function or(e,t,n){const r=arguments.length;return 2===r?(0,i.Gv)(t)&&!(0,i.cy)(t)?_n(t)?Sn(e,null,[t]):Sn(e,t):Sn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&_n(n)&&(n=[n]),Sn(e,t,n))}const ar="3.4.19"},5130:function(e,t,n){n.d(t,{D$:function(){return Ne},Ef:function(){return Ve},Jo:function(){return be},XL:function(){return Ee},aG:function(){return D},eB:function(){return p},hp:function(){return ke},jR:function(){return Pe},lH:function(){return _e},u1:function(){return Ie}});n(4114);var r=n(6768),i=n(4232),s=n(144);
/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1998/Math/MathML",l="undefined"!==typeof document?document:null,u=l&&l.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i="svg"===t?l.createElementNS(o,e):"mathml"===t?l.createElementNS(a,e):l.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>l.createTextNode(e),createComment:e=>l.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>l.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===s||!(i=i.nextSibling))break}else{u.innerHTML="svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e;const i=u.content;if("svg"===r||"mathml"===r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},d="transition",h="animation",f=Symbol("_vtc"),p=(e,{slots:t})=>(0,r.h)(r.pR,b(e),t);p.displayName="Transition";const m={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},g=p.props=(0,i.X$)({},r.QP,m),v=(e,t=[])=>{(0,i.cy)(e)?e.forEach((e=>e(...t))):e&&e(...t)},y=e=>!!e&&((0,i.cy)(e)?e.some((e=>e.length>1)):e.length>1);function b(e){const t={};for(const i in e)i in m||(t[i]=e[i]);if(!1===e.css)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:c=a,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=_(s),b=g&&g[0],w=g&&g[1],{onBeforeEnter:C,onEnter:k,onEnterCancelled:A,onLeave:x,onLeaveCancelled:O,onBeforeAppear:N=C,onAppear:D=k,onAppearCancelled:P=A}=t,L=(e,t,n)=>{I(e,t?d:l),I(e,t?c:a),n&&n()},M=(e,t)=>{e._isLeaving=!1,I(e,h),I(e,p),I(e,f),t&&t()},F=e=>(t,n)=>{const i=e?D:k,s=()=>L(t,e,n);v(i,[t,s]),T((()=>{I(t,e?u:o),E(t,e?d:l),y(i)||S(t,r,b,s)}))};return(0,i.X$)(t,{onBeforeEnter(e){v(C,[e]),E(e,o),E(e,a)},onBeforeAppear(e){v(N,[e]),E(e,u),E(e,c)},onEnter:F(!1),onAppear:F(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>M(e,t);E(e,h),R(),E(e,f),T((()=>{e._isLeaving&&(I(e,h),E(e,p),y(x)||S(e,r,w,n))})),v(x,[e,n])},onEnterCancelled(e){L(e,!1),v(A,[e])},onAppearCancelled(e){L(e,!0),v(P,[e])},onLeaveCancelled(e){M(e),v(O,[e])}})}function _(e){if(null==e)return null;if((0,i.Gv)(e))return[w(e.enter),w(e.leave)];{const t=w(e);return[t,t]}}function w(e){const t=(0,i.Ro)(e);return t}function E(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[f]||(e[f]=new Set)).add(t)}function I(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[f];n&&(n.delete(t),n.size||(e[f]=void 0))}function T(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let C=0;function S(e,t,n,r){const i=e._endId=++C,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=k(e,t);if(!o)return r();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,h),s()},h=t=>{t.target===e&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),a+1),e.addEventListener(u,h)}function k(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(`${d}Delay`),s=r(`${d}Duration`),o=A(i,s),a=r(`${h}Delay`),l=r(`${h}Duration`),u=A(a,l);let c=null,f=0,p=0;t===d?o>0&&(c=d,f=o,p=s.length):t===h?u>0&&(c=h,f=u,p=l.length):(f=Math.max(o,u),c=f>0?o>u?d:h:null,p=c?c===d?s.length:l.length:0);const m=c===d&&/\b(transform|all)(,|$)/.test(r(`${d}Property`).toString());return{type:c,timeout:f,propCount:p,hasTransform:m}}function A(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>x(t)+x(e[n]))))}function x(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function R(){return document.body.offsetHeight}function O(e,t,n){const r=e[f];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const N=Symbol("_vod"),D={beforeMount(e,{value:t},{transition:n}){e[N]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):P(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){(!t!==!n||e.style.display!==e[N]&&t)&&(r?t?(r.beforeEnter(e),P(e,!0),r.enter(e)):r.leave(e,(()=>{P(e,!1)})):P(e,t))},beforeUnmount(e,{value:t}){P(e,t)}};function P(e,t){e.style.display=t?e[N]:"none"}const L=Symbol("");const M=/(^|;)\s*display\s*:/;function F(e,t,n){const r=e.style,s=(0,i.Kg)(n),o=r.display;let a=!1;if(n&&!s){if(t&&!(0,i.Kg)(t))for(const e in t)null==n[e]&&B(r,e,"");for(const e in n)"display"===e&&(a=!0),B(r,e,n[e])}else if(s){if(t!==n){const e=r[L];e&&(n+=";"+e),r.cssText=n,a=M.test(n)}}else t&&e.removeAttribute("style");N in e&&(e[N]=a?r.display:"",r.display=o)}const V=/\s*!important$/;function B(e,t,n){if((0,i.cy)(n))n.forEach((n=>B(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=j(e,t);V.test(n)?e.setProperty((0,i.Tg)(r),n.replace(V,""),"important"):e[r]=n}}const W=["Webkit","Moz","ms"],$={};function j(e,t){const n=$[t];if(n)return n;let r=(0,i.PT)(t);if("filter"!==r&&r in e)return $[t]=r;r=(0,i.ZH)(r);for(let i=0;i<W.length;i++){const n=W[i]+r;if(n in e)return $[t]=n}return t}const U="http://www.w3.org/1999/xlink";function z(e,t,n,r,s){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(U,t.slice(6,t.length)):e.setAttributeNS(U,t,n);else{const r=(0,i.J$)(t);null==n||r&&!(0,i.Y2)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function q(e,t,n,r,s,o,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,s,o),void(e[t]=null==n?"":n);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=n;const r="OPTION"===l?e.getAttribute("value"):e.value,i=null==n?"":n;return r!==i&&(e.value=i),void(null==n&&e.removeAttribute(t))}let u=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,i.Y2)(n):null==n&&"string"===r?(n="",u=!0):"number"===r&&(n=0,u=!0)}try{e[t]=n}catch(c){0}u&&e.removeAttribute(t)}function G(e,t,n,r){e.addEventListener(t,n,r)}function K(e,t,n,r){e.removeEventListener(t,n,r)}const H=Symbol("_vei");function X(e,t,n,r,i=null){const s=e[H]||(e[H]={}),o=s[t];if(r&&o)o.value=r;else{const[n,a]=Y(t);if(r){const o=s[t]=te(r,i);G(e,n,o,a)}else o&&(K(e,n,o,a),s[t]=void 0)}}const Q=/(?:Once|Passive|Capture)$/;function Y(e){let t;if(Q.test(e)){let n;t={};while(n=e.match(Q))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,i.Tg)(e.slice(2));return[n,t]}let J=0;const Z=Promise.resolve(),ee=()=>J||(Z.then((()=>J=0)),J=Date.now());function te(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,r.qL)(ne(e,n.value),t,5,[e])};return n.value=e,n.attached=ee(),n}function ne(e,t){if((0,i.cy)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const re=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ie=(e,t,n,r,s,o,a,l,u)=>{const c="svg"===s;"class"===t?O(e,r,c):"style"===t?F(e,n,r):(0,i.Mp)(t)?(0,i.CP)(t)||X(e,t,n,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):se(e,t,r,c))?q(e,t,r,o,a,l,u):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),z(e,t,r,c))};function se(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&re(t)&&(0,i.Tn)(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!re(t)||!(0,i.Kg)(n))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const oe=new WeakMap,ae=new WeakMap,le=Symbol("_moveCb"),ue=Symbol("_enterCb"),ce={name:"TransitionGroup",props:(0,i.X$)({},g,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.nI)(),i=(0,r.Gy)();let o,a;return(0,r.$u)((()=>{if(!o.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!pe(o[0].el,n.vnode.el,t))return;o.forEach(de),o.forEach(he);const r=o.filter(fe);R(),r.forEach((e=>{const n=e.el,r=n.style;E(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n[le]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n[le]=null,I(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,s.ux)(e),u=b(l);let c=l.tag||r.FK;o=a,a=t.default?(0,r.Df)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,r.MZ)(t,(0,r.OW)(t,u,i,n))}if(o)for(let e=0;e<o.length;e++){const t=o[e];(0,r.MZ)(t,(0,r.OW)(t,u,i,n)),oe.set(t,t.el.getBoundingClientRect())}return(0,r.bF)(c,null,a)}}};ce.props;function de(e){const t=e.el;t[le]&&t[le](),t[ue]&&t[ue]()}function he(e){ae.set(e,e.el.getBoundingClientRect())}function fe(e){const t=oe.get(e),n=ae.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function pe(e,t,n){const r=e.cloneNode(),i=e[f];i&&i.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const s=1===t.nodeType?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=k(r);return s.removeChild(r),o}const me=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,i.cy)(t)?e=>(0,i.DY)(t,e):t};function ge(e){e.target.composing=!0}function ve(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ye=Symbol("_assign"),be={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[ye]=me(s);const o=r||s.props&&"number"===s.props.type;G(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),o&&(r=(0,i.bB)(r)),e[ye](r)})),n&&G(e,"change",(()=>{e.value=e.value.trim()})),t||(G(e,"compositionstart",ge),G(e,"compositionend",ve),G(e,"change",ve))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},o){if(e[ye]=me(o),e.composing)return;const a=s||"number"===e.type?(0,i.bB)(e.value):e.value,l=null==t?"":t;if(a!==l){if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===l)return}e.value=l}}},_e={deep:!0,created(e,t,n){e[ye]=me(n),G(e,"change",(()=>{const t=e._modelValue,n=Ce(e),r=e.checked,s=e[ye];if((0,i.cy)(t)){const e=(0,i.u3)(t,n),o=-1!==e;if(r&&!o)s(t.concat(n));else if(!r&&o){const n=[...t];n.splice(e,1),s(n)}}else if((0,i.vM)(t)){const e=new Set(t);r?e.add(n):e.delete(n),s(e)}else s(Se(e,r))}))},mounted:we,beforeUpdate(e,t,n){e[ye]=me(n),we(e,t,n)}};function we(e,{value:t,oldValue:n},r){e._modelValue=t,(0,i.cy)(t)?e.checked=(0,i.u3)(t,r.props.value)>-1:(0,i.vM)(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=(0,i.BX)(t,Se(e,!0)))}const Ee={created(e,{value:t},n){e.checked=(0,i.BX)(t,n.props.value),e[ye]=me(n),G(e,"change",(()=>{e[ye](Ce(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e[ye]=me(r),t!==n&&(e.checked=(0,i.BX)(t,r.props.value))}},Ie={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=(0,i.vM)(t);G(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?(0,i.bB)(Ce(e)):Ce(e)));e[ye](e.multiple?o?new Set(t):t:t[0]),e._assigning=!0,(0,r.dY)((()=>{e._assigning=!1}))})),e[ye]=me(s)},mounted(e,{value:t,oldValue:n,modifiers:{number:r}}){Te(e,t,n,r)},beforeUpdate(e,t,n){e[ye]=me(n)},updated(e,{value:t,oldValue:n,modifiers:{number:r}}){e._assigning||Te(e,t,n,r)}};function Te(e,t,n,r){const s=e.multiple,o=(0,i.cy)(t);if(!s||o||(0,i.vM)(t)){for(let n=0,a=e.options.length;n<a;n++){const a=e.options[n],l=Ce(a);if(s)if(o){const e=typeof l;a.selected="string"===e||"number"===e?t.includes(r?(0,i.bB)(l):l):(0,i.u3)(t,l)>-1}else a.selected=t.has(l);else if((0,i.BX)(Ce(a),t))return void(e.selectedIndex!==n&&(e.selectedIndex=n))}s||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Ce(e){return"_value"in e?e._value:e.value}function Se(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ke={created(e,t,n){xe(e,t,n,null,"created")},mounted(e,t,n){xe(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){xe(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){xe(e,t,n,r,"updated")}};function Ae(e,t){switch(e){case"SELECT":return Ie;case"TEXTAREA":return be;default:switch(t){case"checkbox":return _e;case"radio":return Ee;default:return be}}}function xe(e,t,n,r,i){const s=Ae(e.tagName,n.props&&n.props.type),o=s[i];o&&o(e,t,n,r)}const Re=["ctrl","shift","alt","meta"],Oe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Re.some((n=>e[`${n}Key`]&&!t.includes(n)))},Ne=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=Oe[t[e]];if(r&&r(n,t))return}return e(n,...r)})},De={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pe=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=(0,i.Tg)(n.key);return t.some((e=>e===r||De[e]===r))?e(n):void 0})},Le=(0,i.X$)({patchProp:ie},c);let Me;function Fe(){return Me||(Me=(0,r.K9)(Le))}const Ve=(...e)=>{const t=Fe().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=We(e);if(!r)return;const s=t._component;(0,i.Tn)(s)||s.render||s.template||(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,Be(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Be(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function We(e){if((0,i.Kg)(e)){const t=document.querySelector(e);return t}return e}},4232:function(e,t,n){n.d(t,{$3:function(){return f},$H:function(){return F},BH:function(){return q},BX:function(){return re},Bm:function(){return w},C4:function(){return Y},CE:function(){return m},CP:function(){return u},DY:function(){return V},Gv:function(){return E},J$:function(){return ee},Kg:function(){return _},MZ:function(){return i},Mp:function(){return l},NO:function(){return a},Oj:function(){return s},PT:function(){return N},Qd:function(){return k},Ro:function(){return $},SU:function(){return x},TF:function(){return d},Tg:function(){return P},Tn:function(){return b},Tr:function(){return G},We:function(){return U},X$:function(){return c},Y2:function(){return te},ZH:function(){return L},Zf:function(){return S},_B:function(){return J},bB:function(){return W},cy:function(){return p},gd:function(){return y},pD:function(){return r},rU:function(){return M},tE:function(){return o},u3:function(){return ie},vM:function(){return g},v_:function(){return se},yI:function(){return A},yL:function(){return I},yQ:function(){return B}});n(4114);
/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function r(e,t){const n=new Set(e.split(","));return t?e=>n.has(e.toLowerCase()):e=>n.has(e)}const i={},s=[],o=()=>{},a=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u=e=>e.startsWith("onUpdate:"),c=Object.assign,d=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,f=(e,t)=>h.call(e,t),p=Array.isArray,m=e=>"[object Map]"===C(e),g=e=>"[object Set]"===C(e),v=e=>"[object Date]"===C(e),y=e=>"[object RegExp]"===C(e),b=e=>"function"===typeof e,_=e=>"string"===typeof e,w=e=>"symbol"===typeof e,E=e=>null!==e&&"object"===typeof e,I=e=>(E(e)||b(e))&&b(e.then)&&b(e.catch),T=Object.prototype.toString,C=e=>T.call(e),S=e=>C(e).slice(8,-1),k=e=>"[object Object]"===C(e),A=e=>_(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,x=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},O=/-(\w)/g,N=R((e=>e.replace(O,((e,t)=>t?t.toUpperCase():"")))),D=/\B([A-Z])/g,P=R((e=>e.replace(D,"-$1").toLowerCase())),L=R((e=>e.charAt(0).toUpperCase()+e.slice(1))),M=R((e=>{const t=e?`on${L(e)}`:"";return t})),F=(e,t)=>!Object.is(e,t),V=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},B=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},W=e=>{const t=parseFloat(e);return isNaN(t)?e:t},$=e=>{const t=_(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const U=()=>j||(j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const z="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",q=r(z);function G(e){if(p(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=_(r)?Q(r):G(r);if(i)for(const e in i)t[e]=i[e]}return t}if(_(e)||E(e))return e}const K=/;(?![^(]*\))/g,H=/:([^]+)/,X=/\/\*[^]*?\*\//g;function Q(e){const t={};return e.replace(X,"").split(K).forEach((e=>{if(e){const n=e.split(H);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Y(e){let t="";if(_(e))t=e;else if(p(e))for(let n=0;n<e.length;n++){const r=Y(e[n]);r&&(t+=r+" ")}else if(E(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function J(e){if(!e)return null;let{class:t,style:n}=e;return t&&!_(t)&&(e.class=Y(t)),n&&(e.style=G(n)),e}const Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ee=r(Z);function te(e){return!!e||""===e}function ne(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=re(e[r],t[r]);return n}function re(e,t){if(e===t)return!0;let n=v(e),r=v(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=w(e),r=w(t),n||r)return e===t;if(n=p(e),r=p(t),n||r)return!(!n||!r)&&ne(e,t);if(n=E(e),r=E(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!re(e[n],t[n]))return!1}}return String(e)===String(t)}function ie(e,t){return e.findIndex((e=>re(e,t)))}const se=e=>_(e)?e:null==e?"":p(e)||E(e)&&(e.toString===T||!b(e.toString))?JSON.stringify(e,oe,2):String(e),oe=(e,t)=>t&&t.__v_isRef?oe(e,t.value):m(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[ae(t,r)+" =>"]=n,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ae(e)))}:w(t)?ae(t):!E(t)||p(t)||k(t)?t:String(t),ae=(e,t="")=>{var n;return w(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},5015:function(e,t,n){n.d(t,{Ay:function(){return Fv}});var r={};n.r(r),n.d(r,{afterMain:function(){return k},afterRead:function(){return T},afterWrite:function(){return R},applyStyles:function(){return B},arrow:function(){return de},auto:function(){return h},basePlacements:function(){return f},beforeMain:function(){return C},beforeRead:function(){return E},beforeWrite:function(){return A},bottom:function(){return u},clippingParents:function(){return g},computeStyles:function(){return ve},createPopper:function(){return pt},createPopperBase:function(){return ht},createPopperLite:function(){return gt},detectOverflow:function(){return Ve},end:function(){return m},eventListeners:function(){return _e},flip:function(){return je},hide:function(){return Ge},left:function(){return d},main:function(){return S},modifierPhases:function(){return O},offset:function(){return Xe},placements:function(){return w},popper:function(){return y},popperGenerator:function(){return dt},popperOffsets:function(){return Ye},preventOverflow:function(){return et},read:function(){return I},reference:function(){return b},right:function(){return c},start:function(){return p},top:function(){return l},variationPlacements:function(){return _},viewport:function(){return v},write:function(){return x}});n(4114);var i=n(144),s=n(6768),o=n(4232),a=n(5130),l="top",u="bottom",c="right",d="left",h="auto",f=[l,u,c,d],p="start",m="end",g="clippingParents",v="viewport",y="popper",b="reference",_=f.reduce((function(e,t){return e.concat([t+"-"+p,t+"-"+m])}),[]),w=[].concat(f,[h]).reduce((function(e,t){return e.concat([t,t+"-"+p,t+"-"+m])}),[]),E="beforeRead",I="read",T="afterRead",C="beforeMain",S="main",k="afterMain",A="beforeWrite",x="write",R="afterWrite",O=[E,I,T,C,S,k,A,x,R];function N(e){return e?(e.nodeName||"").toLowerCase():null}function D(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function P(e){var t=D(e).Element;return e instanceof t||e instanceof Element}function L(e){var t=D(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function M(e){if("undefined"===typeof ShadowRoot)return!1;var t=D(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function F(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];L(i)&&N(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function V(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),o=s.reduce((function(e,t){return e[t]="",e}),{});L(r)&&N(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var B={name:"applyStyles",enabled:!0,phase:"write",fn:F,effect:V,requires:["computeStyles"]};function W(e){return e.split("-")[0]}var $=Math.max,j=Math.min,U=Math.round;function z(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function q(){return!/^((?!chrome|android).)*safari/i.test(z())}function G(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&L(e)&&(i=e.offsetWidth>0&&U(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&U(r.height)/e.offsetHeight||1);var o=P(e)?D(e):window,a=o.visualViewport,l=!q()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function K(e){var t=G(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function H(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&M(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function X(e){return D(e).getComputedStyle(e)}function Q(e){return["table","td","th"].indexOf(N(e))>=0}function Y(e){return((P(e)?e.ownerDocument:e.document)||window.document).documentElement}function J(e){return"html"===N(e)?e:e.assignedSlot||e.parentNode||(M(e)?e.host:null)||Y(e)}function Z(e){return L(e)&&"fixed"!==X(e).position?e.offsetParent:null}function ee(e){var t=/firefox/i.test(z()),n=/Trident/i.test(z());if(n&&L(e)){var r=X(e);if("fixed"===r.position)return null}var i=J(e);M(i)&&(i=i.host);while(L(i)&&["html","body"].indexOf(N(i))<0){var s=X(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}function te(e){var t=D(e),n=Z(e);while(n&&Q(n)&&"static"===X(n).position)n=Z(n);return n&&("html"===N(n)||"body"===N(n)&&"static"===X(n).position)?t:n||ee(e)||t}function ne(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function re(e,t,n){return $(e,j(t,n))}function ie(e,t,n){var r=re(e,t,n);return r>n?n:r}function se(){return{top:0,right:0,bottom:0,left:0}}function oe(e){return Object.assign({},se(),e)}function ae(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var le=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,oe("number"!==typeof e?e:ae(e,f))};function ue(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=W(n.placement),h=ne(a),f=[d,c].indexOf(a)>=0,p=f?"height":"width";if(s&&o){var m=le(i.padding,n),g=K(s),v="y"===h?l:d,y="y"===h?u:c,b=n.rects.reference[p]+n.rects.reference[h]-o[h]-n.rects.popper[p],_=o[h]-n.rects.reference[h],w=te(s),E=w?"y"===h?w.clientHeight||0:w.clientWidth||0:0,I=b/2-_/2,T=m[v],C=E-g[p]-m[y],S=E/2-g[p]/2+I,k=re(T,S,C),A=h;n.modifiersData[r]=(t={},t[A]=k,t.centerOffset=k-S,t)}}function ce(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i),i))&&H(t.elements.popper,i)&&(t.elements.arrow=i)}var de={name:"arrow",enabled:!0,phase:"main",fn:ue,effect:ce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function he(e){return e.split("-")[1]}var fe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pe(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:U(n*i)/i||0,y:U(r*i)/i||0}}function me(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,h=e.gpuAcceleration,f=e.adaptive,p=e.roundOffsets,g=e.isFixed,v=o.x,y=void 0===v?0:v,b=o.y,_=void 0===b?0:b,w="function"===typeof p?p({x:y,y:_}):{x:y,y:_};y=w.x,_=w.y;var E=o.hasOwnProperty("x"),I=o.hasOwnProperty("y"),T=d,C=l,S=window;if(f){var k=te(n),A="clientHeight",x="clientWidth";if(k===D(n)&&(k=Y(n),"static"!==X(k).position&&"absolute"===a&&(A="scrollHeight",x="scrollWidth")),i===l||(i===d||i===c)&&s===m){C=u;var R=g&&k===S&&S.visualViewport?S.visualViewport.height:k[A];_-=R-r.height,_*=h?1:-1}if(i===d||(i===l||i===u)&&s===m){T=c;var O=g&&k===S&&S.visualViewport?S.visualViewport.width:k[x];y-=O-r.width,y*=h?1:-1}}var N,P=Object.assign({position:a},f&&fe),L=!0===p?pe({x:y,y:_},D(n)):{x:y,y:_};return y=L.x,_=L.y,h?Object.assign({},P,(N={},N[C]=I?"0":"",N[T]=E?"0":"",N.transform=(S.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",N)):Object.assign({},P,(t={},t[C]=I?_+"px":"",t[T]=E?y+"px":"",t.transform="",t))}function ge(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,u={placement:W(t.placement),variation:he(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,me(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,me(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ve={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ge,data:{}},ye={passive:!0};function be(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,l=D(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",n.update,ye)})),a&&l.addEventListener("resize",n.update,ye),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",n.update,ye)})),a&&l.removeEventListener("resize",n.update,ye)}}var _e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:be,data:{}},we={left:"right",right:"left",bottom:"top",top:"bottom"};function Ee(e){return e.replace(/left|right|bottom|top/g,(function(e){return we[e]}))}var Ie={start:"end",end:"start"};function Te(e){return e.replace(/start|end/g,(function(e){return Ie[e]}))}function Ce(e){var t=D(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Se(e){return G(Y(e)).left+Ce(e).scrollLeft}function ke(e,t){var n=D(e),r=Y(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=q();(u||!u&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Se(e),y:l}}function Ae(e){var t,n=Y(e),r=Ce(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=$(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=$(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Se(e),l=-r.scrollTop;return"rtl"===X(i||n).direction&&(a+=$(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function xe(e){var t=X(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Re(e){return["html","body","#document"].indexOf(N(e))>=0?e.ownerDocument.body:L(e)&&xe(e)?e:Re(J(e))}function Oe(e,t){var n;void 0===t&&(t=[]);var r=Re(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=D(r),o=i?[s].concat(s.visualViewport||[],xe(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Oe(J(o)))}function Ne(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function De(e,t){var n=G(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Pe(e,t,n){return t===v?Ne(ke(e,n)):P(t)?De(t,n):Ne(Ae(Y(e)))}function Le(e){var t=Oe(J(e)),n=["absolute","fixed"].indexOf(X(e).position)>=0,r=n&&L(e)?te(e):e;return P(r)?t.filter((function(e){return P(e)&&H(e,r)&&"body"!==N(e)})):[]}function Me(e,t,n,r){var i="clippingParents"===t?Le(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce((function(t,n){var i=Pe(e,n,r);return t.top=$(i.top,t.top),t.right=j(i.right,t.right),t.bottom=j(i.bottom,t.bottom),t.left=$(i.left,t.left),t}),Pe(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Fe(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?W(i):null,o=i?he(i):null,a=n.x+n.width/2-r.width/2,h=n.y+n.height/2-r.height/2;switch(s){case l:t={x:a,y:n.y-r.height};break;case u:t={x:a,y:n.y+n.height};break;case c:t={x:n.x+n.width,y:h};break;case d:t={x:n.x-r.width,y:h};break;default:t={x:n.x,y:n.y}}var f=s?ne(s):null;if(null!=f){var g="y"===f?"height":"width";switch(o){case p:t[f]=t[f]-(n[g]/2-r[g]/2);break;case m:t[f]=t[f]+(n[g]/2-r[g]/2);break;default:}}return t}function Ve(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.strategy,o=void 0===s?e.strategy:s,a=n.boundary,d=void 0===a?g:a,h=n.rootBoundary,p=void 0===h?v:h,m=n.elementContext,_=void 0===m?y:m,w=n.altBoundary,E=void 0!==w&&w,I=n.padding,T=void 0===I?0:I,C=oe("number"!==typeof T?T:ae(T,f)),S=_===y?b:y,k=e.rects.popper,A=e.elements[E?S:_],x=Me(P(A)?A:A.contextElement||Y(e.elements.popper),d,p,o),R=G(e.elements.reference),O=Fe({reference:R,element:k,strategy:"absolute",placement:i}),N=Ne(Object.assign({},k,O)),D=_===y?N:R,L={top:x.top-D.top+C.top,bottom:D.bottom-x.bottom+C.bottom,left:x.left-D.left+C.left,right:D.right-x.right+C.right},M=e.modifiersData.offset;if(_===y&&M){var F=M[i];Object.keys(L).forEach((function(e){var t=[c,u].indexOf(e)>=0?1:-1,n=[l,u].indexOf(e)>=0?"y":"x";L[e]+=F[n]*t}))}return L}function Be(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?w:l,c=he(r),d=c?a?_:_.filter((function(e){return he(e)===c})):f,h=d.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Ve(e,{placement:n,boundary:i,rootBoundary:s,padding:o})[W(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}function We(e){if(W(e)===h)return[];var t=Ee(e);return[Te(e),t,Te(t)]}function $e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0===o||o,f=n.fallbackPlacements,m=n.padding,g=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,_=void 0===b||b,w=n.allowedAutoPlacements,E=t.options.placement,I=W(E),T=I===E,C=f||(T||!_?[Ee(E)]:We(E)),S=[E].concat(C).reduce((function(e,n){return e.concat(W(n)===h?Be(t,{placement:n,boundary:g,rootBoundary:v,padding:m,flipVariations:_,allowedAutoPlacements:w}):n)}),[]),k=t.rects.reference,A=t.rects.popper,x=new Map,R=!0,O=S[0],N=0;N<S.length;N++){var D=S[N],P=W(D),L=he(D)===p,M=[l,u].indexOf(P)>=0,F=M?"width":"height",V=Ve(t,{placement:D,boundary:g,rootBoundary:v,altBoundary:y,padding:m}),B=M?L?c:d:L?u:l;k[F]>A[F]&&(B=Ee(B));var $=Ee(B),j=[];if(s&&j.push(V[P]<=0),a&&j.push(V[B]<=0,V[$]<=0),j.every((function(e){return e}))){O=D,R=!1;break}x.set(D,j)}if(R)for(var U=_?3:1,z=function(e){var t=S.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},q=U;q>0;q--){var G=z(q);if("break"===G)break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}var je={name:"flip",enabled:!0,phase:"main",fn:$e,requiresIfExists:["offset"],data:{_skip:!1}};function Ue(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ze(e){return[l,c,u,d].some((function(t){return e[t]>=0}))}function qe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Ve(t,{elementContext:"reference"}),a=Ve(t,{altBoundary:!0}),l=Ue(o,r),u=Ue(a,i,s),c=ze(l),d=ze(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var Ge={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qe};function Ke(e,t,n){var r=W(e),i=[d,l].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[d,c].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function He(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,o=w.reduce((function(e,n){return e[n]=Ke(n,t.rects,s),e}),{}),a=o[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}var Xe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:He};function Qe(e){var t=e.state,n=e.name;t.modifiersData[n]=Fe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Ye={name:"popperOffsets",enabled:!0,phase:"read",fn:Qe,data:{}};function Je(e){return"x"===e?"y":"x"}function Ze(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0!==o&&o,h=n.boundary,f=n.rootBoundary,m=n.altBoundary,g=n.padding,v=n.tether,y=void 0===v||v,b=n.tetherOffset,_=void 0===b?0:b,w=Ve(t,{boundary:h,rootBoundary:f,padding:g,altBoundary:m}),E=W(t.placement),I=he(t.placement),T=!I,C=ne(E),S=Je(C),k=t.modifiersData.popperOffsets,A=t.rects.reference,x=t.rects.popper,R="function"===typeof _?_(Object.assign({},t.rects,{placement:t.placement})):_,O="number"===typeof R?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(k){if(s){var P,L="y"===C?l:d,M="y"===C?u:c,F="y"===C?"height":"width",V=k[C],B=V+w[L],U=V-w[M],z=y?-x[F]/2:0,q=I===p?A[F]:x[F],G=I===p?-x[F]:-A[F],H=t.elements.arrow,X=y&&H?K(H):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:se(),Y=Q[L],J=Q[M],Z=re(0,A[F],X[F]),ee=T?A[F]/2-z-Z-Y-O.mainAxis:q-Z-Y-O.mainAxis,oe=T?-A[F]/2+z+Z+J+O.mainAxis:G+Z+J+O.mainAxis,ae=t.elements.arrow&&te(t.elements.arrow),le=ae?"y"===C?ae.clientTop||0:ae.clientLeft||0:0,ue=null!=(P=null==N?void 0:N[C])?P:0,ce=V+ee-ue-le,de=V+oe-ue,fe=re(y?j(B,ce):B,V,y?$(U,de):U);k[C]=fe,D[C]=fe-V}if(a){var pe,me="x"===C?l:d,ge="x"===C?u:c,ve=k[S],ye="y"===S?"height":"width",be=ve+w[me],_e=ve-w[ge],we=-1!==[l,d].indexOf(E),Ee=null!=(pe=null==N?void 0:N[S])?pe:0,Ie=we?be:ve-A[ye]-x[ye]-Ee+O.altAxis,Te=we?ve+A[ye]+x[ye]-Ee-O.altAxis:_e,Ce=y&&we?ie(Ie,ve,Te):re(y?Ie:be,ve,y?Te:_e);k[S]=Ce,D[S]=Ce-ve}t.modifiersData[r]=D}}var et={name:"preventOverflow",enabled:!0,phase:"main",fn:Ze,requiresIfExists:["offset"]};function tt(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function nt(e){return e!==D(e)&&L(e)?tt(e):Ce(e)}function rt(e){var t=e.getBoundingClientRect(),n=U(t.width)/e.offsetWidth||1,r=U(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function it(e,t,n){void 0===n&&(n=!1);var r=L(t),i=L(t)&&rt(t),s=Y(t),o=G(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==N(t)||xe(s))&&(a=nt(t)),L(t)?(l=G(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Se(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function st(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var s=[].concat(e.requires||[],e.requiresIfExists||[]);s.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ot(e){var t=st(e);return O.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function at(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function lt(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var ut={placement:"bottom",modifiers:[],strategy:"absolute"};function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function dt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?ut:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ut,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,l={state:i,setOptions:function(n){var o="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},s,i.options,o),i.scrollParents={reference:P(e)?Oe(e):e.contextElement?Oe(e.contextElement):[],popper:Oe(t)};var a=ot(lt([].concat(r,i.options.modifiers)));return i.orderedModifiers=a.filter((function(e){return e.enabled})),u(),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(ct(t,n)){i.rects={reference:it(t,te(n),"fixed"===i.options.strategy),popper:K(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],o=s.fn,u=s.options,c=void 0===u?{}:u,d=s.name;"function"===typeof o&&(i=o({state:i,options:c,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:at((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!ct(e,t))return l;function u(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var a=s({state:i,name:t,instance:l,options:r}),u=function(){};o.push(a||u)}}))}function c(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var ht=dt(),ft=[_e,Ye,ve,B,Xe,je,et,de,Ge],pt=dt({defaultModifiers:ft}),mt=[_e,Ye,ve,B],gt=dt({defaultModifiers:mt});
/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
const vt=new Map,yt={set(e,t,n){vt.has(e)||vt.set(e,new Map);const r=vt.get(e);r.has(t)||0===r.size?r.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get(e,t){return vt.has(e)&&vt.get(e).get(t)||null},remove(e,t){if(!vt.has(e))return;const n=vt.get(e);n.delete(t),0===n.size&&vt.delete(e)}},bt=1e6,_t=1e3,wt="transitionend",Et=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),It=e=>null===e||void 0===e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Tt=e=>{do{e+=Math.floor(Math.random()*bt)}while(document.getElementById(e));return e},Ct=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*_t):0},St=e=>{e.dispatchEvent(new Event(wt))},kt=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),At=e=>kt(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(Et(e)):null,xt=e=>{if(!kt(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},Rt=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),Ot=e=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Ot(e.parentNode):null},Nt=()=>{},Dt=e=>{e.offsetHeight},Pt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Lt=[],Mt=e=>{"loading"===document.readyState?(Lt.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of Lt)e()})),Lt.push(e)):e()},Ft=()=>"rtl"===document.documentElement.dir,Vt=e=>{Mt((()=>{const t=Pt();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}}))},Bt=(e,t=[],n=e)=>"function"===typeof e?e(...t):n,Wt=(e,t,n=!0)=>{if(!n)return void Bt(e);const r=5,i=Ct(t)+r;let s=!1;const o=({target:n})=>{n===t&&(s=!0,t.removeEventListener(wt,o),Bt(e))};t.addEventListener(wt,o),setTimeout((()=>{s||St(t)}),i)},$t=(e,t,n,r)=>{const i=e.length;let s=e.indexOf(t);return-1===s?!n&&r?e[i-1]:e[0]:(s+=n?1:-1,r&&(s=(s+i)%i),e[Math.max(0,Math.min(s,i-1))])},jt=/[^.]*(?=\..*)\.|.*/,Ut=/\..*/,zt=/::\d+$/,qt={};let Gt=1;const Kt={mouseenter:"mouseover",mouseleave:"mouseout"},Ht=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Xt(e,t){return t&&`${t}::${Gt++}`||e.uidEvent||Gt++}function Qt(e){const t=Xt(e);return e.uidEvent=t,qt[t]=qt[t]||{},qt[t]}function Yt(e,t){return function n(r){return an(r,{delegateTarget:e}),n.oneOff&&on.off(e,r.type,t),t.apply(e,[r])}}function Jt(e,t,n){return function r(i){const s=e.querySelectorAll(t);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return an(i,{delegateTarget:o}),r.oneOff&&on.off(e,i.type,t,n),n.apply(o,[i])}}function Zt(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function en(e,t,n){const r="string"===typeof t,i=r?n:t||n;let s=sn(e);return Ht.has(s)||(s=e),[r,i,s]}function tn(e,t,n,r,i){if("string"!==typeof t||!e)return;let[s,o,a]=en(t,n,r);if(t in Kt){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};o=e(o)}const l=Qt(e),u=l[a]||(l[a]={}),c=Zt(u,o,s?n:null);if(c)return void(c.oneOff=c.oneOff&&i);const d=Xt(o,t.replace(jt,"")),h=s?Jt(e,n,o):Yt(e,o);h.delegationSelector=s?n:null,h.callable=o,h.oneOff=i,h.uidEvent=d,u[d]=h,e.addEventListener(a,h,s)}function nn(e,t,n,r,i){const s=Zt(t[n],r,i);s&&(e.removeEventListener(n,s,Boolean(i)),delete t[n][s.uidEvent])}function rn(e,t,n,r){const i=t[n]||{};for(const[s,o]of Object.entries(i))s.includes(r)&&nn(e,t,n,o.callable,o.delegationSelector)}function sn(e){return e=e.replace(Ut,""),Kt[e]||e}const on={on(e,t,n,r){tn(e,t,n,r,!1)},one(e,t,n,r){tn(e,t,n,r,!0)},off(e,t,n,r){if("string"!==typeof t||!e)return;const[i,s,o]=en(t,n,r),a=o!==t,l=Qt(e),u=l[o]||{},c=t.startsWith(".");if("undefined"===typeof s){if(c)for(const n of Object.keys(l))rn(e,l,n,t.slice(1));for(const[n,r]of Object.entries(u)){const i=n.replace(zt,"");a&&!t.includes(i)||nn(e,l,o,r.callable,r.delegationSelector)}}else{if(!Object.keys(u).length)return;nn(e,l,o,s,i?n:null)}},trigger(e,t,n){if("string"!==typeof t||!e)return null;const r=Pt(),i=sn(t),s=t!==i;let o=null,a=!0,l=!0,u=!1;s&&r&&(o=r.Event(t,n),r(e).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),u=o.isDefaultPrevented());const c=an(new Event(t,{bubbles:a,cancelable:!0}),n);return u&&c.preventDefault(),l&&e.dispatchEvent(c),c.defaultPrevented&&o&&o.preventDefault(),c}};function an(e,t={}){for(const[r,i]of Object.entries(t))try{e[r]=i}catch(n){Object.defineProperty(e,r,{configurable:!0,get(){return i}})}return e}function ln(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!==typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function un(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const cn={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${un(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${un(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=ln(e.dataset[r])}return t},getDataAttribute(e,t){return ln(e.getAttribute(`data-bs-${un(t)}`))}};class dn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=kt(t)?cn.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"===typeof n?n:{},...kt(t)?cn.getDataAttributes(t):{},..."object"===typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,r]of Object.entries(t)){const t=e[n],i=kt(t)?"element":It(t);if(!new RegExp(r).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${r}".`)}}}const hn="5.3.3";class fn extends dn{constructor(e,t){super(),e=At(e),e&&(this._element=e,this._config=this._getConfig(t),yt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){yt.remove(this._element,this.constructor.DATA_KEY),on.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){Wt(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return yt.get(At(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}static get VERSION(){return hn}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const pn=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t?t.split(",").map((e=>Et(e))).join(","):null},mn={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter((e=>e.matches(t)))},parents(e,t){const n=[];let r=e.parentNode.closest(t);while(r)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;while(n){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;while(n){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!Rt(e)&&xt(e)))},getSelectorFromElement(e){const t=pn(e);return t&&mn.findOne(t)?t:null},getElementFromSelector(e){const t=pn(e);return t?mn.findOne(t):null},getMultipleElementsFromSelector(e){const t=pn(e);return t?mn.find(t):[]}},gn=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;on.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Rt(this))return;const i=mn.getElementFromSelector(this)||this.closest(`.${r}`),s=e.getOrCreateInstance(i);s[t]()}))},vn="alert",yn="bs.alert",bn=`.${yn}`,_n=`close${bn}`,wn=`closed${bn}`,En="fade",In="show";class Tn extends fn{static get NAME(){return vn}close(){const e=on.trigger(this._element,_n);if(e.defaultPrevented)return;this._element.classList.remove(In);const t=this._element.classList.contains(En);this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),on.trigger(this._element,wn),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=Tn.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}gn(Tn,"close"),Vt(Tn);const Cn="button",Sn="bs.button",kn=`.${Sn}`,An=".data-api",xn="active",Rn='[data-bs-toggle="button"]',On=`click${kn}${An}`;class Nn extends fn{static get NAME(){return Cn}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(xn))}static jQueryInterface(e){return this.each((function(){const t=Nn.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}on.on(document,On,Rn,(e=>{e.preventDefault();const t=e.target.closest(Rn),n=Nn.getOrCreateInstance(t);n.toggle()})),Vt(Nn);const Dn="swipe",Pn=".bs.swipe",Ln=`touchstart${Pn}`,Mn=`touchmove${Pn}`,Fn=`touchend${Pn}`,Vn=`pointerdown${Pn}`,Bn=`pointerup${Pn}`,Wn="touch",$n="pen",jn="pointer-event",Un=40,zn={endCallback:null,leftCallback:null,rightCallback:null},qn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Gn extends dn{constructor(e,t){super(),this._element=e,e&&Gn.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return zn}static get DefaultType(){return qn}static get NAME(){return Dn}dispose(){on.off(this._element,Pn)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Bt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Un)return;const t=e/this._deltaX;this._deltaX=0,t&&Bt(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(on.on(this._element,Vn,(e=>this._start(e))),on.on(this._element,Bn,(e=>this._end(e))),this._element.classList.add(jn)):(on.on(this._element,Ln,(e=>this._start(e))),on.on(this._element,Mn,(e=>this._move(e))),on.on(this._element,Fn,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===$n||e.pointerType===Wn)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Kn="carousel",Hn="bs.carousel",Xn=`.${Hn}`,Qn=".data-api",Yn="ArrowLeft",Jn="ArrowRight",Zn=500,er="next",tr="prev",nr="left",rr="right",ir=`slide${Xn}`,sr=`slid${Xn}`,or=`keydown${Xn}`,ar=`mouseenter${Xn}`,lr=`mouseleave${Xn}`,ur=`dragstart${Xn}`,cr=`load${Xn}${Qn}`,dr=`click${Xn}${Qn}`,hr="carousel",fr="active",pr="slide",mr="carousel-item-end",gr="carousel-item-start",vr="carousel-item-next",yr="carousel-item-prev",br=".active",_r=".carousel-item",wr=br+_r,Er=".carousel-item img",Ir=".carousel-indicators",Tr="[data-bs-slide], [data-bs-slide-to]",Cr='[data-bs-ride="carousel"]',Sr={[Yn]:rr,[Jn]:nr},kr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ar={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xr extends fn{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=mn.findOne(Ir,this._element),this._addEventListeners(),this._config.ride===hr&&this.cycle()}static get Default(){return kr}static get DefaultType(){return Ar}static get NAME(){return Kn}next(){this._slide(er)}nextWhenVisible(){!document.hidden&&xt(this._element)&&this.next()}prev(){this._slide(tr)}pause(){this._isSliding&&St(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?on.one(this._element,sr,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void on.one(this._element,sr,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const r=e>n?er:tr;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&on.on(this._element,or,(e=>this._keydown(e))),"hover"===this._config.pause&&(on.on(this._element,ar,(()=>this.pause())),on.on(this._element,lr,(()=>this._maybeEnableCycle()))),this._config.touch&&Gn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of mn.find(Er,this._element))on.on(n,ur,(e=>e.preventDefault()));const e=()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),Zn+this._config.interval))},t={leftCallback:()=>this._slide(this._directionToOrder(nr)),rightCallback:()=>this._slide(this._directionToOrder(rr)),endCallback:e};this._swipeHelper=new Gn(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Sr[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=mn.findOne(br,this._indicatorsElement);t.classList.remove(fr),t.removeAttribute("aria-current");const n=mn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(fr),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),r=e===er,i=t||$t(this._getItems(),n,r,this._config.wrap);if(i===n)return;const s=this._getItemIndex(i),o=t=>on.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:s}),a=o(ir);if(a.defaultPrevented)return;if(!n||!i)return;const l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=i;const u=r?gr:mr,c=r?vr:yr;i.classList.add(c),Dt(i),n.classList.add(u),i.classList.add(u);const d=()=>{i.classList.remove(u,c),i.classList.add(fr),n.classList.remove(fr,c,u),this._isSliding=!1,o(sr)};this._queueCallback(d,n,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(pr)}_getActive(){return mn.findOne(wr,this._element)}_getItems(){return mn.find(_r,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ft()?e===nr?tr:er:e===nr?er:tr}_orderToDirection(e){return Ft()?e===tr?nr:rr:e===tr?rr:nr}static jQueryInterface(e){return this.each((function(){const t=xr.getOrCreateInstance(this,e);if("number"!==typeof e){if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}on.on(document,dr,Tr,(function(e){const t=mn.getElementFromSelector(this);if(!t||!t.classList.contains(hr))return;e.preventDefault();const n=xr.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===cn.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),on.on(window,cr,(()=>{const e=mn.find(Cr);for(const t of e)xr.getOrCreateInstance(t)})),Vt(xr);const Rr="collapse",Or="bs.collapse",Nr=`.${Or}`,Dr=".data-api",Pr=`show${Nr}`,Lr=`shown${Nr}`,Mr=`hide${Nr}`,Fr=`hidden${Nr}`,Vr=`click${Nr}${Dr}`,Br="show",Wr="collapse",$r="collapsing",jr="collapsed",Ur=`:scope .${Wr} .${Wr}`,zr="collapse-horizontal",qr="width",Gr="height",Kr=".collapse.show, .collapse.collapsing",Hr='[data-bs-toggle="collapse"]',Xr={parent:null,toggle:!0},Qr={parent:"(null|element)",toggle:"boolean"};class Yr extends fn{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=mn.find(Hr);for(const r of n){const e=mn.getSelectorFromElement(r),t=mn.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Xr}static get DefaultType(){return Qr}static get NAME(){return Rr}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Kr).filter((e=>e!==this._element)).map((e=>Yr.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;const t=on.trigger(this._element,Pr);if(t.defaultPrevented)return;for(const o of e)o.hide();const n=this._getDimension();this._element.classList.remove(Wr),this._element.classList.add($r),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove($r),this._element.classList.add(Wr,Br),this._element.style[n]="",on.trigger(this._element,Lr)},i=n[0].toUpperCase()+n.slice(1),s=`scroll${i}`;this._queueCallback(r,this._element,!0),this._element.style[n]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const e=on.trigger(this._element,Mr);if(e.defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Dt(this._element),this._element.classList.add($r),this._element.classList.remove(Wr,Br);for(const r of this._triggerArray){const e=mn.getElementFromSelector(r);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove($r),this._element.classList.add(Wr),on.trigger(this._element,Fr)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Br)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=At(e.parent),e}_getDimension(){return this._element.classList.contains(zr)?qr:Gr}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Hr);for(const t of e){const e=mn.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=mn.find(Ur,this._config.parent);return mn.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(jr,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=Yr.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}on.on(document,Vr,Hr,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of mn.getMultipleElementsFromSelector(this))Yr.getOrCreateInstance(t,{toggle:!1}).toggle()})),Vt(Yr);const Jr="dropdown",Zr="bs.dropdown",ei=`.${Zr}`,ti=".data-api",ni="Escape",ri="Tab",ii="ArrowUp",si="ArrowDown",oi=2,ai=`hide${ei}`,li=`hidden${ei}`,ui=`show${ei}`,ci=`shown${ei}`,di=`click${ei}${ti}`,hi=`keydown${ei}${ti}`,fi=`keyup${ei}${ti}`,pi="show",mi="dropup",gi="dropend",vi="dropstart",yi="dropup-center",bi="dropdown-center",_i='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',wi=`${_i}.${pi}`,Ei=".dropdown-menu",Ii=".navbar",Ti=".navbar-nav",Ci=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Si=Ft()?"top-end":"top-start",ki=Ft()?"top-start":"top-end",Ai=Ft()?"bottom-end":"bottom-start",xi=Ft()?"bottom-start":"bottom-end",Ri=Ft()?"left-start":"right-start",Oi=Ft()?"right-start":"left-start",Ni="top",Di="bottom",Pi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Li={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Mi extends fn{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=mn.next(this._element,Ei)[0]||mn.prev(this._element,Ei)[0]||mn.findOne(Ei,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Pi}static get DefaultType(){return Li}static get NAME(){return Jr}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Rt(this._element)||this._isShown())return;const e={relatedTarget:this._element},t=on.trigger(this._element,ui,e);if(!t.defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ti))for(const e of[].concat(...document.body.children))on.on(e,"mouseover",Nt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(pi),this._element.classList.add(pi),on.trigger(this._element,ci,e)}}hide(){if(Rt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){const t=on.trigger(this._element,ai,e);if(!t.defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))on.off(e,"mouseover",Nt);this._popper&&this._popper.destroy(),this._menu.classList.remove(pi),this._element.classList.remove(pi),this._element.setAttribute("aria-expanded","false"),cn.removeDataAttribute(this._menu,"popper"),on.trigger(this._element,li,e)}}_getConfig(e){if(e=super._getConfig(e),"object"===typeof e.reference&&!kt(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError(`${Jr.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if("undefined"===typeof r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:kt(this._config.reference)?e=At(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=pt(e,this._menu,t)}_isShown(){return this._menu.classList.contains(pi)}_getPlacement(){const e=this._parent;if(e.classList.contains(gi))return Ri;if(e.classList.contains(vi))return Oi;if(e.classList.contains(yi))return Ni;if(e.classList.contains(bi))return Di;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains(mi)?t?ki:Si:t?xi:Ai}_detectNavbar(){return null!==this._element.closest(Ii)}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"===typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(cn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Bt(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=mn.find(Ci,this._menu).filter((e=>xt(e)));n.length&&$t(n,t,e===si,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Mi.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(e.button===oi||"keyup"===e.type&&e.key!==ri)return;const t=mn.find(wi);for(const n of t){const t=Mi.getInstance(n);if(!t||!1===t._config.autoClose)continue;const r=e.composedPath(),i=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!i||"outside"===t._config.autoClose&&i)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&e.key===ri||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const s={relatedTarget:t._element};"click"===e.type&&(s.clickEvent=e),t._completeHide(s)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===ni,r=[ii,si].includes(e.key);if(!r&&!n)return;if(t&&!n)return;e.preventDefault();const i=this.matches(_i)?this:mn.prev(this,_i)[0]||mn.next(this,_i)[0]||mn.findOne(_i,e.delegateTarget.parentNode),s=Mi.getOrCreateInstance(i);if(r)return e.stopPropagation(),s.show(),void s._selectMenuItem(e);s._isShown()&&(e.stopPropagation(),s.hide(),i.focus())}}on.on(document,hi,_i,Mi.dataApiKeydownHandler),on.on(document,hi,Ei,Mi.dataApiKeydownHandler),on.on(document,di,Mi.clearMenus),on.on(document,fi,Mi.clearMenus),on.on(document,di,_i,(function(e){e.preventDefault(),Mi.getOrCreateInstance(this).toggle()})),Vt(Mi);const Fi="backdrop",Vi="fade",Bi="show",Wi=`mousedown.bs.${Fi}`,$i={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ji={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ui extends dn{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return $i}static get DefaultType(){return ji}static get NAME(){return Fi}show(e){if(!this._config.isVisible)return void Bt(e);this._append();const t=this._getElement();this._config.isAnimated&&Dt(t),t.classList.add(Bi),this._emulateAnimation((()=>{Bt(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(Bi),this._emulateAnimation((()=>{this.dispose(),Bt(e)}))):Bt(e)}dispose(){this._isAppended&&(on.off(this._element,Wi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Vi),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=At(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),on.on(e,Wi,(()=>{Bt(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){Wt(e,this._getElement(),this._config.isAnimated)}}const zi="focustrap",qi="bs.focustrap",Gi=`.${qi}`,Ki=`focusin${Gi}`,Hi=`keydown.tab${Gi}`,Xi="Tab",Qi="forward",Yi="backward",Ji={autofocus:!0,trapElement:null},Zi={autofocus:"boolean",trapElement:"element"};class es extends dn{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ji}static get DefaultType(){return Zi}static get NAME(){return zi}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),on.off(document,Gi),on.on(document,Ki,(e=>this._handleFocusin(e))),on.on(document,Hi,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,on.off(document,Gi))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=mn.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Yi?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Xi&&(this._lastTabNavDirection=e.shiftKey?Yi:Qi)}}const ts=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ns=".sticky-top",rs="padding-right",is="margin-right";class ss{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,rs,(t=>t+e)),this._setElementAttributes(ts,rs,(t=>t+e)),this._setElementAttributes(ns,is,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,rs),this._resetElementAttributes(ts,rs),this._resetElementAttributes(ns,is)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth(),i=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(i))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&cn.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=e=>{const n=cn.getDataAttribute(e,t);null!==n?(cn.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(kt(e))t(e);else for(const n of mn.find(e,this._element))t(n)}}const os="modal",as="bs.modal",ls=`.${as}`,us=".data-api",cs="Escape",ds=`hide${ls}`,hs=`hidePrevented${ls}`,fs=`hidden${ls}`,ps=`show${ls}`,ms=`shown${ls}`,gs=`resize${ls}`,vs=`click.dismiss${ls}`,ys=`mousedown.dismiss${ls}`,bs=`keydown.dismiss${ls}`,_s=`click${ls}${us}`,ws="modal-open",Es="fade",Is="show",Ts="modal-static",Cs=".modal.show",Ss=".modal-dialog",ks=".modal-body",As='[data-bs-toggle="modal"]',xs={backdrop:!0,focus:!0,keyboard:!0},Rs={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Os extends fn{constructor(e,t){super(e,t),this._dialog=mn.findOne(Ss,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ss,this._addEventListeners()}static get Default(){return xs}static get DefaultType(){return Rs}static get NAME(){return os}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;const t=on.trigger(this._element,ps,{relatedTarget:e});t.defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ws),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;const e=on.trigger(this._element,ds);e.defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Is),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){on.off(window,ls),on.off(this._dialog,ls),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ui({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new es({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=mn.findOne(ks,this._dialog);t&&(t.scrollTop=0),Dt(this._element),this._element.classList.add(Is);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,on.trigger(this._element,ms,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){on.on(this._element,bs,(e=>{e.key===cs&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),on.on(window,gs,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),on.on(this._element,ys,(e=>{on.one(this._element,vs,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(ws),this._resetAdjustments(),this._scrollBar.reset(),on.trigger(this._element,fs)}))}_isAnimated(){return this._element.classList.contains(Es)}_triggerBackdropTransition(){const e=on.trigger(this._element,hs);if(e.defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(Ts)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Ts),this._queueCallback((()=>{this._element.classList.remove(Ts),this._queueCallback((()=>{this._element.style.overflowY=n}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=Ft()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=Ft()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Os.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}on.on(document,_s,As,(function(e){const t=mn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),on.one(t,ps,(e=>{e.defaultPrevented||on.one(t,fs,(()=>{xt(this)&&this.focus()}))}));const n=mn.findOne(Cs);n&&Os.getInstance(n).hide();const r=Os.getOrCreateInstance(t);r.toggle(this)})),gn(Os),Vt(Os);const Ns="offcanvas",Ds="bs.offcanvas",Ps=`.${Ds}`,Ls=".data-api",Ms=`load${Ps}${Ls}`,Fs="Escape",Vs="show",Bs="showing",Ws="hiding",$s="offcanvas-backdrop",js=".offcanvas.show",Us=`show${Ps}`,zs=`shown${Ps}`,qs=`hide${Ps}`,Gs=`hidePrevented${Ps}`,Ks=`hidden${Ps}`,Hs=`resize${Ps}`,Xs=`click${Ps}${Ls}`,Qs=`keydown.dismiss${Ps}`,Ys='[data-bs-toggle="offcanvas"]',Js={backdrop:!0,keyboard:!0,scroll:!1},Zs={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class eo extends fn{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Js}static get DefaultType(){return Zs}static get NAME(){return Ns}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;const t=on.trigger(this._element,Us,{relatedTarget:e});if(t.defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new ss).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Bs);const n=()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Vs),this._element.classList.remove(Bs),on.trigger(this._element,zs,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const e=on.trigger(this._element,qs);if(e.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ws),this._backdrop.hide();const t=()=>{this._element.classList.remove(Vs,Ws),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new ss).reset(),on.trigger(this._element,Ks)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{"static"!==this._config.backdrop?this.hide():on.trigger(this._element,Gs)},t=Boolean(this._config.backdrop);return new Ui({className:$s,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new es({trapElement:this._element})}_addEventListeners(){on.on(this._element,Qs,(e=>{e.key===Fs&&(this._config.keyboard?this.hide():on.trigger(this._element,Gs))}))}static jQueryInterface(e){return this.each((function(){const t=eo.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}on.on(document,Xs,Ys,(function(e){const t=mn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Rt(this))return;on.one(t,Ks,(()=>{xt(this)&&this.focus()}));const n=mn.findOne(js);n&&n!==t&&eo.getInstance(n).hide();const r=eo.getOrCreateInstance(t);r.toggle(this)})),on.on(window,Ms,(()=>{for(const e of mn.find(js))eo.getOrCreateInstance(e).show()})),on.on(window,Hs,(()=>{for(const e of mn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&eo.getOrCreateInstance(e).hide()})),gn(eo),Vt(eo);const to=/^aria-[\w-]*$/i,no={"*":["class","dir","id","lang","role",to],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ro=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),io=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,so=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!ro.has(n)||Boolean(io.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))};function oo(e,t,n){if(!e.length)return e;if(n&&"function"===typeof n)return n(e);const r=new window.DOMParser,i=r.parseFromString(e,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const o of s){const e=o.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){o.remove();continue}const n=[].concat(...o.attributes),r=[].concat(t["*"]||[],t[e]||[]);for(const t of n)so(t,r)||o.removeAttribute(t.nodeName)}return i.body.innerHTML}const ao="TemplateFactory",lo={allowList:no,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},uo={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},co={entry:"(string|element|function|null)",selector:"(string|element)"};class ho extends dn{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return lo}static get DefaultType(){return uo}static get NAME(){return ao}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(e,i,r);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},co)}_setContent(e,t,n){const r=mn.findOne(n,e);r&&(t=this._resolvePossibleFunction(t),t?kt(t)?this._putElementInTemplate(At(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?oo(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Bt(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const fo="tooltip",po=new Set(["sanitize","allowList","sanitizeFn"]),mo="fade",go="modal",vo="show",yo=".tooltip-inner",bo=`.${go}`,_o="hide.bs.modal",wo="hover",Eo="focus",Io="click",To="manual",Co="hide",So="hidden",ko="show",Ao="shown",xo="inserted",Ro="click",Oo="focusin",No="focusout",Do="mouseenter",Po="mouseleave",Lo={AUTO:"auto",TOP:"top",RIGHT:Ft()?"left":"right",BOTTOM:"bottom",LEFT:Ft()?"right":"left"},Mo={allowList:no,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Fo={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Vo extends fn{constructor(e,t){if("undefined"===typeof r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Mo}static get DefaultType(){return Fo}static get NAME(){return fo}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),on.off(this._element.closest(bo),_o,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=on.trigger(this._element,this.constructor.eventName(ko)),t=Ot(this._element),n=(t||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),on.trigger(this._element,this.constructor.eventName(xo))),this._popper=this._createPopper(r),r.classList.add(vo),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))on.on(o,"mouseover",Nt);const s=()=>{on.trigger(this._element,this.constructor.eventName(Ao)),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown())return;const e=on.trigger(this._element,this.constructor.eventName(Co));if(e.defaultPrevented)return;const t=this._getTipElement();if(t.classList.remove(vo),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))on.off(r,"mouseover",Nt);this._activeTrigger[Io]=!1,this._activeTrigger[Eo]=!1,this._activeTrigger[wo]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),on.trigger(this._element,this.constructor.eventName(So)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(mo,vo),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=Tt(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(mo),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ho({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[yo]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(mo)}_isShown(){return this.tip&&this.tip.classList.contains(vo)}_createPopper(e){const t=Bt(this._config.placement,[this,e,this._element]),n=Lo[t.toUpperCase()];return pt(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"===typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Bt(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...Bt(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)on.on(this._element,this.constructor.eventName(Ro),this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t.toggle()}));else if(t!==To){const e=t===wo?this.constructor.eventName(Do):this.constructor.eventName(Oo),n=t===wo?this.constructor.eventName(Po):this.constructor.eventName(No);on.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Eo:wo]=!0,t._enter()})),on.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Eo:wo]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},on.on(this._element.closest(bo),_o,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=cn.getDataAttributes(this._element);for(const n of Object.keys(t))po.has(n)&&delete t[n];return e={...t,..."object"===typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:At(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Vo.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Vt(Vo);const Bo="popover",Wo=".popover-header",$o=".popover-body",jo={...Vo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Uo={...Vo.DefaultType,content:"(null|string|element|function)"};class zo extends Vo{static get Default(){return jo}static get DefaultType(){return Uo}static get NAME(){return Bo}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Wo]:this._getTitle(),[$o]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=zo.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Vt(zo);const qo="scrollspy",Go="bs.scrollspy",Ko=`.${Go}`,Ho=".data-api",Xo=`activate${Ko}`,Qo=`click${Ko}`,Yo=`load${Ko}${Ho}`,Jo="dropdown-item",Zo="active",ea='[data-bs-spy="scroll"]',ta="[href]",na=".nav, .list-group",ra=".nav-link",ia=".nav-item",sa=".list-group-item",oa=`${ra}, ${ia} > ${ra}, ${sa}`,aa=".dropdown",la=".dropdown-toggle",ua={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ca={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class da extends fn{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ua}static get DefaultType(){return ca}static get NAME(){return qo}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=At(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"===typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(on.off(this._config.target,Qo),on.on(this._config.target,Qo,ta,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}const e=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(n(s),!r)return}else i||e||n(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=mn.find(ta,this._config.target);for(const t of e){if(!t.hash||Rt(t))continue;const e=mn.findOne(decodeURI(t.hash),this._element);xt(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Zo),this._activateParents(e),on.trigger(this._element,Xo,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Jo))mn.findOne(la,e.closest(aa)).classList.add(Zo);else for(const t of mn.parents(e,na))for(const e of mn.prev(t,oa))e.classList.add(Zo)}_clearActiveClass(e){e.classList.remove(Zo);const t=mn.find(`${ta}.${Zo}`,e);for(const n of t)n.classList.remove(Zo)}static jQueryInterface(e){return this.each((function(){const t=da.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}on.on(window,Yo,(()=>{for(const e of mn.find(ea))da.getOrCreateInstance(e)})),Vt(da);const ha="tab",fa="bs.tab",pa=`.${fa}`,ma=`hide${pa}`,ga=`hidden${pa}`,va=`show${pa}`,ya=`shown${pa}`,ba=`click${pa}`,_a=`keydown${pa}`,wa=`load${pa}`,Ea="ArrowLeft",Ia="ArrowRight",Ta="ArrowUp",Ca="ArrowDown",Sa="Home",ka="End",Aa="active",xa="fade",Ra="show",Oa="dropdown",Na=".dropdown-toggle",Da=".dropdown-menu",Pa=`:not(${Na})`,La='.list-group, .nav, [role="tablist"]',Ma=".nav-item, .list-group-item",Fa=`.nav-link${Pa}, .list-group-item${Pa}, [role="tab"]${Pa}`,Va='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ba=`${Fa}, ${Va}`,Wa=`.${Aa}[data-bs-toggle="tab"], .${Aa}[data-bs-toggle="pill"], .${Aa}[data-bs-toggle="list"]`;class $a extends fn{constructor(e){super(e),this._parent=this._element.closest(La),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),on.on(this._element,_a,(e=>this._keydown(e))))}static get NAME(){return ha}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?on.trigger(t,ma,{relatedTarget:e}):null,r=on.trigger(e,va,{relatedTarget:t});r.defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Aa),this._activate(mn.getElementFromSelector(e));const n=()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),on.trigger(e,ya,{relatedTarget:t})):e.classList.add(Ra)};this._queueCallback(n,e,e.classList.contains(xa))}_deactivate(e,t){if(!e)return;e.classList.remove(Aa),e.blur(),this._deactivate(mn.getElementFromSelector(e));const n=()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),on.trigger(e,ga,{relatedTarget:t})):e.classList.remove(Ra)};this._queueCallback(n,e,e.classList.contains(xa))}_keydown(e){if(![Ea,Ia,Ta,Ca,Sa,ka].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!Rt(e)));let n;if([Sa,ka].includes(e.key))n=t[e.key===Sa?0:t.length-1];else{const r=[Ia,Ca].includes(e.key);n=$t(t,e.target,r,!0)}n&&(n.focus({preventScroll:!0}),$a.getOrCreateInstance(n).show())}_getChildren(){return mn.find(Ba,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=mn.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(Oa))return;const r=(e,r)=>{const i=mn.findOne(e,n);i&&i.classList.toggle(r,t)};r(Na,Aa),r(Da,Ra),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(Aa)}_getInnerElement(e){return e.matches(Ba)?e:mn.findOne(Ba,e)}_getOuterElement(e){return e.closest(Ma)||e}static jQueryInterface(e){return this.each((function(){const t=$a.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}on.on(document,ba,Va,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Rt(this)||$a.getOrCreateInstance(this).show()})),on.on(window,wa,(()=>{for(const e of mn.find(Wa))$a.getOrCreateInstance(e)})),Vt($a);const ja="toast",Ua="bs.toast",za=`.${Ua}`,qa=`mouseover${za}`,Ga=`mouseout${za}`,Ka=`focusin${za}`,Ha=`focusout${za}`,Xa=`hide${za}`,Qa=`hidden${za}`,Ya=`show${za}`,Ja=`shown${za}`,Za="fade",el="hide",tl="show",nl="showing",rl={animation:"boolean",autohide:"boolean",delay:"number"},il={animation:!0,autohide:!0,delay:5e3};class sl extends fn{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return il}static get DefaultType(){return rl}static get NAME(){return ja}show(){const e=on.trigger(this._element,Ya);if(e.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Za);const t=()=>{this._element.classList.remove(nl),on.trigger(this._element,Ja),this._maybeScheduleHide()};this._element.classList.remove(el),Dt(this._element),this._element.classList.add(tl,nl),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown())return;const e=on.trigger(this._element,Xa);if(e.defaultPrevented)return;const t=()=>{this._element.classList.add(el),this._element.classList.remove(nl,tl),on.trigger(this._element,Qa)};this._element.classList.add(nl),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(tl),super.dispose()}isShown(){return this._element.classList.contains(tl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){on.on(this._element,qa,(e=>this._onInteraction(e,!0))),on.on(this._element,Ga,(e=>this._onInteraction(e,!1))),on.on(this._element,Ka,(e=>this._onInteraction(e,!0))),on.on(this._element,Ha,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=sl.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}gn(sl),Vt(sl);var ol,al=Object.defineProperty,ll=(e,t,n)=>t in e?al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ul=(e,t,n)=>(ll(e,"symbol"!=typeof t?t+"":t,n),n),cl=Object.defineProperty,dl=Object.defineProperties,hl=Object.getOwnPropertyDescriptors,fl=Object.getOwnPropertySymbols,pl=Object.prototype.hasOwnProperty,ml=Object.prototype.propertyIsEnumerable,gl=(e,t,n)=>t in e?cl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vl=(e,t)=>{for(var n in t||(t={}))pl.call(t,n)&&gl(e,n,t[n]);if(fl)for(var n of fl(t))ml.call(t,n)&&gl(e,n,t[n]);return e},yl=(e,t)=>dl(e,hl(t));function bl(e,t){var n;const r=(0,i.IJ)();return(0,s.nT)((()=>{r.value=e()}),yl(vl({},t),{flush:null!=(n=null==t?void 0:t.flush)?n:"sync"})),(0,i.tB)(r)}const _l=typeof window<"u",wl=e=>"function"==typeof e,El=e=>"string"==typeof e,Il=()=>{};function Tl(e){return"function"==typeof e?e():(0,i.R1)(e)}function Cl(e,t){function n(...n){e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})}return n}_l&&(null==(ol=null==window?void 0:window.navigator)?void 0:ol.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const Sl=e=>e();function kl(e=Sl){const t=(0,i.KR)(!0);function n(){t.value=!1}function r(){t.value=!0}return{isActive:t,pause:n,resume:r,eventFilter:(...n)=>{t.value&&e(...n)}}}function Al(e){return e}function xl(e){return!!(0,i.o5)()&&((0,i.jr)(e),!0)}function Rl(e){return"function"==typeof e?(0,s.EW)(e):(0,i.KR)(e)}function Ol(e,t=!0){(0,s.nI)()?(0,s.sV)(e):t?e():(0,s.dY)(e)}function Nl(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:o=!1}=n;let a=null;const l=(0,i.KR)(!1);function u(){a&&(clearInterval(a),a=null)}function c(){l.value=!1,u()}function d(){(0,i.R1)(t)<=0||(l.value=!0,o&&e(),u(),a=setInterval(e,Tl(t)))}if(r&&_l&&d(),(0,i.i9)(t)||wl(t)){const e=(0,s.wB)(t,(()=>{l.value&&_l&&d()}));xl(e)}return xl(c),{isActive:l,pause:c,resume:d}}var Dl=Object.getOwnPropertySymbols,Pl=Object.prototype.hasOwnProperty,Ll=Object.prototype.propertyIsEnumerable,Ml=(e,t)=>{var n={};for(var r in e)Pl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Dl)for(var r of Dl(e))t.indexOf(r)<0&&Ll.call(e,r)&&(n[r]=e[r]);return n};function Fl(e,t,n={}){const r=n,{eventFilter:i=Sl}=r,o=Ml(r,["eventFilter"]);return(0,s.wB)(e,Cl(i,t),o)}var Vl=Object.defineProperty,Bl=Object.defineProperties,Wl=Object.getOwnPropertyDescriptors,$l=Object.getOwnPropertySymbols,jl=Object.prototype.hasOwnProperty,Ul=Object.prototype.propertyIsEnumerable,zl=(e,t,n)=>t in e?Vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ql=(e,t)=>{for(var n in t||(t={}))jl.call(t,n)&&zl(e,n,t[n]);if($l)for(var n of $l(t))Ul.call(t,n)&&zl(e,n,t[n]);return e},Gl=(e,t)=>Bl(e,Wl(t)),Kl=(e,t)=>{var n={};for(var r in e)jl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$l)for(var r of $l(e))t.indexOf(r)<0&&Ul.call(e,r)&&(n[r]=e[r]);return n};function Hl(e,t,n={}){const r=n,{eventFilter:i}=r,s=Kl(r,["eventFilter"]),{eventFilter:o,pause:a,resume:l,isActive:u}=kl(i);return{stop:Fl(e,t,Gl(ql({},s),{eventFilter:o})),pause:a,resume:l,isActive:u}}function Xl(e){var t;const n=Tl(e);return null!=(t=null==n?void 0:n.$el)?t:n}const Ql=_l?window:void 0;function Yl(...e){let t,n,r,i;if(El(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=Ql):[t,n,r,i]=e,!t)return Il;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],a=()=>{o.forEach((e=>e())),o.length=0},l=(e,t,n)=>(e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)),u=(0,s.wB)((()=>Xl(t)),(e=>{a(),e&&o.push(...n.flatMap((t=>r.map((n=>l(e,t,n))))))}),{immediate:!0,flush:"post"}),c=()=>{u(),a()};return xl(c),c}function Jl(e,t=!1){const n=(0,i.KR)(),r=()=>n.value=Boolean(e());return r(),Ol(r,t),n}function Zl(e,t={}){const{window:n=Ql}=t,r=Jl((()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia));let o;const a=(0,i.KR)(!1),l=()=>{!o||("removeEventListener"in o?o.removeEventListener("change",u):o.removeListener(u))},u=()=>{!r.value||(l(),o=n.matchMedia(Rl(e).value),a.value=o.matches,"addEventListener"in o?o.addEventListener("change",u):o.addListener(u))};return(0,s.nT)(u),xl((()=>l())),a}const eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},tu="__vueuse_ssr_handlers__";eu[tu]=eu[tu]||{};const nu=eu[tu];function ru(e,t){return nu[e]||t}function iu(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}var su=Object.defineProperty,ou=Object.getOwnPropertySymbols,au=Object.prototype.hasOwnProperty,lu=Object.prototype.propertyIsEnumerable,uu=(e,t,n)=>t in e?su(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cu=(e,t)=>{for(var n in t||(t={}))au.call(t,n)&&uu(e,n,t[n]);if(ou)for(var n of ou(t))lu.call(t,n)&&uu(e,n,t[n]);return e};const du={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function hu(e,t,n,r={}){var o;const{flush:a="pre",deep:l=!0,listenToStorageChanges:u=!0,writeDefaults:c=!0,mergeDefaults:d=!1,shallow:h,window:f=Ql,eventFilter:p,onError:m=(e=>{console.error(e)})}=r,g=(h?i.IJ:i.KR)(t);if(!n)try{n=ru("getDefaultStorage",(()=>{var e;return null==(e=Ql)?void 0:e.localStorage}))()}catch(C){m(C)}if(!n)return g;const v=Tl(t),y=iu(v),b=null!=(o=r.serializer)?o:du[y],{pause:_,resume:w}=Hl(g,(()=>E(g.value)),{flush:a,deep:l,eventFilter:p});return f&&u&&Yl(f,"storage",T),T(),g;function E(t){try{if(null==t)n.removeItem(e);else{const r=b.write(t),i=n.getItem(e);i!==r&&(n.setItem(e,r),f&&(null==f||f.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r,storageArea:n}))))}}catch(r){m(r)}}function I(t){const r=t?t.newValue:n.getItem(e);if(null==r)return c&&null!==v&&n.setItem(e,b.write(v)),v;if(!t&&d){const e=b.read(r);return wl(d)?d(e,v):"object"!==y||Array.isArray(e)?e:cu(cu({},v),e)}return"string"!=typeof r?r:b.read(r)}function T(t){if(!t||t.storageArea===n){if(t&&null==t.key)return void(g.value=v);if(!t||t.key===e){_();try{g.value=I(t)}catch(r){m(r)}finally{t?(0,s.dY)(w):w()}}}}}function fu(e){return Zl("(prefers-color-scheme: dark)",e)}var pu,mu=Object.defineProperty,gu=Object.getOwnPropertySymbols,vu=Object.prototype.hasOwnProperty,yu=Object.prototype.propertyIsEnumerable,bu=(e,t,n)=>t in e?mu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_u=(e,t)=>{for(var n in t||(t={}))vu.call(t,n)&&bu(e,n,t[n]);if(gu)for(var n of gu(t))yu.call(t,n)&&bu(e,n,t[n]);return e};function wu(e={}){const{selector:t="html",attribute:n="class",initialValue:r="auto",window:o=Ql,storage:a,storageKey:l="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:c,emitAuto:d}=e,h=_u({auto:"",light:"light",dark:"dark"},e.modes||{}),f=fu({window:o}),p=(0,s.EW)((()=>f.value?"dark":"light")),m=c||(null==l?(0,i.KR)(r):hu(l,r,a,{window:o,listenToStorageChanges:u})),g=(0,s.EW)({get(){return"auto"!==m.value||d?m.value:p.value},set(e){m.value=e}}),v=ru("updateHTMLAttrs",((e,t,n)=>{const r=null==o?void 0:o.document.querySelector(e);if(r)if("class"===t){const e=n.split(/\s/g);Object.values(h).flatMap((e=>(e||"").split(/\s/g))).filter(Boolean).forEach((t=>{e.includes(t)?r.classList.add(t):r.classList.remove(t)}))}else r.setAttribute(t,n)}));function y(e){var r;const i="auto"===e?p.value:e;v(t,n,null!=(r=h[i])?r:i)}function b(t){e.onChanged?e.onChanged(t,y):y(t)}return(0,s.wB)(g,b,{flush:"post",immediate:!0}),d&&(0,s.wB)(p,(()=>b(g.value)),{flush:"post"}),Ol((()=>b(g.value))),g}(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(pu||(pu={}));var Eu=Object.defineProperty,Iu=Object.getOwnPropertySymbols,Tu=Object.prototype.hasOwnProperty,Cu=Object.prototype.propertyIsEnumerable,Su=(e,t,n)=>t in e?Eu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ku=(e,t)=>{for(var n in t||(t={}))Tu.call(t,n)&&Su(e,n,t[n]);if(Iu)for(var n of Iu(t))Cu.call(t,n)&&Su(e,n,t[n]);return e};const Au={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ku({linear:Al},Au);const xu=e=>bl((()=>e.value?`justify-content-${e.value}`:""));class Ru{constructor(e,t={}){if(ul(this,"cancelable",!0),ul(this,"componentId",null),ul(this,"_defaultPrevented",!1),ul(this,"eventType",""),ul(this,"nativeEvent",null),ul(this,"_preventDefault"),ul(this,"relatedTarget",null),ul(this,"target",null),!e)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,Ru.Defaults,t,{eventType:e}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(e){this._defaultPrevented=e}get preventDefault(){return this._preventDefault}set preventDefault(e){this._preventDefault=e}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class Ou extends Ru{constructor(e,t={}){super(e,t),ul(this,"trigger",null),Object.assign(this,Ru.Defaults,t,{eventType:e})}static get Defaults(){return{...super.Defaults,trigger:null}}}const Nu=e=>null!==e&&"object"==typeof e,Du=e=>/^[0-9]*\.?[0-9]+$/.test(String(e)),Pu=e=>"[object Object]"===Object.prototype.toString.call(e),Lu=e=>null===e,Mu=/_/g,Fu=/([a-z])([A-Z])/g,Vu=/(\s|^)(\w)/g,Bu=/(\s|^)(\w)/,Wu=/\s+/,$u=/^#/,ju=/^#[A-Za-z]+[\w\-:.]*$/,Uu=/-u-.+/,zu=(e,t=2)=>"string"==typeof e?e:null==e?"":Array.isArray(e)||Pu(e)&&e.toString===Object.prototype.toString?JSON.stringify(e,null,t):String(e),qu=e=>e.replace(Mu," ").replace(Fu,((e,t,n)=>`${t} ${n}`)).replace(Bu,((e,t,n)=>t+n.toUpperCase())),Gu=e=>e.replace(Mu," ").replace(Fu,((e,t,n)=>`${t} ${n}`)).replace(Vu,((e,t,n)=>t+n.toUpperCase())),Ku=e=>{const t=e.trim();return t.charAt(0).toUpperCase()+t.slice(1)},Hu=e=>`\\${e}`,Xu=e=>{const t=zu(e),{length:n}=t,r=t.charCodeAt(0);return t.split("").reduce(((e,i,s)=>{const o=t.charCodeAt(s);return 0===o?`${e}�`:127===o||o>=1&&o<=31||0===s&&o>=48&&o<=57||1===s&&o>=48&&o<=57&&45===r?e+Hu(`${o.toString(16)} `):0===s&&45===o&&1===n?e+Hu(i):o>=128||45===o||95===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?e+i:e+Hu(i)}),"")},Qu=typeof window<"u",Yu=typeof document<"u",Ju=typeof navigator<"u",Zu=Qu&&Yu&&Ju,ec=Qu?window:{},tc=(()=>{let e=!1;if(Zu)try{const t={get passive(){e=!0}};ec.addEventListener("test",t,t),ec.removeEventListener("test",t,t)}catch{e=!1}return e})(),nc=typeof window<"u",rc=typeof document<"u",ic=typeof Element<"u",sc=typeof navigator<"u",oc=nc&&rc&&sc,ac=nc?window:{},lc=rc?document:{},uc=sc?navigator:{},cc=(uc.userAgent||"").toLowerCase();cc.indexOf("jsdom"),/msie|trident/.test(cc),(()=>{let e=!1;if(oc)try{const t={get passive(){return e=!0,e}};ac.addEventListener("test",t,t),ac.removeEventListener("test",t,t)}catch{e=!1}})(),oc&&("ontouchstart"in lc.documentElement||uc.maxTouchPoints),oc&&Boolean(ac.PointerEvent||ac.MSPointerEvent),oc&&"IntersectionObserver"in ac&&"IntersectionObserverEntry"in ac&&ac.IntersectionObserverEntry.prototype;const dc=ic?Element.prototype:void 0,hc=(null==dc?void 0:dc.matches)||(null==dc?void 0:dc.msMatchesSelector)||(null==dc?void 0:dc.webkitMatchesSelector),fc=e=>!(!e||e.nodeType!==Node.ELEMENT_NODE),pc=e=>fc(e)?e.getBoundingClientRect():null,mc=(e=[])=>{const{activeElement:t}=document;return t&&!e.some((e=>e===t))?t:null},gc=e=>fc(e)&&e===mc(),vc=(e,t={})=>{try{e.focus(t)}catch(n){console.error(n)}return gc(e)},yc=(e,t)=>t&&fc(e)&&e.getAttribute(t)||null,bc=e=>{if("none"===yc(e,"display"))return!1;const t=pc(e);return!!(t&&t.height>0&&t.width>0)},_c=(e,t)=>!e||e(t).filter((e=>e.type!==s.Mw)).length<1,wc=(e,t)=>(fc(t)?t:lc).querySelector(e)||null,Ec=(e,t)=>Array.from([(fc(t)?t:lc).querySelectorAll(e)]),Ic=(e,t)=>t&&fc(e)?e.getAttribute(t):null,Tc=e=>lc.getElementById(/^#/.test(e)?e.slice(1):e)||null,Cc=(e,t,n)=>{t&&fc(e)&&e.setAttribute(t,n)},Sc=(e,t)=>{t&&fc(e)&&e.removeAttribute(t)},kc=(e,t)=>zu(e).toLowerCase()===zu(t).toLowerCase(),Ac=Qu?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||(e=>setTimeout(e,16)):e=>setTimeout(e,0),xc=(e,t)=>!!fc(e)&&hc.call(e,t),Rc=(null==dc?void 0:dc.closest)||function(e){let t=this;if(!t)return null;do{if(xc(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t.nodeType===Node.ELEMENT_NODE);return null},Oc=(e,t,n=!1)=>{if(!fc(t))return null;const r=Rc.call(t,e);return n?r:r===t?null:r},Nc=(e,t,n)=>t.concat(["sm","md","lg","xl","xxl"]).reduce(((t,r)=>(t[e?`${e}${r.charAt(0).toUpperCase()+r.slice(1)}`:r]=n,t)),Object.create(null)),Dc=(e,t,n,r=n)=>Object.keys(t).reduce(((t,i)=>(e[i]&&t.push([r,i.replace(n,""),e[i]].filter((e=>e&&"boolean"!=typeof e)).join("-").toLowerCase()),t)),[]),Pc=(e="")=>`__BVID__${Math.random().toString().slice(2,8)}___BV_${e}__`,Lc=(e,t)=>!0===e||"true"===e||""===e?"true":"grammar"===e||"spelling"===e?e:!1===t?"true":!1===e||"false"===e?"false":void 0,Mc=e=>!!e&&"object"==typeof e&&e.constructor===Object,Fc=(e,t,n=!0)=>{const r=e instanceof Date&&"function"==typeof e.getMonth?new Date(e.getTime()):Object.assign({},e);return Mc(e)&&Mc(t)&&Object.keys(t).forEach((i=>{Mc(t[i])?i in e?r[i]=Fc(e[i],t[i],n):Object.assign(r,{[i]:t[i]}):Array.isArray(t[i])&&Array.isArray(e[i])?Object.assign(r,{[i]:n?e[i].concat(t[i].filter((t=>!e[i].includes(t)))):t[i]}):Object.assign(r,{[i]:t[i]})})),r},Vc=(e,t={},n={})=>{const r=[e];let i;for(let s=0;s<r.length&&!i;s++){const e=r[s];i=n[e]}return i&&"function"==typeof i?i(t):i},Bc=(e,t=NaN)=>Number.isInteger(e)?e:t,Wc=(e,t=NaN)=>{const n=Number.parseInt(e,10);return Number.isNaN(n)?t:n},$c=(e,t=NaN)=>{const n=Number.parseFloat(e.toString());return Number.isNaN(n)?t:n},jc=(e,t)=>Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,n)=>({...t,[n]:e[n]})),{}),Uc=e=>Array.isArray(e)?e.map((e=>Uc(e))):e instanceof Date?new Date(e.getTime()):e&&"object"==typeof e?Object.getOwnPropertyNames(e).reduce(((t,n)=>{var r;return Object.defineProperty(t,n,null!=(r=Object.getOwnPropertyDescriptor(e,n))?r:{}),t[n]=Uc(e[n]),t}),Object.create(Object.getPrototypeOf(e))):e,zc=e=>new Promise((t=>t(Uc(e)))),qc=(e,t)=>t+(e?Ku(e):""),Gc=(e,t)=>(Array.isArray(t)?t.slice():Object.keys(t)).reduce(((t,n)=>(t[n]=e[n],t)),{}),Kc=e=>"boolean"==typeof e?e:""===e||"true"===e,Hc=e=>!(!e.href&&!e.to);function Xc(e){return bl((()=>void 0===e.value||null===e.value?e.value:Kc(e.value)))}const Qc=Symbol(),Yc={items:(0,i.Kh)([]),reset(){this.items=(0,i.Kh)([])}},Jc=e=>{e.provide(Qc,Yc)},Zc=()=>{var e;return null!=(e=(0,s.WQ)(Qc))?e:Yc},ed=(e,t,n)=>{(0,s.sV)((()=>{var r;null==(r=null==e?void 0:e.value)||r.addEventListener(t,n)})),(0,s.xo)((()=>{var r;null==(r=null==e?void 0:e.value)||r.removeEventListener(t,n)}))},td=e=>(0,s.EW)((()=>({"form-check":!1===e.plain&&!1===e.button,"form-check-inline":!0===e.inline,"form-switch":!0===e.switch,[`form-control-${e.size}`]:void 0!==e.size&&"md"!==e.size}))),nd=e=>(0,s.EW)((()=>({"form-check-input":!1===e.plain&&!1===e.button,"is-valid":!0===e.state,"is-invalid":!1===e.state,"btn-check":!0===e.button}))),rd=e=>(0,s.EW)((()=>({"form-check-label":!1===e.plain&&!1===e.button,btn:!0===e.button,[`btn-${e.buttonVariant}`]:!0===e.button&&void 0!==e.buttonVariant,[`btn-${e.size}`]:e.button&&e.size&&"md"!==e.size}))),id=e=>(0,s.EW)((()=>({"aria-invalid":Lc(e.ariaInvalid,e.state),"aria-required":!0===e.required||void 0}))),sd=e=>(0,s.EW)((()=>({"was-validated":!0===e.validated,"btn-group":!0===e.buttons&&!1===e.stacked,"btn-group-vertical":!0===e.stacked,[`btn-group-${e.size}`]:void 0!==e.size}))),od=(e,t,n)=>e.reduce(((e,t)=>"Symbol(Fragment)"===t.type.toString()?e.concat(t.children):e.concat([t])),[]).filter((e=>e.type.__name===t||e.type.name===t)).map((e=>{const t=(e.children.default?e.children.default():[]).find((e=>"Symbol(Text)"===e.type.toString()));return{props:{disabled:n,...e.props},text:t?t.children:""}})),ad=(e,t)=>"string"==typeof e?{props:{value:e,disabled:t.disabled},text:e}:{props:{value:e[t.valueField],disabled:t.disabled||e[t.disabledField],...e.props},text:e[t.textField],html:e[t.htmlField]},ld=(e,t,n,r,i)=>({...e,props:{"button-variant":n.buttonVariant,form:n.form,name:r.value,id:`${i.value}_option_${t}`,button:n.buttons,state:n.state,plain:n.plain,size:n.size,inline:!n.stacked,required:n.required,...e.props}}),ud=(e,t)=>(0,s.EW)((()=>(null==e?void 0:e.value)||Pc(t))),cd={ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{type:String,required:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{type:String,required:!1},formatter:{type:Function,required:!1},id:{type:String,required:!1},lazy:{type:Boolean,default:!1},lazyFormatter:{type:Boolean,default:!1},list:{type:String,required:!1},modelValue:{type:[String,Number],default:""},name:{type:String,required:!1},number:{type:Boolean,default:!1},placeholder:{type:String,required:!1},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,required:!1},state:{type:Boolean,default:null},trim:{type:Boolean,default:!1}},dd=(e,t)=>{const n=(0,i.KR)();let r=null,o=!0;const a=ud((0,i.lW)(e,"id"),"input"),l=(t,n,r=!1)=>(t=String(t),"function"!=typeof e.formatter||e.lazyFormatter&&!r?t:(o=!1,e.formatter(t,n))),u=t=>e.trim?t.trim():e.number?Number.parseFloat(t):t,c=()=>{(0,s.dY)((()=>{var t;e.autofocus&&(null==(t=n.value)||t.focus())}))};(0,s.sV)(c),(0,s.sV)((()=>{n.value&&(n.value.value=e.modelValue)})),(0,s.n)(c);const d=(0,s.EW)((()=>{var t;return Lc(e.ariaInvalid,null!=(t=e.state)?t:void 0)})),h=n=>{const{value:i}=n.target,s=l(i,n);if(!1===s||n.defaultPrevented)return void n.preventDefault();if(e.lazy)return;const o=u(s);e.modelValue!==o&&(r=i,t("update:modelValue",o)),t("input",s)},f=n=>{const{value:i}=n.target,s=l(i,n);if(!1===s||n.defaultPrevented)return void n.preventDefault();if(!e.lazy)return;r=i,t("update:modelValue",s);const o=u(s);e.modelValue!==o&&t("change",s)},p=n=>{if(t("blur",n),!e.lazy&&!e.lazyFormatter)return;const{value:i}=n.target,s=l(i,n,!0);r=i,t("update:modelValue",s)},m=()=>{var t;e.disabled||null==(t=n.value)||t.focus()},g=()=>{var t;e.disabled||null==(t=n.value)||t.blur()};return(0,s.wB)((()=>e.modelValue),(e=>{!n.value||(n.value.value=r&&o?r:e,r=null,o=!0)})),{input:n,computedId:a,computedAriaInvalid:d,onInput:h,onChange:f,onBlur:p,focus:m,blur:g}},hd=(e,t)=>{if(!e)return e;if(t in e)return e[t];const n=t.split(".");return hd(e[n[0]],n.splice(1).join("."))},fd=(e,t=null,n,r)=>{if("[object Object]"===Object.prototype.toString.call(e)){const i=hd(e,r.valueField),s=hd(e,r.textField),o=hd(e,r.htmlField),a=hd(e,r.disabledField),l=e[r.optionsField]||null;return null!==l?{label:String(hd(e,r.labelField)||s),options:pd(l,n,r)}:{value:typeof i>"u"?t||s:i,text:String(typeof s>"u"?t:s),html:o,disabled:Boolean(a)}}return{value:t||e,text:String(e),disabled:!1}},pd=(e,t,n)=>Array.isArray(e)?e.map((e=>fd(e,null,t,n))):"[object Object]"===Object.prototype.toString.call(e)?(console.warn(`[BootstrapVue warn]: ${t} - Setting prop "options" to an object is deprecated. Use the array format instead.`),Object.keys(e).map((r=>{const i=e[r];switch(typeof i){case"object":return fd(i.text,String(i.value),t,n);default:return fd(i,String(r),t,n)}}))):[],md=(e=!1,t={})=>{var n,r;const i="data-bs-theme",s="body";return wu({attribute:i,selector:s,storageKey:e?`${null!=(n=t.attribute)?n:i}-${null!=(r=t.selector)?r:s}`:null,...t})},gd=["id"],vd=Symbol(),yd=(0,s.pM)({__name:"BAccordion",props:{flush:{default:!1},free:{default:!1},id:null},setup(e){const t=e,n=ud((0,i.lW)(t,"id"),"accordion"),r=Xc((0,i.lW)(t,"flush")),a=Xc((0,i.lW)(t,"free")),l=(0,s.EW)((()=>({"accordion-flush":r.value})));return a.value||(0,s.Gt)(vd,n.value),(e,t)=>((0,s.uX)(),(0,s.CE)("div",{id:(0,i.R1)(n),class:(0,o.C4)(["accordion",(0,i.R1)(l)])},[(0,s.RG)(e.$slots,"default")],10,gd))}}),bd=(0,s.pM)({__name:"BCollapse",props:{accordion:null,id:{default:Pc()},modelValue:{default:!1},tag:{default:"div"},toggle:{default:!1},visible:{default:!1},isNav:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(e,{emit:t}){const n=e,r=Xc((0,i.lW)(n,"modelValue")),a=Xc((0,i.lW)(n,"toggle")),l=Xc((0,i.lW)(n,"visible")),u=Xc((0,i.lW)(n,"isNav")),c=(0,i.KR)(),d=(0,i.KR)(),h=(0,s.EW)((()=>({show:r.value,"navbar-collapse":u.value}))),f=()=>t("update:modelValue",!1);return(0,s.wB)((()=>r.value),(e=>{var t,n;e?null==(t=d.value)||t.show():null==(n=d.value)||n.hide()})),(0,s.wB)((()=>l.value),(e=>{var n,r;e?(t("update:modelValue",!!e),null==(n=d.value)||n.show()):(t("update:modelValue",!!e),null==(r=d.value)||r.hide())})),ed(c,"show.bs.collapse",(()=>{t("show"),t("update:modelValue",!0)})),ed(c,"hide.bs.collapse",(()=>{t("hide"),t("update:modelValue",!1)})),ed(c,"shown.bs.collapse",(()=>t("shown"))),ed(c,"hidden.bs.collapse",(()=>t("hidden"))),(0,s.sV)((()=>{var e;d.value=new Yr(c.value,{parent:n.accordion?`#${n.accordion}`:void 0,toggle:a.value}),(l.value||r.value)&&(t("update:modelValue",!0),null==(e=d.value)||e.show())})),(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{id:e.id,ref_key:"element",ref:c,class:(0,o.C4)(["collapse",(0,i.R1)(h)]),"data-bs-parent":e.accordion||null,"is-nav":(0,i.R1)(u)},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{visible:(0,i.R1)(r),close:f})])),_:3},8,["id","class","data-bs-parent","is-nav"]))}}),_d=(e,t)=>e.setAttribute("data-bs-theme",t),wd={mounted(e,t){_d(e,t.value)},updated(e,t){_d(e,t.value)}},Ed={mounted(e,t){const n=t.modifiers.left?"left":t.modifiers.right?"right":t.modifiers.bottom?"bottom":t.modifiers.top?"top":"right",r=[];t.modifiers.manual?r.push("manual"):(t.modifiers.click&&r.push("click"),t.modifiers.hover&&r.push("hover"),t.modifiers.focus&&r.push("focus")),e.setAttribute("data-bs-toggle","popover"),new zo(e,{trigger:0===r.length?"click":r.join(" "),placement:n,content:t.value,html:t.modifiers.html})},unmounted(e){const t=zo.getInstance(e);null!==t&&t.dispose()}},Id=e=>{if(e.classList.contains("offcanvas"))return"offcanvas";if(e.classList.contains("collapse"))return"collapse";throw Error("Couldn't resolve toggle type")},Td=(e,t)=>{const{modifiers:n,arg:r,value:i}=e,s=Object.keys(n||{}),o="string"==typeof i?i.split(Wu):i;if(kc(t.tagName,"a")){const e=Ic(t,"href")||"";ju.test(e)&&s.push(e.replace($u,""))}return Array.prototype.concat.apply([],[r,o]).forEach((e=>"string"==typeof e&&s.push(e))),s.filter(((e,t,n)=>e&&n.indexOf(e)===t))},Cd={mounted(e,t){const n=Td(t,e),r=[],i="a"===e.tagName?"href":"data-bs-target";n.forEach((t=>{const n=document.getElementById(t);null!==n&&(e.setAttribute("data-bs-toggle",Id(n)),r.push(`#${t}`))})),r.length>0&&e.setAttribute(i,r.join(","))}},Sd=(e,t)=>{if(null!=t&&t.trigger)return t.trigger;if(e.manual)return"manual";const n=[];return e.click&&n.push("click"),e.hover&&n.push("hover"),e.focus&&n.push("focus"),n.length>0?n.join(" "):"hover focus"},kd=(e,t)=>null!=t&&t.placement?t.placement:e.left?"left":e.right?"right":e.bottom?"bottom":"top",Ad=e=>null!=e&&e.delay?e.delay:0,xd=e=>typeof e>"u"?(console.warn("Review tooltip directive usage. Some uses are not defining a title in root component or a value like `v-b-tooltip='{title: \"my title\"}'` nor `v-b-tooltip=\"'my title'\"` to define a title"),""):"object"==typeof e?null==e?void 0:e.title:e,Rd={beforeMount(e,t){e.setAttribute("data-bs-toggle","tooltip"),e.getAttribute("title")||e.setAttribute("title",xd(t.value).toString());const n=/<("[^"]*"|'[^']*'|[^'">])*>/.test(e.title),r=Sd(t.modifiers,t.value),i=kd(t.modifiers,t.value),s=Ad(t.value),o=e.getAttribute("title");new Vo(e,{trigger:r,placement:i,delay:s,html:n}),o&&e.setAttribute("data-bs-original-title",o)},updated(e,t){e.getAttribute("title")||e.setAttribute("title",xd(t.value).toString());const n=e.getAttribute("title"),r=e.getAttribute("data-bs-original-title"),i=Vo.getInstance(e);e.removeAttribute("title"),n&&n!==r&&(null==i||i.setContent({".tooltip-inner":n}),e.setAttribute("data-bs-original-title",n))},unmounted(e){const t=Vo.getInstance(e);null!==t&&t.dispose()}},Od=new Map;class Nd{constructor(e,t,n,r,i){ul(this,"element"),ul(this,"margin"),ul(this,"once"),ul(this,"callback"),ul(this,"instance"),ul(this,"observer"),ul(this,"doneOnce"),ul(this,"visible"),this.element=e,this.margin=t,this.once=n,this.callback=r,this.instance=i,this.createObserver()}createObserver(){if(this.observer&&this.stop(),!this.doneOnce&&"function"==typeof this.callback){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch{return console.error("Intersection Observer not supported"),this.doneOnce=!0,this.observer=void 0,void this.callback(null)}this.instance.$nextTick((()=>{this.observer&&this.observer.observe(this.element)}))}}handler(e){const[t]=e,n=Boolean(t.isIntersecting||t.intersectionRatio>0);n!==this.visible&&(this.visible=n,this.callback(n),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}stop(){this.observer&&this.observer.disconnect(),this.observer=null}}const Dd=e=>{if(Od.has(e)){const t=Od.get(e);t&&t.stop&&t.stop(),Od.delete(e)}},Pd=(e,t)=>{const n={margin:"0px",once:!1,callback:t.value};Object.keys(t.modifiers).forEach((e=>{Number.isInteger(e)?n.margin=`${e}px`:"once"===e.toLowerCase()&&(n.once=!0)})),Dd(e);const r=new Nd(e,n.margin,n.once,n.callback,t.instance);Od.set(e,r)},Ld={beforeMount(e,t){Pd(e,t)},updated(e,t){Pd(e,t)},unmounted(e){Dd(e)}},Md={class:"accordion-item"},Fd=["id"],Vd=["aria-expanded","aria-controls"],Bd={class:"accordion-body"},Wd=(0,s.pM)({__name:"BAccordionItem",props:{id:null,title:null,visible:{default:!1}},setup(e){const t=e,n=(0,s.WQ)(vd,""),r=ud((0,i.lW)(t,"id"),"accordion_item"),a=Xc((0,i.lW)(t,"visible"));return(t,l)=>((0,s.uX)(),(0,s.CE)("div",Md,[(0,s.Lk)("h2",{id:`${(0,i.R1)(r)}heading`,class:"accordion-header"},[(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{class:(0,o.C4)(["accordion-button",{collapsed:!(0,i.R1)(a)}]),type:"button","aria-expanded":(0,i.R1)(a)?"true":"false","aria-controls":(0,i.R1)(r)},[(0,s.RG)(t.$slots,"title",{},(()=>[(0,s.eW)((0,o.v_)(e.title),1)]))],10,Vd)),[[(0,i.R1)(Cd),void 0,(0,i.R1)(r)]])],8,Fd),(0,s.bF)(bd,{id:(0,i.R1)(r),class:"accordion-collapse",visible:e.visible,accordion:(0,i.R1)(n),"aria-labelledby":`heading${(0,i.R1)(r)}`},{default:(0,s.k6)((()=>[(0,s.Lk)("div",Bd,[(0,s.RG)(t.$slots,"default")])])),_:3},8,["id","visible","accordion","aria-labelledby"])]))}}),$d=(0,s.pM)({__name:"BTransition",props:{appear:{default:!1},mode:null,noFade:{default:!1},transProps:null},setup(e){const t=e,n=Xc((0,i.lW)(t,"appear")),r=Xc((0,i.lW)(t,"noFade")),l=(0,s.EW)((()=>{const e={name:"",enterActiveClass:"",enterToClass:"",leaveActiveClass:"",leaveToClass:"showing",enterFromClass:"showing",leaveFromClass:""},t={...e,enterActiveClass:"fade showing",leaveActiveClass:"fade showing"};return r.value?e:t})),u=(0,s.EW)((()=>({mode:t.mode,css:!0,...l.value}))),c=(0,s.EW)((()=>void 0!==t.transProps?{...u.value,...t.transProps}:n.value?{...u.value,appear:!0,appearActiveClass:l.value.enterActiveClass,appearToClass:l.value.enterToClass}:u.value));return(e,t)=>((0,s.uX)(),(0,s.Wv)(a.eB,(0,o._B)((0,s.Ng)((0,i.R1)(c))),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},16))}}),jd=["type","disabled","aria-label"],Ud=(0,s.pM)({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{default:!1},white:{default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const n=e,r=Xc((0,i.lW)(n,"disabled")),a=Xc((0,i.lW)(n,"white")),l=(0,s.EW)((()=>({"btn-close-white":a.value})));return(n,a)=>((0,s.uX)(),(0,s.CE)("button",{type:e.type,class:(0,o.C4)(["btn-close",(0,i.R1)(l)]),disabled:(0,i.R1)(r),"aria-label":e.ariaLabel,onClick:a[0]||(a[0]=e=>t("click",e))},null,10,jd))}}),zd={key:0,class:"visually-hidden"},qd=(0,s.pM)({__name:"BSpinner",props:{label:null,role:{default:"status"},small:{default:!1},tag:{default:"span"},type:{default:"border"},variant:null},setup(e){const t=e,n=(0,s.Ht)(),r=Xc((0,i.lW)(t,"small")),a=(0,s.EW)((()=>({"spinner-border":"border"===t.type,"spinner-border-sm":"border"===t.type&&r.value,"spinner-grow":"grow"===t.type,"spinner-grow-sm":"grow"===t.type&&r.value,[`text-${t.variant}`]:void 0!==t.variant}))),l=(0,s.EW)((()=>!_c(n.label)));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)((0,i.R1)(a)),role:e.label||(0,i.R1)(l)?e.role:null,"aria-hidden":!e.label&&!(0,i.R1)(l)||null},{default:(0,s.k6)((()=>[e.label||(0,i.R1)(l)?((0,s.uX)(),(0,s.CE)("span",zd,[(0,s.RG)(t.$slots,"label",{},(()=>[(0,s.eW)((0,o.v_)(e.label),1)]))])):(0,s.Q3)("",!0)])),_:3},8,["class","role","aria-hidden"]))}}),Gd={active:{type:[Boolean,String],default:!1},activeClass:{type:String,default:"router-link-active"},append:{type:[Boolean,String],default:!1},disabled:{type:[Boolean,String],default:!1},event:{type:[String,Array],default:"click"},exact:{type:[Boolean,String],default:!1},exactActiveClass:{type:String,default:"router-link-exact-active"},href:{type:String},rel:{type:String,default:null},replace:{type:[Boolean,String],default:!1},routerComponentName:{type:String,default:"router-link"},routerTag:{type:String,default:"a"},target:{type:String,default:"_self"},to:{type:[String,Object],default:null}},Kd=(0,s.pM)({props:Gd,emits:["click"],setup(e,{emit:t,attrs:n}){const r=Xc((0,i.lW)(e,"active")),o=Xc((0,i.lW)(e,"append")),a=Xc((0,i.lW)(e,"disabled")),l=Xc((0,i.lW)(e,"exact")),u=Xc((0,i.lW)(e,"replace")),c=(0,s.nI)(),d=(0,i.KR)(null),h=(0,s.EW)((()=>{const t=e.routerComponentName.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("");return void 0===(null==c?void 0:c.appContext.app.component(t))||a.value||!e.to?"a":e.routerComponentName})),f=(0,s.EW)((()=>{const t="#";if(e.href)return e.href;if("string"==typeof e.to)return e.to||t;const n=e.to;if("[object Object]"===Object.prototype.toString.call(n)&&(n.path||n.query||n.hash)){const e=n.path||"",r=n.query?`?${Object.keys(n.query).map((e=>`${e}=${n.query[e]}`)).join("=")}`:"",i=n.hash&&"#"!==n.hash.charAt(0)?`#${n.hash}`:n.hash||"";return`${e}${r}${i}`||t}return t})),p=(0,s.EW)((()=>({to:e.to,href:f.value,target:e.target,rel:"_blank"===e.target&&null===e.rel?"noopener":e.rel||null,tabindex:a.value?"-1":typeof n.tabindex>"u"?null:n.tabindex,"aria-disabled":a.value?"true":null})));return{computedLinkClasses:(0,s.EW)((()=>({active:r.value,disabled:a.value}))),tag:h,routerAttr:p,link:d,clicked:e=>{if(a.value)return e.preventDefault(),void e.stopImmediatePropagation();t("click",e)},activeBoolean:r,appendBoolean:o,disabledBoolean:a,replaceBoolean:u,exactBoolean:l}}}),Hd=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};function Xd(e,t,n,r,i,o){return"router-link"===e.tag?((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),(0,s.v6)({key:0},e.routerAttr,{custom:""}),{default:(0,s.k6)((({href:t,navigate:n,isActive:r,isExactActive:i})=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.routerTag),(0,s.v6)({ref:"link",href:t,class:[(r||e.activeBoolean)&&e.activeClass,(i||e.exactBoolean)&&e.exactActiveClass]},e.$attrs,{onClick:n}),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:2},1040,["href","class","onClick"]))])),_:3},16)):((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),(0,s.v6)({key:1,ref:"link",class:e.computedLinkClasses},e.routerAttr,{onClick:e.clicked}),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},16,["class","onClick"]))}const Qd=Hd(Kd,[["render",Xd]]),Yd=(0,s.pM)({components:{BLink:Qd,BSpinner:qd},props:{...Gd,active:{type:[Boolean,String],default:!1},disabled:{type:[Boolean,String],default:!1},href:{type:String,required:!1},pill:{type:[Boolean,String],default:!1},pressed:{type:[Boolean,String],default:!1},rel:{type:String,default:void 0},size:{type:String,default:"md"},squared:{type:[Boolean,String],default:!1},tag:{type:String,default:"button"},target:{type:String,default:"_self"},type:{type:String,default:"button"},variant:{type:String,default:"secondary"},loading:{type:[Boolean,String],default:!1},loadingMode:{type:String,default:"inline"}},emits:["click","update:pressed"],setup(e,{emit:t}){const n=Xc((0,i.lW)(e,"active")),r=Xc((0,i.lW)(e,"disabled")),o=Xc((0,i.lW)(e,"pill")),a=Xc((0,i.lW)(e,"pressed")),l=Xc((0,i.lW)(e,"squared")),u=Xc((0,i.lW)(e,"loading")),c=(0,s.EW)((()=>!0===a.value)),d=(0,s.EW)((()=>"button"===e.tag&&void 0===e.href&&null===e.to)),h=(0,s.EW)((()=>Hc(e))),f=(0,s.EW)((()=>null!==e.to)),p=(0,s.EW)((()=>void 0===e.href&&!d.value)),m=(0,s.EW)((()=>[[`btn-${e.variant}`],[`btn-${e.size}`],{active:n.value||a.value,"rounded-pill":o.value,"rounded-0":l.value,disabled:r.value}])),g=(0,s.EW)((()=>({"aria-disabled":p.value?r.value:null,"aria-pressed":c.value?a.value:null,autocomplete:c.value?"off":null,disabled:d.value?r.value:null,href:e.href,rel:h.value?e.rel:null,role:p.value||h.value?"button":null,target:h.value?e.target:null,type:d.value?e.type:null,to:d.value?null:e.to,append:h.value?e.append:null,activeClass:f.value?e.activeClass:null,event:f.value?e.event:null,exact:f.value?e.exact:null,exactActiveClass:f.value?e.exactActiveClass:null,replace:f.value?e.replace:null,routerComponentName:f.value?e.routerComponentName:null,routerTag:f.value?e.routerTag:null}))),v=(0,s.EW)((()=>f.value?Qd:e.href?"a":e.tag));return{computedClasses:m,computedAttrs:g,computedTag:v,clicked:e=>{if(r.value)return e.preventDefault(),void e.stopPropagation();t("click",e),c.value&&t("update:pressed",!a.value)},loadingBoolean:u}}});function Jd(e,t,n,r,i,a){const l=(0,s.g2)("b-spinner");return(0,s.uX)(),(0,s.Wv)((0,s.$y)(e.computedTag),(0,s.v6)({class:["btn",e.computedClasses]},e.computedAttrs,{onClick:e.clicked}),{default:(0,s.k6)((()=>[e.loadingBoolean?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,o.C4)(["btn-loading",{"mode-fill":"fill"===e.loadingMode,"mode-inline":"inline"===e.loadingMode}])},[(0,s.RG)(e.$slots,"loading",{},(()=>[(0,s.bF)(l,{class:"btn-spinner",small:"lg"!==e.size},null,8,["small"])]))],2)):(0,s.Q3)("",!0),(0,s.Lk)("div",{class:(0,o.C4)(["btn-content",{"btn-loading-fill":e.loadingBoolean&&"fill"===e.loadingMode}])},[(0,s.RG)(e.$slots,"default")],2)])),_:3},16,["class","onClick"])}const Zd=Hd(Yd,[["render",Jd]]),eh=(e,t=(0,i.KR)(1e3),n={})=>{const r=(0,i.KR)(!1),o=(0,i.KR)(0),a=(0,i.KR)(Tl(e)),l=(0,i.KR)(Tl(t)),u=(0,s.EW)((()=>Math.ceil(a.value/l.value))),c=(0,s.EW)((()=>f.value||r.value?Math.round(a.value-o.value*l.value):0)),{pause:d,resume:h,isActive:f}=Nl((()=>o.value=o.value+1),t,n),p=()=>{r.value=!1,o.value=0,h()},m=()=>{r.value=!1,o.value=u.value};(0,s.nT)((()=>{const t=Tl(e),n=a.value;t!==n&&(a.value=t,m(),p())})),(0,s.nT)((()=>{const e=Tl(t),n=l.value;e!==n&&(l.value=e,m(),p())})),(0,s.nT)((()=>{o.value>u.value&&(o.value=u.value),o.value===u.value&&d()}));const g=()=>{!1!==f.value&&(r.value=!0,d())},v=()=>{o.value!==u.value&&(r.value=!1,h())};return{isActive:(0,i.tB)(f),isPaused:(0,i.tB)(r),restart:p,stop:m,pause:g,resume:v,value:c}},th=(0,s.pM)({__name:"BAlert",props:{dismissLabel:{default:"Close"},dismissible:{default:!1},fade:{default:!1},modelValue:{type:[Boolean,Number],default:!1},variant:{default:"info"},closeContent:null,immediate:{default:!0},interval:{default:1e3},showOnPause:{default:!0}},emits:["closed","close-countdown","update:modelValue"],setup(e,{expose:t,emit:n}){const r=e,a=Xc((0,i.lW)(r,"dismissible")),l=Xc((0,i.lW)(r,"fade")),u=Xc((0,i.lW)(r,"immediate")),c=Xc((0,i.lW)(r,"showOnPause")),d=(0,s.Ht)(),h=(0,s.EW)((()=>!_c(d.close))),f=(0,s.EW)((()=>[[`alert-${r.variant}`],{"alert-dismissible":a.value}])),{isActive:p,pause:m,restart:g,resume:v,stop:y,isPaused:b,value:_}=eh("boolean"==typeof r.modelValue?0:(0,i.lW)(r,"modelValue"),(0,i.lW)(r,"interval"),{immediate:"number"==typeof r.modelValue&&u.value}),w=(0,s.EW)((()=>"boolean"==typeof r.modelValue?r.modelValue:p.value||c.value&&b.value));(0,s.nT)((()=>n("close-countdown",_.value)));const E=()=>{"boolean"==typeof r.modelValue?n("update:modelValue",!1):(n("update:modelValue",0),y()),n("closed")};return(0,s.xo)((()=>y())),t({pause:m,resume:v,restart:g,stop:y}),(t,n)=>((0,s.uX)(),(0,s.Wv)($d,{"no-fade":!(0,i.R1)(l),"trans-props":{enterToClass:"show"}},{default:(0,s.k6)((()=>[(0,i.R1)(w)?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,o.C4)(["alert",(0,i.R1)(f)]),role:"alert","aria-live":"polite","aria-atomic":"true"},[(0,s.RG)(t.$slots,"default"),(0,i.R1)(a)?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,i.R1)(h)||e.closeContent?((0,s.uX)(),(0,s.Wv)(Zd,{key:0,type:"button",onClick:E},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"close",{},(()=>[(0,s.eW)((0,o.v_)(e.closeContent),1)]))])),_:3})):((0,s.uX)(),(0,s.Wv)(Ud,{key:1,"aria-label":e.dismissLabel,onClick:E},null,8,["aria-label"]))],64)):(0,s.Q3)("",!0)],2)):(0,s.Q3)("",!0)])),_:3},8,["no-fade"]))}}),nh=Symbol(),rh=(0,s.pM)({__name:"BAvatarGroup",props:{overlap:{default:.3},rounded:{type:[Boolean,String],default:!1},size:null,square:{default:!1},tag:{default:"div"},variant:null},setup(e){const t=e,n=Xc((0,i.lW)(t,"square")),r=(0,s.EW)((()=>ah(t.size))),a=(0,s.EW)((()=>Math.min(Math.max(u(t.overlap),0),1)/2)),l=(0,s.EW)((()=>{const e=r.value?`calc(${r.value} * ${a.value})`:null;return e?{paddingLeft:e,paddingRight:e}:{}})),u=e=>"string"==typeof e&&Du(e)?$c(e,0):e||0;return(0,s.Gt)(nh,{overlapScale:a,size:t.size,square:n.value,rounded:t.rounded,variant:t.variant}),(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:"b-avatar-group",role:"group"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:"b-avatar-group-inner",style:(0,o.Tr)((0,i.R1)(l))},[(0,s.RG)(t.$slots,"default")],4)])),_:3}))}}),ih={key:0,class:"b-avatar-custom"},sh={key:1,class:"b-avatar-img"},oh=["src","alt"],ah=e=>{const t="string"==typeof e&&Du(e)?$c(e,0):e;return"number"==typeof t?`${t}px`:t||null},lh=(0,s.pM)({__name:"BAvatar",props:{alt:{default:"avatar"},ariaLabel:null,badge:{type:[Boolean,String],default:!1},badgeLeft:{default:!1},badgeOffset:null,badgeTop:{default:!1},badgeVariant:{default:"primary"},button:{default:!1},buttonType:{default:"button"},disabled:{default:!1},icon:null,rounded:{type:[Boolean,String],default:"circle"},size:null,square:{default:!1},src:null,text:null,textVariant:null,variant:{default:"secondary"}},emits:["click","img-error"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),a=(0,s.WQ)(nh,null),l=["sm",null,"lg"],u=.4,c=.7*u,d=Xc((0,i.lW)(n,"badgeLeft")),h=Xc((0,i.lW)(n,"badgeTop")),f=Xc((0,i.lW)(n,"button")),p=Xc((0,i.lW)(n,"disabled")),m=Xc((0,i.lW)(n,"square")),g=(0,s.EW)((()=>!_c(r.default))),v=(0,s.EW)((()=>!_c(r.badge))),y=(0,s.EW)((()=>!!n.badge||""===n.badge||v.value)),b=(0,s.EW)((()=>null!=a&&a.size?a.size:ah(n.size))),_=(0,s.EW)((()=>null!=a&&a.variant?a.variant:n.variant)),w=(0,s.EW)((()=>null!=a&&a.rounded?a.rounded:n.rounded)),E=(0,s.EW)((()=>({type:f.value?n.buttonType:void 0,"aria-label":n.ariaLabel||null,disabled:p.value||null}))),I=(0,s.EW)((()=>[`bg-${n.badgeVariant}`])),T=(0,s.EW)((()=>!0===n.badge?"":n.badge)),C=(0,s.EW)((()=>[[`text-${D(n.badgeVariant)}`]])),S=(0,s.EW)((()=>({[`b-avatar-${n.size}`]:!!n.size&&-1!==l.indexOf(ah(n.size)),[`bg-${_.value}`]:!!_.value,badge:!f.value&&_.value&&g.value,rounded:""===w.value||!0===w.value,["rounded-circle"]:!m.value&&"circle"===w.value,["rounded-0"]:m.value||"0"===w.value,["rounded-1"]:!m.value&&"sm"===w.value,["rounded-3"]:!m.value&&"lg"===w.value,["rounded-top"]:!m.value&&"top"===w.value,["rounded-bottom"]:!m.value&&"bottom"===w.value,["rounded-start"]:!m.value&&"left"===w.value,["rounded-end"]:!m.value&&"right"===w.value,btn:f.value,[`btn-${_.value}`]:!!f.value&&!!_.value}))),k=(0,s.EW)((()=>[[`text-${n.textVariant||D(_.value)}`]])),A=(0,s.EW)((()=>{const e=n.badgeOffset||"0px";return{fontSize:(-1===l.indexOf(b.value||null)?`calc(${b.value} * ${c})`:"")||"",top:h.value?e:"",bottom:h.value?"":e,left:d.value?e:"",right:d.value?"":e}})),x=(0,s.EW)((()=>{const e=-1===l.indexOf(b.value||null)?`calc(${b.value} * ${u})`:null;return e?{fontSize:e}:{}})),R=(0,s.EW)((()=>{var e;const t=(null==(e=null==a?void 0:a.overlapScale)?void 0:e.value)||0,n=b.value&&t?`calc(${b.value} * -${t})`:null;return n?{marginLeft:n,marginRight:n}:{}})),O=(0,s.EW)((()=>f.value?"button":"span")),N=(0,s.EW)((()=>({...R.value,width:b.value,height:b.value}))),D=e=>"light"===e||"warning"===e?"dark":"light",P=e=>{!p.value&&f.value&&t("click",e)},L=e=>t("img-error",e);return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)((0,i.R1)(O)),(0,s.v6)({class:["b-avatar",(0,i.R1)(S)],style:(0,i.R1)(N)},(0,i.R1)(E),{onClick:P}),{default:(0,s.k6)((()=>[(0,i.R1)(g)?((0,s.uX)(),(0,s.CE)("span",ih,[(0,s.RG)(t.$slots,"default")])):e.src?((0,s.uX)(),(0,s.CE)("span",sh,[(0,s.Lk)("img",{src:e.src,alt:e.alt,onError:L},null,40,oh)])):e.text?((0,s.uX)(),(0,s.CE)("span",{key:2,class:(0,o.C4)(["b-avatar-text",(0,i.R1)(k)]),style:(0,o.Tr)((0,i.R1)(x))},(0,o.v_)(e.text),7)):(0,s.Q3)("",!0),(0,i.R1)(y)?((0,s.uX)(),(0,s.CE)("span",{key:3,class:(0,o.C4)(["b-avatar-badge",(0,i.R1)(I)]),style:(0,o.Tr)((0,i.R1)(A))},[(0,i.R1)(v)?(0,s.RG)(t.$slots,"badge",{key:0}):((0,s.uX)(),(0,s.CE)("span",{key:1,class:(0,o.C4)((0,i.R1)(C))},(0,o.v_)((0,i.R1)(T)),3))],6)):(0,s.Q3)("",!0)])),_:3},16,["class","style"]))}}),uh=jc(Gd,["event","routerTag"]),ch=(0,s.pM)({components:{BLink:Qd},props:{pill:{type:[Boolean,String],default:!1},tag:{type:String,default:"span"},variant:{type:String,default:"secondary"},textIndicator:{type:[Boolean,String],default:!1},dotIndicator:{type:[Boolean,String],default:!1},...uh},setup(e){const t=Xc((0,i.lW)(e,"pill")),n=Xc((0,i.lW)(e,"textIndicator")),r=Xc((0,i.lW)(e,"dotIndicator")),o=Xc((0,i.lW)(e,"active")),a=Xc((0,i.lW)(e,"disabled")),l=(0,s.EW)((()=>Hc(e))),u=(0,s.EW)((()=>l.value?Qd:e.tag)),c=(0,s.EW)((()=>[[`bg-${e.variant}`],{active:o.value,disabled:a.value,"text-dark":["warning","info","light"].includes(e.variant),"rounded-pill":t.value,"position-absolute top-0 start-100 translate-middle":n.value||r.value,"p-2 border border-light rounded-circle":r.value,"text-decoration-none":l.value}])),d=(0,s.EW)((()=>l.value?Gc(e,uh):{}));return{computedClasses:c,computedLinkProps:d,computedTag:u}}});function dh(e,t,n,r,i,o){return(0,s.uX)(),(0,s.Wv)((0,s.$y)(e.computedTag),(0,s.v6)({class:["badge",e.computedClasses]},e.computedLinkProps),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},16,["class"])}const hh=Hd(ch,[["render",dh]]),fh=jc(Gd,["event","routerTag"]),ph=(0,s.pM)({components:{BLink:Qd},props:{...fh,active:{type:[Boolean,String],default:!1},ariaCurrent:{type:String,default:"location"},disabled:{type:[Boolean,String],default:!1},text:{type:String,required:!1}},emits:["click"],setup(e,{emit:t}){const n=Xc((0,i.lW)(e,"active")),r=Xc((0,i.lW)(e,"disabled")),o=(0,s.EW)((()=>({active:n.value}))),a=(0,s.EW)((()=>n.value?"span":Qd)),l=(0,s.EW)((()=>n.value?e.ariaCurrent:void 0));return{computedLinkProps:(0,s.EW)((()=>"span"!==a.value?Gc(e,fh):{})),computedClasses:o,computedTag:a,computedAriaCurrent:l,clicked:e=>{if(r.value||n.value)return e.preventDefault(),void e.stopImmediatePropagation();r.value||t("click",e)}}}});function mh(e,t,n,r,i,a){return(0,s.uX)(),(0,s.CE)("li",{class:(0,o.C4)(["breadcrumb-item",e.computedClasses])},[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.computedTag),(0,s.v6)({"aria-current":e.computedAriaCurrent},e.computedLinkProps,{onClick:e.clicked}),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},16,["aria-current","onClick"]))],2)}const gh=Hd(ph,[["render",mh]]),vh={"aria-label":"breadcrumb"},yh={class:"breadcrumb"},bh=(0,s.pM)({__name:"BBreadcrumb",props:{items:null},setup(e){const t=e,n=Zc(),r=(0,s.EW)((()=>{const e=t.items||(null==n?void 0:n.items)||[];let r=!1;return e.map(((t,n)=>("string"==typeof t&&(t={text:t},n<e.length-1&&(t.href="#")),t.active&&(r=!0),!t.active&&!r&&(t.active=n+1===e.length),t)))}));return(e,t)=>((0,s.uX)(),(0,s.CE)("nav",vh,[(0,s.Lk)("ol",yh,[(0,s.RG)(e.$slots,"prepend"),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(r),((e,t)=>((0,s.uX)(),(0,s.Wv)(gh,(0,s.v6)({key:t},e),{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.text),1)])),_:2},1040)))),128)),(0,s.RG)(e.$slots,"default"),(0,s.RG)(e.$slots,"append")])]))}}),_h=(0,s.pM)({__name:"BButtonGroup",props:{ariaLabel:{default:"Group"},size:null,tag:{default:"div"},vertical:{default:!1}},setup(e){const t=e,n=Xc((0,i.lW)(t,"vertical")),r=(0,s.EW)((()=>({"btn-group":!n.value,[`btn-group-${t.size}`]:void 0!==t.size,"btn-group-vertical":n.value})));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)((0,i.R1)(r)),role:"group","aria-label":e.ariaLabel},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default")])),_:3},8,["class","aria-label"]))}}),wh=["role","aria-label"],Eh=(0,s.pM)({__name:"BButtonToolbar",props:{ariaLabel:{default:"Group"},justify:{default:!1},role:{default:"toolbar"}},setup(e){const t=Xc((0,i.lW)(e,"justify")),n=(0,s.EW)((()=>({"justify-content-between":t.value})));return(t,r)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)([(0,i.R1)(n),"btn-toolbar"]),role:e.role,"aria-label":e.ariaLabel},[(0,s.RG)(t.$slots,"default")],10,wh))}}),Ih=(0,s.pM)({__name:"BImg",props:{alt:null,blank:{default:!1},blankColor:{default:"transparent"},block:{default:!1},center:{default:!1},fluid:{default:!1},lazy:{default:!1},fluidGrow:{default:!1},height:null,left:{default:!1},start:{default:!1},right:{default:!1},end:{default:!1},rounded:{type:[Boolean,String],default:!1},sizes:null,src:null,srcset:null,thumbnail:{default:!1},width:null},emits:["load"],setup(e,{emit:t}){const n=e,r='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>',o=Xc((0,i.lW)(n,"lazy")),a=Xc((0,i.lW)(n,"blank")),l=Xc((0,i.lW)(n,"block")),u=Xc((0,i.lW)(n,"center")),c=Xc((0,i.lW)(n,"fluid")),d=Xc((0,i.lW)(n,"fluidGrow")),h=Xc((0,i.lW)(n,"left")),f=Xc((0,i.lW)(n,"start")),p=Xc((0,i.lW)(n,"right")),m=Xc((0,i.lW)(n,"end")),g=Xc((0,i.lW)(n,"thumbnail")),v=(0,s.EW)((()=>"string"==typeof n.srcset?n.srcset.split(",").filter((e=>e)).join(","):Array.isArray(n.srcset)?n.srcset.filter((e=>e)).join(","):void 0)),y=(0,s.EW)((()=>"string"==typeof n.sizes?n.sizes.split(",").filter((e=>e)).join(","):Array.isArray(n.sizes)?n.sizes.filter((e=>e)).join(","):void 0)),b=(0,s.EW)((()=>{const e=e=>void 0===e?void 0:"number"==typeof e?e:Number.parseInt(e,10)||void 0,t=e(n.width),r=e(n.height);if(a.value){if(void 0!==t&&void 0===r)return{height:t,width:t};if(void 0===t&&void 0!==r)return{height:r,width:r};if(void 0===t&&void 0===r)return{height:1,width:1}}return{width:t,height:r}})),_=(0,s.EW)((()=>T(b.value.width,b.value.height,n.blankColor))),w=(0,s.EW)((()=>({src:a.value?_.value:n.src,alt:n.alt,width:b.value.width||void 0,height:b.value.height||void 0,srcset:a.value?void 0:v.value,sizes:a.value?void 0:y.value,loading:o.value?"lazy":"eager"}))),E=(0,s.EW)((()=>h.value||f.value?"float-start":p.value||m.value?"float-end":u.value?"mx-auto":void 0)),I=(0,s.EW)((()=>({"img-thumbnail":g.value,"img-fluid":c.value||d.value,"w-100":d.value,rounded:""===n.rounded||!0===n.rounded,[`rounded-${n.rounded}`]:"string"==typeof n.rounded&&""!==n.rounded,[`${E.value}`]:void 0!==E.value,"d-block":l.value||u.value}))),T=(e,t,n)=>`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(r.replace("%{w}",String(e)).replace("%{h}",String(t)).replace("%{f}",n))}`;return(e,n)=>((0,s.uX)(),(0,s.CE)("img",(0,s.v6)({class:(0,i.R1)(I)},(0,i.R1)(w),{onLoad:n[0]||(n[0]=e=>t("load",e))}),null,16))}}),Th=(0,s.pM)({__name:"BCardImg",props:{alt:null,blank:{default:!1},blankColor:null,bottom:{default:!1},lazy:{default:!1},height:null,left:{default:!1},start:{default:!1},right:{default:!1},end:{default:!1},sizes:null,src:null,srcset:null,top:{default:!1},width:null},emits:["load"],setup(e,{emit:t}){const n=e,r=Xc((0,i.lW)(n,"bottom")),o=Xc((0,i.lW)(n,"end")),a=Xc((0,i.lW)(n,"left")),l=Xc((0,i.lW)(n,"right")),u=Xc((0,i.lW)(n,"start")),c=Xc((0,i.lW)(n,"top")),d=(0,s.EW)((()=>c.value?"card-img-top":l.value||o.value?"card-img-right":r.value?"card-img-bottom":a.value||u.value?"card-img-left":"card-img")),h=(0,s.EW)((()=>({alt:n.alt,height:n.height,src:n.src,lazy:n.lazy,width:n.width,blank:n.blank,blankColor:n.blankColor,sizes:n.sizes,srcset:n.srcset})));return(e,n)=>((0,s.uX)(),(0,s.Wv)(Ih,(0,s.v6)({class:(0,i.R1)(d)},(0,i.R1)(h),{onLoad:n[0]||(n[0]=e=>t("load",e))}),null,16,["class"]))}}),Ch=["innerHTML"],Sh=(0,s.pM)({__name:"BCardHeadFoot",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e,n=(0,s.EW)((()=>({[`text-${t.textVariant}`]:void 0!==t.textVariant,[`bg-${t.bgVariant}`]:void 0!==t.bgVariant,[`border-${t.borderVariant}`]:void 0!==t.borderVariant})));return(t,r)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)((0,i.R1)(n))},{default:(0,s.k6)((()=>[e.html?((0,s.uX)(),(0,s.CE)("div",{key:0,innerHTML:e.html},null,8,Ch)):(0,s.RG)(t.$slots,"default",{key:1},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},8,["class"]))}}),kh=(0,s.pM)({__name:"BCardHeader",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e;return(e,n)=>((0,s.uX)(),(0,s.Wv)(Sh,(0,s.v6)({class:"card-header"},t),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},16))}}),Ah=(0,s.pM)({__name:"BCardTitle",props:{text:null,tag:{default:"h4"}},setup(e){return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:"card-title"},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3}))}}),xh=(0,s.pM)({__name:"BCardSubtitle",props:{text:null,tag:{default:"h6"},textVariant:{default:"muted"}},setup(e){const t=e,n=(0,s.EW)((()=>[`text-${t.textVariant}`]));return(t,r)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)(["card-subtitle mb-2",(0,i.R1)(n)])},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},8,["class"]))}}),Rh=(0,s.pM)({__name:"BCardBody",props:{bodyBgVariant:null,bodyTag:{default:"div"},bodyTextVariant:null,overlay:{default:!1},subtitle:null,subtitleTag:{default:"h4"},subtitleTextVariant:null,title:null,titleTag:{default:"h4"},text:null},setup(e){const t=e,n=(0,s.Ht)(),r=Xc((0,i.lW)(t,"overlay")),a=(0,s.EW)((()=>!_c(n.title))),l=(0,s.EW)((()=>!_c(n.subtitle))),u=(0,s.EW)((()=>({"card-img-overlay":r.value,[`text-${t.bodyTextVariant}`]:void 0!==t.bodyTextVariant,[`bg-${t.bodyBgVariant}`]:void 0!==t.bodyBgVariant})));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.bodyTag),{class:(0,o.C4)(["card-body",(0,i.R1)(u)])},{default:(0,s.k6)((()=>[e.title||(0,i.R1)(a)?((0,s.uX)(),(0,s.Wv)(Ah,{key:0,tag:e.titleTag},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"title",{},(()=>[(0,s.eW)((0,o.v_)(e.title),1)]))])),_:3},8,["tag"])):(0,s.Q3)("",!0),e.subtitle||(0,i.R1)(l)?((0,s.uX)(),(0,s.Wv)(xh,{key:1,tag:e.subtitleTag,"text-variant":e.subtitleTextVariant},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"subtitle",{},(()=>[(0,s.eW)((0,o.v_)(e.subtitle),1)]))])),_:3},8,["tag","text-variant"])):(0,s.Q3)("",!0),(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},8,["class"]))}}),Oh=(0,s.pM)({__name:"BCardFooter",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e;return(n,r)=>((0,s.uX)(),(0,s.Wv)(Sh,(0,s.v6)({class:"card-footer"},t),{default:(0,s.k6)((()=>[(0,s.RG)(n.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},16))}}),Nh=(0,s.pM)({__name:"BCard",props:{align:null,bgVariant:null,bodyBgVariant:null,bodyClass:null,bodyTag:{default:"div"},bodyTextVariant:null,borderVariant:null,footer:null,footerBgVariant:null,footerBorderVariant:null,footerClass:null,footerHtml:{default:""},footerTag:{default:"div"},footerTextVariant:null,header:null,headerBgVariant:null,headerBorderVariant:null,headerClass:null,headerHtml:{default:""},headerTag:{default:"div"},headerTextVariant:null,imgAlt:null,imgBottom:{default:!1},imgEnd:{default:!1},imgHeight:null,imgLeft:{default:!1},imgRight:{default:!1},imgSrc:null,imgStart:{default:!1},imgTop:{default:!1},imgWidth:null,noBody:{default:!1},overlay:{default:!1},subtitle:null,subtitleTag:{default:"h6"},subtitleTextVariant:{default:"muted"},tag:{default:"div"},textVariant:null,title:null,titleTag:{default:"h4"},bodyText:{default:""}},setup(e){const t=e,n=(0,s.Ht)(),r=Xc((0,i.lW)(t,"imgBottom")),a=Xc((0,i.lW)(t,"imgEnd")),l=Xc((0,i.lW)(t,"imgLeft")),u=Xc((0,i.lW)(t,"imgRight")),c=Xc((0,i.lW)(t,"imgStart")),d=Xc((0,i.lW)(t,"noBody")),h=(0,s.EW)((()=>!_c(n.header))),f=(0,s.EW)((()=>!_c(n.footer))),p=(0,s.EW)((()=>({[`text-${t.align}`]:void 0!==t.align,[`text-${t.textVariant}`]:void 0!==t.textVariant,[`bg-${t.bgVariant}`]:void 0!==t.bgVariant,[`border-${t.borderVariant}`]:void 0!==t.borderVariant,"flex-row":l.value||c.value,"flex-row-reverse":a.value||u.value}))),m=(0,s.EW)((()=>({bgVariant:t.headerBgVariant,borderVariant:t.headerBorderVariant,html:t.headerHtml,tag:t.headerTag,textVariant:t.headerTextVariant}))),g=(0,s.EW)((()=>({overlay:t.overlay,bodyBgVariant:t.bodyBgVariant,bodyTag:t.bodyTag,bodyTextVariant:t.bodyTextVariant,subtitle:t.subtitle,subtitleTag:t.subtitleTag,subtitleTextVariant:t.subtitleTextVariant,title:t.title,titleTag:t.titleTag}))),v=(0,s.EW)((()=>({bgVariant:t.footerBgVariant,borderVariant:t.footerBorderVariant,html:t.footerHtml,tag:t.footerTag,textVariant:t.footerTextVariant}))),y=(0,s.EW)((()=>({src:t.imgSrc,alt:t.imgAlt,height:t.imgHeight,width:t.imgWidth,bottom:t.imgBottom,end:t.imgEnd,left:t.imgLeft,right:t.imgRight,start:t.imgStart,top:t.imgTop})));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)(["card",(0,i.R1)(p)])},{default:(0,s.k6)((()=>[(0,i.R1)(r)?(0,s.Q3)("",!0):(0,s.RG)(t.$slots,"img",{key:0},(()=>[e.imgSrc?((0,s.uX)(),(0,s.Wv)(Th,(0,o._B)((0,s.v6)({key:0},(0,i.R1)(y))),null,16)):(0,s.Q3)("",!0)])),e.header||(0,i.R1)(h)||e.headerHtml?((0,s.uX)(),(0,s.Wv)(kh,(0,s.v6)({key:1},(0,i.R1)(m),{class:e.headerClass}),{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"header",{},(()=>[(0,s.eW)((0,o.v_)(e.header),1)]))])),_:3},16,["class"])):(0,s.Q3)("",!0),(0,i.R1)(d)?(0,s.RG)(t.$slots,"default",{key:3},(()=>[(0,s.eW)((0,o.v_)(e.bodyText),1)])):((0,s.uX)(),(0,s.Wv)(Rh,(0,s.v6)({key:2},(0,i.R1)(g),{class:e.bodyClass}),{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.bodyText),1)]))])),_:3},16,["class"])),e.footer||(0,i.R1)(f)||e.footerHtml?((0,s.uX)(),(0,s.Wv)(Oh,(0,s.v6)({key:4},(0,i.R1)(v),{class:e.footerClass}),{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"footer",{},(()=>[(0,s.eW)((0,o.v_)(e.footer),1)]))])),_:3},16,["class"])):(0,s.Q3)("",!0),(0,i.R1)(r)?(0,s.RG)(t.$slots,"img",{key:5},(()=>[e.imgSrc?((0,s.uX)(),(0,s.Wv)(Th,(0,o._B)((0,s.v6)({key:0},(0,i.R1)(y))),null,16)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])),_:3},8,["class"]))}}),Dh=(0,s.pM)({__name:"BCardGroup",props:{columns:{default:!1},deck:{default:!1},tag:{default:"div"}},setup(e){const t=e,n=Xc((0,i.lW)(t,"columns")),r=Xc((0,i.lW)(t,"deck")),a=(0,s.EW)((()=>r.value?"card-deck":n.value?"card-columns":"card-group")),l=(0,s.EW)((()=>[a.value]));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)((0,i.R1)(l))},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default")])),_:3},8,["class"]))}}),Ph=(0,s.pM)({__name:"BCardText",props:{text:null,tag:{default:"p"}},setup(e){return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:"card-text"},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3}))}}),Lh=["id"],Mh={key:0,class:"carousel-indicators"},Fh=["data-bs-target","data-bs-slide-to","aria-label"],Vh={class:"carousel-inner"},Bh=["data-bs-target"],Wh=(0,s.Lk)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),$h={class:"visually-hidden"},jh=["data-bs-target"],Uh=(0,s.Lk)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),zh={class:"visually-hidden"},qh=Symbol(),Gh=(0,s.pM)({__name:"BCarousel",props:{startingSlide:{default:0},id:null,imgHeight:null,imgWidth:null,background:null,modelValue:{default:0},controls:{default:!1},indicators:{default:!1},interval:{default:5e3},noTouch:{default:!1},noWrap:{default:!1},controlsPrevText:{default:"Previous"},controlsNextText:{default:"Next"},indicatorsButtonLabel:{default:"Slide"}},emits:["sliding-start","sliding-end"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),a=ud((0,i.lW)(n,"id"),"carousel"),l=Xc((0,i.lW)(n,"controls")),u=Xc((0,i.lW)(n,"indicators")),c=Xc((0,i.lW)(n,"noTouch"));Xc((0,i.lW)(n,"noWrap"));const d=(0,i.KR)(),h=(0,i.KR)(),f=(0,i.KR)([]);return ed(d,"slide.bs.carousel",(e=>t("sliding-start",e))),ed(d,"slid.bs.carousel",(e=>t("sliding-end",e))),(0,s.sV)((()=>{h.value=new xr(d.value,{wrap:!c.value,interval:n.interval,touch:!c.value}),r.default&&(f.value=r.default().filter((e=>{var t;return"BCarouselSlide"===(null==(t=e.type)?void 0:t.__name)})))})),(0,s.Gt)(qh,{background:n.background,width:n.imgWidth,height:n.imgHeight}),(t,n)=>((0,s.uX)(),(0,s.CE)("div",{id:(0,i.R1)(a),ref_key:"element",ref:d,class:"carousel slide","data-bs-ride":"carousel"},[(0,i.R1)(u)?((0,s.uX)(),(0,s.CE)("div",Mh,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(f.value,((t,n)=>((0,s.uX)(),(0,s.CE)("button",{key:n,type:"button","data-bs-target":`#${(0,i.R1)(a)}`,"data-bs-slide-to":n,class:(0,o.C4)(n===e.startingSlide?"active":""),"aria-current":"true","aria-label":`${e.indicatorsButtonLabel} ${n}`},null,10,Fh)))),128))])):(0,s.Q3)("",!0),(0,s.Lk)("div",Vh,[(0,s.RG)(t.$slots,"default")]),(0,i.R1)(l)?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Lk)("button",{class:"carousel-control-prev",type:"button","data-bs-target":`#${(0,i.R1)(a)}`,"data-bs-slide":"prev"},[Wh,(0,s.Lk)("span",$h,(0,o.v_)(e.controlsPrevText),1)],8,Bh),(0,s.Lk)("button",{class:"carousel-control-next",type:"button","data-bs-target":`#${(0,i.R1)(a)}`,"data-bs-slide":"next"},[Uh,(0,s.Lk)("span",zh,(0,o.v_)(e.controlsNextText),1)],8,jh)],64)):(0,s.Q3)("",!0)],8,Lh))}}),Kh=["data-bs-interval"],Hh=["innerHTML"],Xh={key:1},Qh=["innerHTML"],Yh={key:1},Jh=(0,s.pM)({__name:"BCarouselSlide",props:{imgSrc:null,imgHeight:null,imgWidth:null,interval:null,active:{default:!1},background:null,caption:null,captionHtml:null,captionTag:{default:"h3"},contentTag:{default:"div"},contentVisibleUp:null,id:null,imgAlt:null,imgBlank:{default:!1},imgBlankColor:{default:"transparent"},text:null,textHtml:null,textTag:{default:"p"}},setup(e){const t=e,n=(0,s.Ht)(),r=(0,s.WQ)(qh,{}),a=Xc((0,i.lW)(t,"active")),l=(0,s.EW)((()=>!_c(n.default))),u=(0,s.EW)((()=>({background:`${t.background||r.background||"rgb(171, 171, 171)"} none repeat scroll 0% 0%`}))),c=(0,s.EW)((()=>({"d-none":void 0!==t.contentVisibleUp,[`d-${t.contentVisibleUp}-block`]:void 0!==t.contentVisibleUp}))),d=(0,s.EW)((()=>r.width)),h=(0,s.EW)((()=>r.height));return(t,n)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)(["carousel-item",{active:(0,i.R1)(a)}]),"data-bs-interval":e.interval,style:(0,o.Tr)((0,i.R1)(u))},[(0,s.RG)(t.$slots,"img",{},(()=>[(0,s.bF)(Ih,{class:"d-block w-100",alt:e.imgAlt,src:e.imgSrc,width:e.imgWidth||(0,i.R1)(d),height:e.imgHeight||(0,i.R1)(h),blank:e.imgBlank,"blank-color":e.imgBlankColor},null,8,["alt","src","width","height","blank","blank-color"])])),e.caption||e.captionHtml||e.text||e.textHtml||(0,i.R1)(l)?((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.contentTag),{key:0,class:(0,o.C4)(["carousel-caption",(0,i.R1)(c)])},{default:(0,s.k6)((()=>[e.caption||e.captionHtml?((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.captionTag),{key:0},{default:(0,s.k6)((()=>[e.captionHtml?((0,s.uX)(),(0,s.CE)("span",{key:0,innerHTML:e.captionHtml},null,8,Hh)):((0,s.uX)(),(0,s.CE)("span",Xh,(0,o.v_)(e.caption),1))])),_:1})):(0,s.Q3)("",!0),e.text||e.textHtml?((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.textTag),{key:1},{default:(0,s.k6)((()=>[e.textHtml?((0,s.uX)(),(0,s.CE)("span",{key:0,innerHTML:e.textHtml},null,8,Qh)):((0,s.uX)(),(0,s.CE)("span",Yh,(0,o.v_)(e.text),1))])),_:1})):(0,s.Q3)("",!0),(0,s.RG)(t.$slots,"default")])),_:3},8,["class"])):(0,s.Q3)("",!0)],14,Kh))}}),Zh=Nc("",[],{type:[Boolean,String,Number],default:!1}),ef=Nc("offset",[""],{type:[String,Number],default:null}),tf=Nc("order",[""],{type:[String,Number],default:null}),nf=(0,s.pM)({name:"BCol",props:{col:{type:[Boolean,String],default:!1},cols:{type:[String,Number],default:null},...Zh,offset:{type:[String,Number],default:null},...ef,order:{type:[String,Number],default:null},...tf,alignSelf:{type:String,default:null},tag:{type:String,default:"div"}},setup(e){const t=[{content:Zh,propPrefix:"cols",classPrefix:"col"},{content:ef,propPrefix:"offset"},{content:tf,propPrefix:"order"}],n=Xc((0,i.lW)(e,"col")),r=(0,s.EW)((()=>t.flatMap((t=>Dc(e,t.content,t.propPrefix,t.classPrefix)))));return{computedClasses:(0,s.EW)((()=>[r.value,{col:n.value||!r.value.some((e=>/^col-/.test(e)))&&!e.cols,[`col-${e.cols}`]:!!e.cols,[`offset-${e.offset}`]:!!e.offset,[`order-${e.order}`]:!!e.order,[`align-self-${e.alignSelf}`]:!!e.alignSelf}]))}}});function rf(e,t,n,r,i,a){return(0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)(e.computedClasses)},{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},8,["class"])}const sf=Hd(nf,[["render",rf]]),of={autoHide:!0,delay:5e3,noCloseButton:!1,pos:"top-right",value:!0};class af{constructor(e){ul(this,"vm"),ul(this,"containerPositions"),(0,i.g8)(e)?this.vm=e:this.vm=(0,i.Kh)(e),this.containerPositions=(0,s.EW)((()=>{const e=new Set([]);return this.vm.toasts.map((t=>{t.options.pos&&e.add(t.options.pos)})),e}))}toasts(e){return e?(0,s.EW)((()=>this.vm.toasts.filter((t=>{if(t.options.pos===e&&t.options.value)return t})))):(0,s.EW)((()=>this.vm.toasts))}remove(...e){this.vm.toasts=this.vm.toasts.filter((t=>{if(t.options.id&&!e.includes(t.options.id))return t}))}isRoot(){var e;return null!=(e=this.vm.root)&&e}show(e,t=of){const n={id:Pc(),...of,...t},r={options:(0,i.Kh)(n),content:e};return this.vm.toasts.push(r),r}info(e,t=of){return this.show(e,{variant:"info",...t})}danger(e,t=of){return this.show(e,{variant:"danger",...t})}warning(e,t=of){return this.show(e,{variant:"warning",...t})}success(e,t=of){return this.show(e,{variant:"success",...t})}hide(){}}class lf{constructor(){ul(this,"vms"),ul(this,"rootInstance"),ul(this,"useToast",ff),this.vms={}}getOrCreateViewModel(e){if(!e){if(this.rootInstance)return this.vms[this.rootInstance];const e={root:!0,toasts:[],container:void 0,id:Symbol("toast")};return this.rootInstance=e.id,this.vms[e.id]=e,e}if(e.root){if(this.rootInstance)return this.vms[this.rootInstance];this.rootInstance=e.id}return this.vms[e.id]=e,e}getVM(e){return!e&&this.rootInstance?this.vms[this.rootInstance]:e?this.vms[e]:void 0}}const uf=Symbol(),cf=Symbol(),df={container:void 0,toasts:[],root:!1};function hf(){return(0,s.WQ)(cf)}function ff(e,t=uf){const n=(0,s.WQ)(hf());if(!e)return new af(n.getOrCreateViewModel());const r={id:Symbol("toastInstance")},i={...df,...r,...e},o=n.getOrCreateViewModel(i);return new af(o)}const pf={install:(e,t={})=>{var n,r,i,s;e.provide(cf,null!=(r=null==(n=null==t?void 0:t.BToast)?void 0:n.injectkey)?r:uf),e.provide(null!=(s=null==(i=null==t?void 0:t.BToast)?void 0:i.injectkey)?s:uf,new lf)}},mf="toast-title",gf=1e3,vf=(0,s.pM)({components:{BLink:Qd},props:{...Gd,delay:{type:Number,default:5e3},bodyClass:{type:String},body:{type:[Object,String]},headerClass:{type:String},headerTag:{type:String,default:"div"},animation:{type:[Boolean,String],default:!0},id:{type:String},isStatus:{type:[Boolean,String],default:!1},autoHide:{type:[Boolean,String],default:!0},noCloseButton:{type:[Boolean,String],default:!1},noFade:{type:[Boolean,String],default:!1},noHoverPause:{type:[Boolean,String],default:!1},solid:{type:[Boolean,String],default:!1},static:{type:[Boolean,String],default:!1},title:{type:String},modelValue:{type:[Boolean,String],default:!1},toastClass:{type:Array},variant:{type:String}},emits:["destroyed","update:modelValue"],setup(e,{emit:t,slots:n}){Xc((0,i.lW)(e,"animation"));const r=Xc((0,i.lW)(e,"isStatus")),o=Xc((0,i.lW)(e,"autoHide")),a=Xc((0,i.lW)(e,"noCloseButton")),l=Xc((0,i.lW)(e,"noFade")),u=Xc((0,i.lW)(e,"noHoverPause"));Xc((0,i.lW)(e,"solid")),Xc((0,i.lW)(e,"static"));const c=Xc((0,i.lW)(e,"modelValue")),d=(0,i.KR)(!1),h=(0,i.KR)(!1),f=(0,i.KR)(!1),p=(0,s.EW)((()=>({[`b-toast-${e.variant}`]:void 0!==e.variant,show:f.value||d.value})));let m,g,v;const y=()=>{typeof m>"u"||(clearTimeout(m),m=void 0)},b=(0,s.EW)((()=>Math.max(Bc(e.delay,0),gf))),_=()=>{c.value&&(g=v=0,y(),h.value=!0,Ac((()=>{f.value=!1})))},w=()=>{y(),t("update:modelValue",!0),g=v=0,h.value=!1,(0,s.dY)((()=>{Ac((()=>{f.value=!0}))}))},E=()=>{if(!o.value||u.value||!m||v)return;const e=Date.now()-g;e>0&&(y(),v=Math.max(b.value-e,gf))},I=()=>{(!o.value||u.value||!v)&&(v=g=0),T()};(0,s.wB)((()=>c.value),(e=>{e?w():_()}));const T=()=>{y(),o.value&&(m=setTimeout(_,v||b.value),g=Date.now(),v=0)},C=()=>{d.value=!0,t("update:modelValue",!0)},S=()=>{d.value=!1,T()},k=()=>{d.value=!0},A=()=>{d.value=!1,v=g=0,t("update:modelValue",!1)};(0,s.hi)((()=>{y(),o.value&&t("destroyed",e.id)})),(0,s.sV)((()=>{(0,s.dY)((()=>{c.value&&Ac((()=>{w()}))}))}));const x=()=>{(0,s.dY)((()=>{Ac((()=>{_()}))}))};return()=>{const t=()=>{const t=[],r=Vc(mf,{hide:_},n);r?t.push((0,s.h)(r)):e.title&&t.push((0,s.h)("strong",{class:"me-auto"},e.title)),!a.value&&0!==t.length&&t.push((0,s.h)(Ud,{class:["btn-close"],onClick:()=>{_()}}));const i=[];if(t.length>0&&i.push((0,s.h)(e.headerTag,{class:"toast-header"},{default:()=>t})),Vc("default",{hide:_},n)||e.body){const t=(0,s.h)(Hc(e)?"b-link":"div",{class:["toast-body",e.bodyClass],onClick:Hc(e)?{click:x}:{}},Vc("default",{hide:_},n)||e.body);i.push(t)}return(0,s.h)("div",{class:["toast",e.toastClass,p.value],tabindex:"0"},i)};return(0,s.h)("div",{class:["b-toast"],id:e.id,role:h.value?null:r.value?"status":"alert","aria-live":h.value?null:r.value?"polite":"assertive","aria-atomic":h.value?null:"true",onmouseenter:E,onmouseleave:I},[(0,s.h)($d,{noFade:l.value,onAfterEnter:S,onBeforeEnter:C,onAfterLeave:A,onBeforeLeave:k},(()=>[f.value?t():""]))])}}}),yf=(0,s.pM)({__name:"BToaster",props:{position:{default:"top-right"},instance:null},setup(e){const t=e,n={"top-left":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-right":"top-0 end-0","middle-left":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-right":"top-50 end-0 translate-middle-y","bottom-left":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-right":"bottom-0 end-0"},r=(0,s.EW)((()=>n[t.position])),a=e=>{var n;null==(n=t.instance)||n.remove(e)};return(t,n)=>{var l;return(0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)([[(0,i.R1)(r)],"b-toaster position-fixed p-3"]),style:{"z-index":"11"}},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(null==(l=e.instance)?void 0:l.toasts(e.position).value,(e=>((0,s.uX)(),(0,s.Wv)(vf,{id:e.options.id,key:e.options.id,modelValue:e.options.value,"onUpdate:modelValue":t=>e.options.value=t,"auto-hide":e.options.autoHide,delay:e.options.delay,"no-close-button":e.options.noCloseButton,title:e.content.title,body:e.content.body,component:e.content.body,variant:e.options.variant,onDestroyed:a},null,8,["id","modelValue","onUpdate:modelValue","auto-hide","delay","no-close-button","title","body","component","variant"])))),128))],2)}}}),bf=(0,s.pM)({props:{gutterX:{type:String,default:null},gutterY:{type:String,default:null},fluid:{type:[Boolean,String],default:!1},toast:{type:Object},position:{type:String,required:!1}},setup(e,{slots:t,expose:n}){const r=(0,i.KR)();let o;const a=(0,s.EW)((()=>({container:!e.fluid,["container-fluid"]:"boolean"==typeof e.fluid&&e.fluid,[`container-${e.fluid}`]:"string"==typeof e.fluid,[`gx-${e.gutterX}`]:null!==e.gutterX,[`gy-${e.gutterY}`]:null!==e.gutterY})));return(0,s.sV)((()=>{e.toast})),e.toast&&(o=ff({container:r,root:e.toast.root}),n({})),()=>{var n;const i=[];return null==o||o.containerPositions.value.forEach((e=>{i.push((0,s.h)(yf,{key:e,instance:o,position:e}))})),(0,s.h)("div",{class:[a.value,e.position],ref:r},[...i,null==(n=t.default)?void 0:n.call(t)])}},methods:{}}),_f={class:"visually-hidden"},wf=["aria-labelledby","role"],Ef=(0,s.pM)({__name:"BDropdown",props:{id:null,menuClass:null,size:null,splitClass:null,splitVariant:null,text:null,toggleClass:null,autoClose:{type:[Boolean,String],default:!0},block:{default:!1},boundary:{default:"clippingParents"},dark:{default:!1},disabled:{default:!1},isNav:{default:!1},dropup:{default:!1},dropright:{default:!1},dropleft:{default:!1},noFlip:{default:!1},offset:{default:0},popperOpts:{default:()=>({})},right:{default:!1},role:{default:"menu"},split:{default:!1},splitButtonType:{default:"button"},splitHref:{default:void 0},noCaret:{default:!1},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"}},emits:["show","shown","hide","hidden","click","toggle"],setup(e,{expose:t,emit:n}){const r=e,a=ud((0,i.lW)(r,"id"),"dropdown"),l=Xc((0,i.lW)(r,"block")),u=Xc((0,i.lW)(r,"dark")),c=Xc((0,i.lW)(r,"dropup")),d=Xc((0,i.lW)(r,"dropright")),h=Xc((0,i.lW)(r,"isNav")),f=Xc((0,i.lW)(r,"dropleft")),p=Xc((0,i.lW)(r,"right")),m=Xc((0,i.lW)(r,"split")),g=Xc((0,i.lW)(r,"noCaret")),v=(0,i.KR)(),y=(0,i.KR)(),b=(0,i.KR)(),_=(0,s.EW)((()=>({"d-grid":l.value,"d-flex":l.value&&m.value}))),w=(0,s.EW)((()=>[m.value?r.splitClass:r.toggleClass,{"nav-link":h.value,"dropdown-toggle":!m.value,"dropdown-toggle-no-caret":g.value&&!m.value,"w-100":m.value&&l.value}])),E=(0,s.EW)((()=>[r.menuClass,{"dropdown-menu-dark":u.value,"dropdown-menu-end":p.value}])),I=(0,s.EW)((()=>({"data-bs-toggle":m.value?void 0:"dropdown","aria-expanded":!!m.value&&void 0,ref:m.value?void 0:y,href:m.value?r.splitHref:void 0}))),T=(0,s.EW)((()=>({ref:m.value?y:void 0}))),C=()=>{var e;null==(e=b.value)||e.hide()},S=e=>{m.value&&n("click",e)};return ed(v,"show.bs.dropdown",(()=>n("show"))),ed(v,"shown.bs.dropdown",(()=>n("shown"))),ed(v,"hide.bs.dropdown",(()=>n("hide"))),ed(v,"hidden.bs.dropdown",(()=>n("hidden"))),(0,s.sV)((()=>{var e;b.value=new Mi(null==(e=y.value)?void 0:e.$el,{autoClose:r.autoClose,boundary:r.boundary,offset:r.offset?r.offset.toString():"",reference:r.offset||m.value?"parent":"toggle",popperConfig:e=>{const t={placement:"bottom-start",modifiers:r.noFlip?[{name:"flip",options:{fallbackPlacements:[]}}]:[]};return c.value?t.placement=p.value?"top-end":"top-start":d.value?t.placement="right-start":f.value?t.placement="left-start":p.value&&(t.placement="bottom-end"),Fc(e,Fc(t,r.popperOpts))}})})),t({hide:C}),(t,r)=>((0,s.uX)(),(0,s.CE)("div",{ref_key:"parent",ref:v,class:(0,o.C4)([(0,i.R1)(_),"btn-group"])},[(0,s.bF)(Zd,(0,s.v6)({id:(0,i.R1)(a),variant:e.splitVariant||e.variant,size:e.size,class:(0,i.R1)(w),disabled:e.disabled,type:e.splitButtonType},(0,i.R1)(I),{onClick:S}),{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"button-content",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},16,["id","variant","size","class","disabled","type"]),(0,i.R1)(m)?((0,s.uX)(),(0,s.Wv)(Zd,(0,s.v6)({key:0,variant:e.variant,size:e.size,disabled:e.disabled},(0,i.R1)(T),{class:[e.toggleClass,"dropdown-toggle-split dropdown-toggle"],"data-bs-toggle":"dropdown","aria-expanded":"false",onClick:r[0]||(r[0]=e=>n("toggle"))}),{default:(0,s.k6)((()=>[(0,s.Lk)("span",_f,[(0,s.RG)(t.$slots,"toggle-text",{},(()=>[(0,s.eW)((0,o.v_)(e.toggleText),1)]))])])),_:3},16,["variant","size","disabled","class"])):(0,s.Q3)("",!0),(0,s.Lk)("ul",{class:(0,o.C4)(["dropdown-menu",(0,i.R1)(E)]),"aria-labelledby":(0,i.R1)(a),role:e.role},[(0,s.RG)(t.$slots,"default")],10,wf)],2))}}),If={role:"presentation"},Tf=(0,s.pM)({__name:"BDropdownDivider",props:{tag:{default:"hr"}},setup(e){return(t,n)=>((0,s.uX)(),(0,s.CE)("li",If,[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:"dropdown-divider",role:"separator","aria-orientation":"horizontal"}))]))}}),Cf={},Sf={role:"presentation"},kf={class:"px-4 py-3"};function Af(e,t){return(0,s.uX)(),(0,s.CE)("li",Sf,[(0,s.Lk)("form",kf,[(0,s.RG)(e.$slots,"default")])])}const xf=Hd(Cf,[["render",Af]]),Rf={role:"presentation"},Of=["id","aria-describedby"],Nf={inheritAttrs:!1},Df=(0,s.pM)({...Nf,__name:"BDropdownGroup",props:{id:null,ariaDescribedby:null,header:null,headerClass:null,headerTag:{default:"header"},headerVariant:null},setup(e){const t=e,n=(0,s.EW)((()=>t.id?`${t.id}_group_dd_header`:void 0)),r=(0,s.EW)((()=>"header"===t.headerTag?void 0:"heading")),a=(0,s.EW)((()=>[t.headerClass,{[`text-${t.headerVariant}`]:void 0!==t.headerVariant}]));return(t,l)=>((0,s.uX)(),(0,s.CE)("li",Rf,[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.headerTag),{id:(0,i.R1)(n),class:(0,o.C4)(["dropdown-header",(0,i.R1)(a)]),role:(0,i.R1)(r)},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"header",{},(()=>[(0,s.eW)((0,o.v_)(e.header),1)]))])),_:3},8,["id","class","role"])),(0,s.Lk)("ul",(0,s.v6)({id:e.id,role:"group",class:"list-unstyled"},t.$attrs,{"aria-describedby":e.ariaDescribedby||(0,i.R1)(n)}),[(0,s.RG)(t.$slots,"default")],16,Of)]))}}),Pf={},Lf={class:"dropdown-header"};function Mf(e,t){return(0,s.uX)(),(0,s.CE)("li",null,[(0,s.Lk)("h6",Lf,[(0,s.RG)(e.$slots,"default")])])}const Ff=Hd(Pf,[["render",Mf]]),Vf={inheritAttrs:!1},Bf=(0,s.pM)({...Vf,__name:"BDropdownItem",props:{href:null,linkClass:null,active:{default:!1},disabled:{default:!1},rel:{default:void 0},target:{default:"_self"},variant:null},emits:["click"],setup(e,{emit:t}){const n=e,r=Xc((0,i.lW)(n,"active")),a=Xc((0,i.lW)(n,"disabled")),l=(0,s.OA)(),u=(0,s.EW)((()=>[n.linkClass,{active:r.value,disabled:a.value,[`text-${n.variant}`]:void 0!==n.variant}])),c=(0,s.EW)((()=>n.href?"a":l.to?Qd:"button")),d=(0,s.EW)((()=>({disabled:a.value,"aria-current":r.value?"true":null,href:"a"===c.value?n.href:null,rel:n.rel,type:"button"===c.value?"button":null,target:n.target,...l.to?{activeClass:"active",...l}:{}}))),h=e=>t("click",e);return(e,t)=>((0,s.uX)(),(0,s.CE)("li",{role:"presentation",class:(0,o.C4)(e.$attrs.class)},[((0,s.uX)(),(0,s.Wv)((0,s.$y)((0,i.R1)(c)),(0,s.v6)({class:["dropdown-item",(0,i.R1)(u)]},(0,i.R1)(d),{onClick:h}),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},16,["class"]))],2))}}),Wf=["disabled"],$f={inheritAttrs:!1},jf=(0,s.pM)({...$f,__name:"BDropdownItemButton",props:{buttonClass:null,active:{default:!1},activeClass:{default:"active"},disabled:{default:!1},variant:null},emits:["click"],setup(e,{emit:t}){const n=e,r=Xc((0,i.lW)(n,"active")),a=Xc((0,i.lW)(n,"disabled")),l=(0,s.EW)((()=>[n.buttonClass,{[n.activeClass]:r.value,disabled:a.value,[`text-${n.variant}`]:void 0!==n.variant}])),u=e=>t("click",e);return(e,t)=>((0,s.uX)(),(0,s.CE)("li",{role:"presentation",class:(0,o.C4)(e.$attrs.class)},[(0,s.Lk)("button",{role:"menu",type:"button",class:(0,o.C4)(["dropdown-item",(0,i.R1)(l)]),disabled:(0,i.R1)(a),onClick:u},[(0,s.RG)(e.$slots,"default")],10,Wf)],2))}}),Uf={role:"presentation"},zf={class:"px-4 py-1 mb-0 text-muted"},qf=(0,s.pM)({__name:"BDropdownText",props:{text:{default:""}},setup(e){return(t,n)=>((0,s.uX)(),(0,s.CE)("li",Uf,[(0,s.Lk)("p",zf,[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])]))}}),Gf=["id","novalidate","onSubmit"],Kf=(0,s.pM)({__name:"BForm",props:{id:null,floating:{default:!1},novalidate:{default:!1},validated:{default:!1}},emits:["submit"],setup(e,{emit:t}){const n=e,r=Xc((0,i.lW)(n,"floating")),l=Xc((0,i.lW)(n,"novalidate")),u=Xc((0,i.lW)(n,"validated")),c=(0,s.EW)((()=>({"form-floating":r.value,"was-validated":u.value}))),d=e=>t("submit",e);return(t,n)=>((0,s.uX)(),(0,s.CE)("form",{id:e.id,novalidate:(0,i.R1)(l),class:(0,o.C4)((0,i.R1)(c)),onSubmit:(0,a.D$)(d,["prevent"])},[(0,s.RG)(t.$slots,"default")],42,Gf))}}),Hf={class:"form-floating"},Xf=["for"],Qf=(0,s.pM)({__name:"BFormFloatingLabel",props:{labelFor:null,label:null,text:null},setup(e){return(t,n)=>((0,s.uX)(),(0,s.CE)("div",Hf,[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)])),(0,s.Lk)("label",{for:e.labelFor},[(0,s.RG)(t.$slots,"label",{},(()=>[(0,s.eW)((0,o.v_)(e.label),1)]))],8,Xf)]))}}),Yf=(0,s.pM)({__name:"BFormInvalidFeedback",props:{ariaLive:null,forceShow:{default:!1},id:null,text:null,role:null,state:{default:void 0},tag:{default:"div"},tooltip:{default:!1}},setup(e){const t=e,n=Xc((0,i.lW)(t,"forceShow")),r=Xc((0,i.lW)(t,"state")),a=Xc((0,i.lW)(t,"tooltip")),l=(0,s.EW)((()=>!0===n.value||!1===r.value)),u=(0,s.EW)((()=>({"d-block":l.value,"invalid-feedback":!a.value,"invalid-tooltip":a.value}))),c=(0,s.EW)((()=>({id:t.id,role:t.role,"aria-live":t.ariaLive,"aria-atomic":t.ariaLive?"true":void 0})));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),(0,s.v6)({class:(0,i.R1)(u)},(0,i.R1)(c)),{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},16,["class"]))}}),Jf=(0,s.pM)({__name:"BFormRow",props:{tag:{default:"div"}},setup(e){return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:"row d-flex flex-wrap"},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default")])),_:3}))}}),Zf=(0,s.pM)({__name:"BFormText",props:{id:null,inline:{default:!1},tag:{default:"small"},text:null,textVariant:{default:"muted"}},setup(e){const t=e,n=Xc((0,i.lW)(t,"inline")),r=(0,s.EW)((()=>[[`text-${t.textVariant}`],{"form-text":!n.value}]));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{id:e.id,class:(0,o.C4)((0,i.R1)(r))},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},8,["id","class"]))}}),ep=(0,s.pM)({__name:"BFormValidFeedback",props:{ariaLive:null,forceShow:{default:!1},id:null,role:null,text:null,state:{default:void 0},tag:{default:"div"},tooltip:{default:!1}},setup(e){const t=e,n=Xc((0,i.lW)(t,"forceShow")),r=Xc((0,i.lW)(t,"state")),a=Xc((0,i.lW)(t,"tooltip")),l=(0,s.EW)((()=>!0===n.value||!0===r.value)),u=(0,s.EW)((()=>({"d-block":l.value,"valid-feedback":!a.value,"valid-tooltip":a.value}))),c=(0,s.EW)((()=>t.ariaLive?"true":void 0));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{id:e.id,role:e.role,"aria-live":e.ariaLive,"aria-atomic":(0,i.R1)(c),class:(0,o.C4)((0,i.R1)(u))},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3},8,["id","role","aria-live","aria-atomic","class"]))}}),tp=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","indeterminate"],np=["for"],rp={inheritAttrs:!1},ip=(0,s.pM)({...rp,__name:"BFormCheckbox",props:{ariaLabel:null,ariaLabelledBy:null,form:null,indeterminate:null,name:null,id:{default:void 0},autofocus:{default:!1},plain:{default:!1},button:{default:!1},switch:{default:!1},disabled:{default:!1},buttonVariant:{default:"secondary"},inline:{default:!1},required:{default:void 0},size:{default:"md"},state:{default:void 0},uncheckedValue:{type:[Array,Set,Boolean,String,Object,Number],default:!1},value:{type:[Array,Set,Boolean,String,Object,Number],default:!0},modelValue:{type:[Array,Set,Boolean,String,Object,Number],default:void 0}},emits:["update:modelValue","input","change"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),l=ud((0,i.lW)(n,"id"),"form-check"),u=Xc((0,i.lW)(n,"indeterminate")),c=Xc((0,i.lW)(n,"autofocus")),d=Xc((0,i.lW)(n,"plain")),h=Xc((0,i.lW)(n,"button")),f=Xc((0,i.lW)(n,"switch")),p=Xc((0,i.lW)(n,"disabled")),m=Xc((0,i.lW)(n,"inline")),g=Xc((0,i.lW)(n,"required")),v=Xc((0,i.lW)(n,"state")),y=(0,i.KR)(null),b=(0,i.KR)(!1),_=(0,s.EW)((()=>!_c(r.default))),w=(0,s.EW)({get:()=>n.uncheckedValue?Array.isArray(n.modelValue)?n.modelValue.indexOf(n.value)>-1:n.modelValue===n.value:n.modelValue,set:e=>{let r=e;Array.isArray(n.modelValue)?n.uncheckedValue&&(r=n.modelValue,e?(r.indexOf(n.uncheckedValue)>-1&&r.splice(r.indexOf(n.uncheckedValue),1),r.push(n.value)):(r.indexOf(n.value)>-1&&r.splice(r.indexOf(n.value),1),r.push(n.uncheckedValue))):r=e?n.value:n.uncheckedValue,t("input",r),t("update:modelValue",r),t("change",r)}}),E=(0,s.EW)((()=>Array.isArray(n.modelValue)?n.modelValue.indexOf(n.value)>-1:JSON.stringify(n.modelValue)===JSON.stringify(n.value))),I=(0,i.Kh)({plain:(0,i.lW)(d,"value"),button:(0,i.lW)(h,"value"),inline:(0,i.lW)(m,"value"),switch:(0,i.lW)(f,"value"),size:(0,i.lW)(n,"size"),state:(0,i.lW)(v,"value"),buttonVariant:(0,i.lW)(n,"buttonVariant")}),T=td(I),C=nd(I),S=rd(I);return(0,s.sV)((()=>{c.value&&y.value.focus()})),(t,n)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)((0,i.R1)(T))},[(0,s.bo)((0,s.Lk)("input",(0,s.v6)({id:(0,i.R1)(l)},t.$attrs,{ref_key:"input",ref:y,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.i9)(w)?w.value=e:null),class:(0,i.R1)(C),type:"checkbox",disabled:(0,i.R1)(p),required:!!e.name&&!!(0,i.R1)(g),name:e.name,form:e.form,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-required":e.name&&(0,i.R1)(g)?"true":void 0,value:e.value,indeterminate:(0,i.R1)(u),onFocus:n[1]||(n[1]=e=>b.value=!0),onBlur:n[2]||(n[2]=e=>b.value=!1)}),null,16,tp),[[a.lH,(0,i.R1)(w)]]),(0,i.R1)(_)||!(0,i.R1)(d)?((0,s.uX)(),(0,s.CE)("label",{key:0,for:(0,i.R1)(l),class:(0,o.C4)([(0,i.R1)(S),{active:(0,i.R1)(E),focus:b.value}])},[(0,s.RG)(t.$slots,"default")],10,np)):(0,s.Q3)("",!0)],2))}}),sp=["id"],op=["innerHTML"],ap=["textContent"],lp=(0,s.pM)({__name:"BFormCheckboxGroup",props:{id:null,form:null,modelValue:{default:()=>[]},ariaInvalid:{default:void 0},autofocus:{default:!1},buttonVariant:{default:"secondary"},buttons:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},htmlField:{default:"html"},name:null,options:{default:()=>[]},plain:{default:!1},required:{default:!1},size:null,stacked:{default:!1},state:{default:void 0},switches:{default:!1},textField:{default:"text"},validated:{default:!1},valueField:{default:"value"}},emits:["input","update:modelValue","change"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),a="BFormCheckbox",l=ud((0,i.lW)(n,"id"),"checkbox"),u=ud((0,i.lW)(n,"name"),"checkbox");Xc((0,i.lW)(n,"autofocus"));const c=Xc((0,i.lW)(n,"buttons")),d=Xc((0,i.lW)(n,"disabled"));Xc((0,i.lW)(n,"plain"));const h=Xc((0,i.lW)(n,"required")),f=Xc((0,i.lW)(n,"stacked")),p=Xc((0,i.lW)(n,"state")),m=Xc((0,i.lW)(n,"switches")),g=Xc((0,i.lW)(n,"validated")),v=(0,s.EW)({get:()=>n.modelValue,set:e=>{if(JSON.stringify(e)===JSON.stringify(n.modelValue))return;const r=n.options.filter((t=>e.map((e=>JSON.stringify(e))).includes(JSON.stringify("string"==typeof t?t:t[n.valueField])))).map((e=>"string"==typeof e?e:e[n.valueField]));t("input",r),t("update:modelValue",r),t("change",r)}}),y=(0,s.EW)((()=>(r.first?od(r.first(),a,d.value):[]).concat(n.options.map((e=>ad(e,n)))).concat(r.default?od(r.default(),a,d.value):[]).map(((e,t)=>ld(e,t,n,u,l))).map((e=>({...e,props:{switch:m.value,...e.props}}))))),b=(0,i.Kh)({required:(0,i.lW)(h,"value"),ariaInvalid:(0,i.lW)(n,"ariaInvalid"),state:(0,i.lW)(p,"value"),validated:(0,i.lW)(g,"value"),buttons:(0,i.lW)(c,"value"),stacked:(0,i.lW)(f,"value"),size:(0,i.lW)(n,"size")}),_=id(b),w=sd(b);return(e,t)=>((0,s.uX)(),(0,s.CE)("div",(0,s.v6)((0,i.R1)(_),{id:(0,i.R1)(l),role:"group",class:[(0,i.R1)(w),"bv-no-focus-ring"],tabindex:"-1"}),[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(y),((e,n)=>((0,s.uX)(),(0,s.Wv)(ip,(0,s.v6)({key:n,modelValue:(0,i.R1)(v),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.i9)(v)?v.value=e:null)},e.props),{default:(0,s.k6)((()=>[e.html?((0,s.uX)(),(0,s.CE)("span",{key:0,innerHTML:e.html},null,8,op)):((0,s.uX)(),(0,s.CE)("span",{key:1,textContent:(0,o.v_)(e.text)},null,8,ap))])),_:2},1040,["modelValue"])))),128))],16,sp))}}),up=["input","select","textarea"],cp=up.map((e=>`${e}:not([disabled])`)).join(),dp=[...up,"a","button","label"],hp="label",fp="invalid-feedback",pp="valid-feedback",mp="description",gp="default",vp=(0,s.pM)({components:{BCol:sf,BFormInvalidFeedback:Yf,BFormRow:Jf,BFormText:Zf,BFormValidFeedback:ep},props:{contentCols:{type:[Boolean,String,Number],required:!1},contentColsLg:{type:[Boolean,String,Number],required:!1},contentColsMd:{type:[Boolean,String,Number],required:!1},contentColsSm:{type:[Boolean,String,Number],required:!1},contentColsXl:{type:[Boolean,String,Number],required:!1},description:{type:[String],required:!1},disabled:{type:[Boolean,String],default:!1},feedbackAriaLive:{type:String,default:"assertive"},id:{type:String,required:!1},invalidFeedback:{type:String,required:!1},label:{type:String,required:!1},labelAlign:{type:[Boolean,String,Number],required:!1},labelAlignLg:{type:[Boolean,String,Number],required:!1},labelAlignMd:{type:[Boolean,String,Number],required:!1},labelAlignSm:{type:[Boolean,String,Number],required:!1},labelAlignXl:{type:[Boolean,String,Number],required:!1},labelClass:{type:[Array,Object,String],required:!1},labelCols:{type:[Boolean,String,Number],required:!1},labelColsLg:{type:[Boolean,String,Number],required:!1},labelColsMd:{type:[Boolean,String,Number],required:!1},labelColsSm:{type:[Boolean,String,Number],required:!1},labelColsXl:{type:[Boolean,String,Number],required:!1},labelFor:{type:String,required:!1},labelSize:{type:String,required:!1},labelSrOnly:{type:[Boolean,String],default:!1},state:{type:[Boolean,String],default:null},tooltip:{type:[Boolean,String],default:!1},validFeedback:{type:String,required:!1},validated:{type:[Boolean,String],default:!1},floating:{type:[Boolean,String],default:!1}},setup(e,{attrs:t}){const n=Xc((0,i.lW)(e,"disabled")),r=Xc((0,i.lW)(e,"labelSrOnly")),o=Xc((0,i.lW)(e,"state")),a=Xc((0,i.lW)(e,"tooltip")),l=Xc((0,i.lW)(e,"validated")),u=Xc((0,i.lW)(e,"floating")),c=null,d=["xs","sm","md","lg","xl"],h=(e,t)=>d.reduce(((n,r)=>{const i=qc("xs"===r?"":r,`${t}Align`),s=e[i]||null;return s&&("xs"===r?n.push(`text-${s}`):n.push(`text-${r}-${s}`)),n}),[]),f=(e,t)=>d.reduce(((n,r)=>{const i=qc("xs"===r?"":r,`${t}Cols`);let s=e[i];return s=""===s||(s||!1),"boolean"!=typeof s&&"auto"!==s&&(s=Wc(s,0),s=s>0&&s),s&&("xs"===r?n.cols=s:n[r||("boolean"==typeof s?"col":"cols")]=s),n}),{}),p=(0,i.KR)(),m=(t,n=null)=>{if(Zu&&e.labelFor){const r=wc(`#${Xu(e.labelFor)}`,p);if(r){const e="aria-describedby",i=(t||"").split(Wu),s=(n||"").split(Wu),o=(Ic(r,e)||"").split(Wu).filter((e=>!s.includes(e))).concat(i).filter(((e,t,n)=>n.indexOf(e)===t)).filter((e=>e)).join(" ").trim();o?Cc(r,e,o):Sc(r,e)}}},g=(0,s.EW)((()=>f(e,"content"))),v=(0,s.EW)((()=>h(e,"label"))),y=(0,s.EW)((()=>f(e,"label"))),b=(0,s.EW)((()=>Object.keys(g.value).length>0||Object.keys(y.value).length>0)),_=(0,s.EW)((()=>"boolean"==typeof o.value?o.value:null)),w=(0,s.EW)((()=>{const e=_.value;return!0===e?"is-valid":!1===e?"is-invalid":null})),E=(0,s.EW)((()=>Lc(t.ariaInvalid,o.value)));return(0,s.wB)((()=>c),((e,t)=>{e!==t&&m(e,t)})),(0,s.sV)((()=>{(0,s.dY)((()=>{m(c)}))})),{disabledBoolean:n,labelSrOnlyBoolean:r,stateBoolean:o,tooltipBoolean:a,validatedBoolean:l,floatingBoolean:u,ariaDescribedby:c,computedAriaInvalid:E,contentColProps:g,isHorizontal:b,labelAlignClasses:v,labelColProps:y,onLegendClick:t=>{if(e.labelFor)return;const{target:n}=t,r=n?n.tagName:"";if(-1!==dp.indexOf(r))return;const i=Ec(cp,p).filter(bc);1===i.length&&vc(i[0])},stateClass:w}},render(){const e=this.$props,t=this.$slots,n=ud(),r=!e.labelFor;let o=null;const a=Vc(hp,{},t)||e.label,l=a?Pc("_BV_label_"):null;if(a||this.isHorizontal){const t=r?"legend":"label";if(this.labelSrOnlyBoolean)a&&(o=(0,s.h)(t,{class:"visually-hidden",id:l,for:e.labelFor||null},a)),o=this.isHorizontal?(0,s.h)(sf,this.labelColProps,{default:()=>o}):(0,s.h)("div",{},[o]);else{const n={onClick:r?this.onLegendClick:null,...this.isHorizontal?this.labelColProps:{},tag:this.isHorizontal?t:null,id:l,for:e.labelFor||null,tabIndex:r?"-1":null,class:[this.isHorizontal?"col-form-label":"form-label",{"bv-no-focus-ring":r,"col-form-label":this.isHorizontal||r,"pt-0":!this.isHorizontal&&r,"d-block":!this.isHorizontal&&!r,[`col-form-label-${e.labelSize}`]:!!e.labelSize},this.labelAlignClasses,e.labelClass]};o=this.isHorizontal?(0,s.h)(sf,n,{default:()=>a}):(0,s.h)(t,n,a)}}let u=null;const c=Vc(fp,{},t)||this.invalidFeedback,d=c?Pc("_BV_feedback_invalid_"):void 0;c&&(u=(0,s.h)(Yf,{ariaLive:e.feedbackAriaLive,id:d,state:this.stateBoolean,tooltip:this.tooltipBoolean},{default:()=>c}));let h=null;const f=Vc(pp,{},t)||this.validFeedback,p=f?Pc("_BV_feedback_valid_"):void 0;f&&(h=(0,s.h)(ep,{ariaLive:e.feedbackAriaLive,id:p,state:this.stateBoolean,tooltip:this.tooltipBoolean},{default:()=>f}));let m=null;const g=Vc(mp,{},t)||this.description,v=g?Pc("_BV_description_"):void 0;g&&(m=(0,s.h)(Zf,{id:v},{default:()=>g}));const y=this.ariaDescribedby=[v,!1===this.stateBoolean?d:null,!0===this.stateBoolean?p:null].filter((e=>e)).join(" ")||null,b=[Vc(gp,{ariaDescribedby:y,descriptionId:v,id:n,labelId:l},t)||"",u,h,m];!this.isHorizontal&&this.floatingBoolean&&b.push(o);let _=(0,s.h)("div",{ref:"content",class:[{"form-floating":!this.isHorizontal&&this.floatingBoolean}]},b);this.isHorizontal&&(_=(0,s.h)(sf,{ref:"content",...this.contentColProps},{default:()=>b}));const w={class:["mb-3",this.stateClass,{"was-validated":this.validatedBoolean}],id:ud((0,i.lW)(e,"id")).value,disabled:r?this.disabledBoolean:null,role:r?null:"group","aria-invalid":this.computedAriaInvalid,"aria-labelledby":r&&this.isHorizontal?l:null};return this.isHorizontal&&!r?(0,s.h)(Jf,w,{default:()=>[o,_]}):(0,s.h)(r?"fieldset":"div",w,this.isHorizontal&&r?[(0,s.h)(Jf,null,{default:()=>[o,_]})]:this.isHorizontal||!this.floatingBoolean?[o,_]:[_])}}),yp=["text","number","email","password","search","url","tel","date","time","range","color"],bp=(0,s.pM)({props:{...cd,max:{type:[String,Number],required:!1},min:{type:[String,Number],required:!1},step:{type:[String,Number],required:!1},type:{type:String,default:"text",validator:e=>yp.includes(e)}},emits:["update:modelValue","change","blur","input"],setup(e,{emit:t}){const{input:n,computedId:r,computedAriaInvalid:o,onInput:a,onChange:l,onBlur:u,focus:c,blur:d}=dd(e,t),h=(0,i.KR)(!1),f=(0,s.EW)((()=>{const t="range"===e.type,n="color"===e.type;return{"form-control-highlighted":h.value,"form-range":t,"form-control":n||!e.plaintext&&!t,"form-control-color":n,"form-control-plaintext":e.plaintext&&!t&&!n,[`form-control-${e.size}`]:!!e.size,"is-valid":!0===e.state,"is-invalid":!1===e.state}})),p=(0,s.EW)((()=>yp.includes(e.type)?e.type:"text"));return{computedClasses:f,localType:p,input:n,computedId:r,computedAriaInvalid:o,onInput:a,onChange:l,onBlur:u,focus:c,blur:d,highlight:()=>{!0!==h.value&&(h.value=!0,setTimeout((()=>{h.value=!1}),2e3))}}}}),_p=["id","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"];function wp(e,t,n,r,i,o){return(0,s.uX)(),(0,s.CE)("input",(0,s.v6)({id:e.computedId,ref:"input",class:e.computedClasses,name:e.name||void 0,form:e.form||void 0,type:e.localType,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete||void 0,readonly:e.readonly||e.plaintext,min:e.min,max:e.max,step:e.step,list:"password"!==e.type?e.list:void 0,"aria-required":e.required?"true":void 0,"aria-invalid":e.computedAriaInvalid},e.$attrs,{onInput:t[0]||(t[0]=t=>e.onInput(t)),onChange:t[1]||(t[1]=t=>e.onChange(t)),onBlur:t[2]||(t[2]=t=>e.onBlur(t))}),null,16,_p)}const Ep=Hd(bp,[["render",wp]]),Ip=["id","disabled","required","name","form","aria-label","aria-labelledby","value","aria-required"],Tp=["for"],Cp=(0,s.pM)({__name:"BFormRadio",props:{ariaLabel:null,ariaLabelledby:null,form:null,id:null,name:null,size:null,autofocus:{default:!1},modelValue:{type:[Boolean,String,Array,Object,Number],default:void 0},plain:{default:!1},button:{default:!1},switch:{default:!1},disabled:{default:!1},buttonVariant:{default:"secondary"},inline:{default:!1},required:{default:!1},state:{default:void 0},value:{type:[String,Boolean,Object,Number],default:!0}},emits:["input","change","update:modelValue"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),l=ud((0,i.lW)(n,"id"),"form-check"),u=Xc((0,i.lW)(n,"autofocus")),c=Xc((0,i.lW)(n,"plain")),d=Xc((0,i.lW)(n,"button")),h=Xc((0,i.lW)(n,"switch")),f=Xc((0,i.lW)(n,"disabled")),p=Xc((0,i.lW)(n,"inline")),m=Xc((0,i.lW)(n,"required")),g=Xc((0,i.lW)(n,"state")),v=(0,i.KR)(null),y=(0,i.KR)(!1),b=(0,s.EW)({get:()=>Array.isArray(n.modelValue)?n.modelValue[0]:n.modelValue,set:e=>{const r=!!e&&n.value,i=Array.isArray(n.modelValue)?[r]:r;t("input",i),t("change",i),t("update:modelValue",i)}}),_=(0,s.EW)((()=>Array.isArray(n.modelValue)?(n.modelValue||[]).find((e=>e===n.value)):JSON.stringify(n.modelValue)===JSON.stringify(n.value))),w=(0,s.EW)((()=>!_c(r.default))),E=(0,i.Kh)({plain:(0,i.lW)(c,"value"),button:(0,i.lW)(d,"value"),inline:(0,i.lW)(p,"value"),switch:(0,i.lW)(h,"value"),size:(0,i.lW)(n,"size"),state:(0,i.lW)(g,"value"),buttonVariant:(0,i.lW)(n,"buttonVariant")}),I=td(E),T=nd(E),C=rd(E);return(0,s.sV)((()=>{u.value&&null!==v.value&&v.value.focus()})),(t,n)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)((0,i.R1)(I))},[(0,s.bo)((0,s.Lk)("input",(0,s.v6)({id:(0,i.R1)(l)},t.$attrs,{ref_key:"input",ref:v,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.i9)(b)?b.value=e:null),class:(0,i.R1)(T),type:"radio",disabled:(0,i.R1)(f),required:!!e.name&&(0,i.R1)(m),name:e.name,form:e.form,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,value:e.value,"aria-required":!(!e.name||!(0,i.R1)(m))||void 0,onFocus:n[1]||(n[1]=e=>y.value=!0),onBlur:n[2]||(n[2]=e=>y.value=!1)}),null,16,Ip),[[a.XL,(0,i.R1)(b)]]),(0,i.R1)(w)||!1===(0,i.R1)(c)?((0,s.uX)(),(0,s.CE)("label",{key:0,for:(0,i.R1)(l),class:(0,o.C4)([(0,i.R1)(C),{active:(0,i.R1)(_),focus:y.value}])},[(0,s.RG)(t.$slots,"default")],10,Tp)):(0,s.Q3)("",!0)],2))}}),Sp=["id"],kp=["innerHTML"],Ap=["textContent"],xp=(0,s.pM)({__name:"BFormRadioGroup",props:{size:null,form:null,id:null,name:null,modelValue:{type:[String,Boolean,Array,Object,Number],default:""},ariaInvalid:{default:void 0},autofocus:{default:!1},buttonVariant:{default:"secondary"},buttons:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},htmlField:{default:"html"},options:{default:()=>[]},plain:{default:!1},required:{default:!1},stacked:{default:!1},state:{default:void 0},textField:{default:"text"},validated:{default:!1},valueField:{default:"value"}},emits:["input","update:modelValue","change"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),a="BFormRadio",l=ud((0,i.lW)(n,"id"),"radio"),u=ud((0,i.lW)(n,"name"),"checkbox");Xc((0,i.lW)(n,"autofocus"));const c=Xc((0,i.lW)(n,"buttons")),d=Xc((0,i.lW)(n,"disabled"));Xc((0,i.lW)(n,"plain"));const h=Xc((0,i.lW)(n,"required")),f=Xc((0,i.lW)(n,"stacked")),p=Xc((0,i.lW)(n,"state")),m=Xc((0,i.lW)(n,"validated")),g=(0,s.EW)({get:()=>n.modelValue,set:e=>{t("input",e),t("update:modelValue",e),t("change",e)}}),v=(0,s.EW)((()=>(r.first?od(r.first(),a,d.value):[]).concat(n.options.map((e=>ad(e,n)))).concat(r.default?od(r.default(),a,d.value):[]).map(((e,t)=>ld(e,t,n,u,l))).map((e=>({...e}))))),y=(0,i.Kh)({required:(0,i.lW)(h,"value"),ariaInvalid:(0,i.lW)(n,"ariaInvalid"),state:(0,i.lW)(p,"value"),validated:(0,i.lW)(m,"value"),buttons:(0,i.lW)(c,"value"),stacked:(0,i.lW)(f,"value"),size:(0,i.lW)(n,"size")}),b=id(y),_=sd(y);return(e,t)=>((0,s.uX)(),(0,s.CE)("div",(0,s.v6)((0,i.R1)(b),{id:(0,i.R1)(l),role:"radiogroup",class:[(0,i.R1)(_),"bv-no-focus-ring"],tabindex:"-1"}),[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(v),((e,n)=>((0,s.uX)(),(0,s.Wv)(Cp,(0,s.v6)({key:n,modelValue:(0,i.R1)(g),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.i9)(g)?g.value=e:null)},e.props),{default:(0,s.k6)((()=>[e.html?((0,s.uX)(),(0,s.CE)("span",{key:0,innerHTML:e.html},null,8,kp)):((0,s.uX)(),(0,s.CE)("span",{key:1,textContent:(0,o.v_)(e.text)},null,8,Ap))])),_:2},1040,["modelValue"])))),128))],16,Sp))}}),Rp=["value","disabled"],Op=(0,s.pM)({__name:"BFormSelectOption",props:{value:null,disabled:{default:!1}},setup(e){const t=Xc((0,i.lW)(e,"disabled"));return(n,r)=>((0,s.uX)(),(0,s.CE)("option",{value:e.value,disabled:(0,i.R1)(t)},[(0,s.RG)(n.$slots,"default")],8,Rp))}}),Np=["label"],Dp=(0,s.pM)({__name:"BFormSelectOptionGroup",props:{label:null,disabledField:{default:"disabled"},htmlField:{default:"html"},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(e){const t=e,n=(0,s.EW)((()=>pd(t.options,"BFormSelectOptionGroup",t)));return(t,r)=>((0,s.uX)(),(0,s.CE)("optgroup",{label:e.label},[(0,s.RG)(t.$slots,"first"),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(n),((e,n)=>((0,s.uX)(),(0,s.Wv)(Op,(0,s.v6)({key:n,value:e.value,disabled:e.disabled},t.$attrs,{innerHTML:e.html||e.text}),null,16,["value","disabled","innerHTML"])))),128)),(0,s.RG)(t.$slots,"default")],8,Np))}}),Pp=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],Lp=(0,s.pM)({__name:"BFormSelect",props:{ariaInvalid:{default:void 0},autofocus:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},form:null,htmlField:{default:"html"},id:null,labelField:{default:"label"},multiple:{default:!1},name:null,options:{default:()=>[]},optionsField:{default:"options"},plain:{default:!1},required:{default:!1},selectSize:{default:0},size:null,state:{default:void 0},textField:{default:"text"},valueField:{default:"value"},modelValue:{default:""}},emits:["input","update:modelValue","change"],setup(e,{expose:t,emit:n}){const r=e,o=ud((0,i.lW)(r,"id"),"input"),l=Xc((0,i.lW)(r,"autofocus")),u=Xc((0,i.lW)(r,"disabled")),c=Xc((0,i.lW)(r,"multiple")),d=Xc((0,i.lW)(r,"plain")),h=Xc((0,i.lW)(r,"required")),f=Xc((0,i.lW)(r,"state")),p=(0,i.KR)(),m=(0,s.EW)((()=>({"form-control":d.value,[`form-control-${r.size}`]:r.size&&d.value,"form-select":!d.value,[`form-select-${r.size}`]:r.size&&!d.value,"is-valid":!0===f.value,"is-invalid":!1===f.value}))),g=(0,s.EW)((()=>{if(r.selectSize||d.value)return r.selectSize})),v=(0,s.EW)((()=>Lc(r.ariaInvalid,f.value))),y=(0,s.EW)((()=>pd(r.options,"BFormSelect",r))),b=(0,s.EW)({get(){return r.modelValue},set(e){n("change",e),n("update:modelValue",e),n("input",e)}}),_=()=>{var e;u.value||null==(e=p.value)||e.focus()},w=()=>{var e;u.value||null==(e=p.value)||e.blur()},E=()=>{(0,s.dY)((()=>{var e;l.value&&(null==(e=p.value)||e.focus())}))};return(0,s.sV)(E),(0,s.n)(E),t({blur:w,focus:_}),(t,n)=>(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",(0,s.v6)({id:(0,i.R1)(o),ref_key:"input",ref:p},t.$attrs,{"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.i9)(b)?b.value=e:null),class:(0,i.R1)(m),name:e.name,form:e.form||void 0,multiple:(0,i.R1)(c)||void 0,size:(0,i.R1)(g),disabled:(0,i.R1)(u),required:(0,i.R1)(h),"aria-required":!!(0,i.R1)(h)||void 0,"aria-invalid":(0,i.R1)(v)}),[(0,s.RG)(t.$slots,"first"),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(y),((e,t)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:t},[Array.isArray(e.options)?((0,s.uX)(),(0,s.Wv)(Dp,{key:0,label:e.label,options:e.options},null,8,["label","options"])):((0,s.uX)(),(0,s.Wv)(Op,{key:1,value:e.value,disabled:e.disabled,innerHTML:e.html||e.text},null,8,["value","disabled","innerHTML"]))],64)))),128)),(0,s.RG)(t.$slots,"default")],16,Pp)),[[a.u1,(0,i.R1)(b)]])}}),Mp=["id"],Fp=(0,s.pM)({__name:"BFormTag",props:{id:null,title:null,disabled:{default:!1},noRemove:{default:!1},pill:{default:!1},removeLabel:{default:"Remove tag"},tag:{default:"span"},variant:{default:"secondary"}},emits:["remove"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),a=ud((0,i.lW)(n,"id")),l=Xc((0,i.lW)(n,"disabled")),u=Xc((0,i.lW)(n,"noRemove")),c=Xc((0,i.lW)(n,"pill")),d=(0,s.EW)((()=>{var e,t,i;return null!=(i=(null!=(t=null==(e=r.default)?void 0:e.call(r)[0].children)?t:"").toString()||n.title)?i:""})),h=(0,s.EW)((()=>`${a.value}taglabel__`)),f=(0,s.EW)((()=>[`bg-${n.variant}`,{"text-dark":["warning","info","light"].includes(n.variant),"rounded-pill":c.value,disabled:l.value}]));return(n,r)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{id:(0,i.R1)(a),title:(0,i.R1)(d),class:(0,o.C4)(["badge b-form-tag d-inline-flex align-items-center mw-100",(0,i.R1)(f)]),"aria-labelledby":(0,i.R1)(h)},{default:(0,s.k6)((()=>[(0,s.Lk)("span",{id:(0,i.R1)(h),class:"b-form-tag-content flex-grow-1 text-truncate"},[(0,s.RG)(n.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)((0,i.R1)(d)),1)]))],8,Mp),(0,i.R1)(l)||(0,i.R1)(u)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(Ud,{key:0,"aria-keyshortcuts":"Delete","aria-label":e.removeLabel,class:"b-form-tag-remove",white:!["warning","info","light"].includes(e.variant),"aria-describedby":(0,i.R1)(h),"aria-controls":e.id,onClick:r[0]||(r[0]=e=>t("remove",(0,i.R1)(d)))},null,8,["aria-label","white","aria-describedby","aria-controls"]))])),_:3},8,["id","title","class","aria-labelledby"]))}}),Vp=["id"],Bp=["id","for","aria-live"],Wp=["id","aria-live"],$p=["id"],jp=["aria-controls"],Up={role:"group",class:"d-flex"},zp=["id","disabled","value","type","placeholder","form","required"],qp=["disabled"],Gp={"aria-live":"polite","aria-atomic":"true"},Kp={key:0,class:"d-block invalid-feedback"},Hp={key:1,class:"form-text text-muted"},Xp={key:2,class:"form-text text-muted"},Qp=["name","value"],Yp=(0,s.pM)({__name:"BFormTags",props:{addButtonText:{default:"Add"},addButtonVariant:{default:"outline-secondary"},addOnChange:{default:!1},autofocus:{default:!1},disabled:{default:!1},duplicateTagText:{default:"Duplicate tag(s)"},inputAttrs:null,inputClass:null,inputId:null,inputType:{default:"text"},invalidTagText:{default:"Invalid tag(s)"},form:null,limit:null,limitTagsText:{default:"Tag limit reached"},modelValue:{default:()=>[]},name:null,noAddOnEnter:{default:!1},noOuterFocus:{default:!1},noTagRemove:{default:!1},placeholder:{default:"Add tag..."},removeOnDelete:{default:!1},required:{default:!1},separator:null,state:{default:void 0},size:null,tagClass:null,tagPills:{default:!1},tagRemoveLabel:null,tagRemovedLabel:{default:"Tag removed"},tagValidator:{type:Function,default:()=>!0},tagVariant:{default:"secondary"}},emits:["update:modelValue","input","tag-state","focus","focusin","focusout","blur"],setup(e,{emit:t}){const n=e,r=ud(),a=Xc((0,i.lW)(n,"addOnChange")),l=Xc((0,i.lW)(n,"autofocus")),u=Xc((0,i.lW)(n,"disabled")),c=Xc((0,i.lW)(n,"noAddOnEnter")),d=Xc((0,i.lW)(n,"noOuterFocus")),h=Xc((0,i.lW)(n,"noTagRemove")),f=Xc((0,i.lW)(n,"removeOnDelete")),p=Xc((0,i.lW)(n,"required")),m=Xc((0,i.lW)(n,"state")),g=Xc((0,i.lW)(n,"tagPills")),v=(0,i.KR)(null),y=(0,s.EW)((()=>n.inputId||`${r.value}input__`)),b=(0,i.KR)(n.modelValue),_=(0,i.KR)(""),w=(0,i.KR)(!1),E=(0,i.KR)(!1),I=(0,i.KR)(""),T=(0,i.KR)([]),C=(0,i.KR)([]),S=(0,i.KR)([]),k=(0,s.EW)((()=>({[`form-control-${n.size}`]:void 0!==n.size,disabled:u.value,focus:E.value,"is-invalid":!1===m.value,"is-valid":!0===m.value}))),A=(0,s.EW)((()=>b.value.includes(_.value))),x=(0,s.EW)((()=>""!==_.value&&!n.tagValidator(_.value))),R=(0,s.EW)((()=>b.value.length===n.limit)),O=(0,s.EW)((()=>!x.value&&!A.value)),N=(0,s.EW)((()=>({addButtonText:n.addButtonText,addButtonVariant:n.addButtonVariant,addTag:W,disableAddButton:O.value,disabled:u.value,duplicateTagText:n.duplicateTagText,duplicateTags:S.value,form:n.form,inputAttrs:{...n.inputAttrs,disabled:u.value,form:n.form,id:y,value:_},inputHandlers:{input:F,keydown:B,change:V},inputId:y,inputType:n.inputType,invalidTagText:n.invalidTagText,invalidTags:C.value,isDuplicate:A.value,isInvalid:x.value,isLimitReached:R.value,limitTagsText:n.limitTagsText,limit:n.limit,noTagRemove:h.value,placeholder:n.placeholder,removeTag:$,required:p.value,separator:n.separator,size:n.size,state:m.value,tagClass:n.tagClass,tagPills:g.value,tagRemoveLabel:n.tagRemoveLabel,tagVariant:n.tagVariant,tags:b.value})));(0,s.wB)((()=>n.modelValue),(e=>{b.value=e}));const D=()=>{var e;l.value&&(null==(e=v.value)||e.focus())},P=e=>{u.value?e.target.blur():t("focusin",e)},L=e=>{u.value||d.value||(E.value=!0,t("focus",e))},M=e=>{E.value=!1,t("blur",e)},F=e=>{var r,i;const s="string"==typeof e?e:e.target.value;w.value=!1,(null==(r=n.separator)?void 0:r.includes(s.charAt(0)))&&s.length>0?v.value&&(v.value.value=""):(_.value=s,null!=(i=n.separator)&&i.includes(s.charAt(s.length-1))?W(s.slice(0,s.length-1)):(T.value=n.tagValidator(s)&&!A.value?[s]:[],C.value=n.tagValidator(s)?[]:[s],S.value=A.value?[s]:[],t("tag-state",T.value,C.value,S.value)))},V=e=>{a.value&&(F(e),A.value||W(_.value))},B=e=>{"Enter"!==e.key||c.value?("Backspace"===e.key||"Delete"===e.key)&&f.value&&""===_.value&&w.value&&b.value.length>0?$(b.value[b.value.length-1]):w.value=!0:W(_.value)},W=e=>{var r;if(e=(e||_.value).trim(),""===e||A.value||!n.tagValidator(e)||n.limit&&R.value)return;const i=[...n.modelValue,e];_.value="",w.value=!0,t("update:modelValue",i),t("input",i),null==(r=v.value)||r.focus()},$=e=>{var n;const r=b.value.indexOf(null!=(n=null==e?void 0:e.toString())?n:"");I.value=b.value.splice(r,1).toString(),t("update:modelValue",b.value)};return(0,s.sV)((()=>{D(),n.modelValue.length>0&&(w.value=!0)})),(0,s.n)((()=>D())),(n,a)=>((0,s.uX)(),(0,s.CE)("div",{id:(0,i.R1)(r),class:(0,o.C4)(["b-form-tags form-control h-auto",(0,i.R1)(k)]),role:"group",tabindex:"-1",onFocusin:P,onFocusout:a[1]||(a[1]=e=>t("focusout",e))},[(0,s.Lk)("output",{id:`${(0,i.R1)(r)}selected_tags__`,class:"visually-hidden",role:"status",for:(0,i.R1)(y),"aria-live":E.value?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"},(0,o.v_)(b.value.join(", ")),9,Bp),(0,s.Lk)("div",{id:`${(0,i.R1)(r)}removed_tags__`,role:"status","aria-live":E.value?"assertive":"off","aria-atomic":"true",class:"visually-hidden"}," ("+(0,o.v_)(e.tagRemovedLabel)+") "+(0,o.v_)(I.value),9,Wp),(0,s.RG)(n.$slots,"default",(0,o._B)((0,s.Ng)((0,i.R1)(N))),(()=>[(0,s.Lk)("ul",{id:`${(0,i.R1)(r)}tag_list__`,class:"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(b.value,((t,r)=>(0,s.RG)(n.$slots,"tag",(0,o._B)((0,s.v6)({key:r},{tag:t,tagClass:e.tagClass,tagVariant:e.tagVariant,tagPills:(0,i.R1)(g),removeTag:$})),(()=>[(0,s.bF)(Fp,{class:(0,o.C4)(e.tagClass),tag:"li",variant:e.tagVariant,pill:e.tagPills,onRemove:$},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(t),1)])),_:2},1032,["class","variant","pill"])])))),128)),(0,s.Lk)("li",{role:"none","aria-live":"off",class:"b-from-tags-field flex-grow-1","aria-controls":`${(0,i.R1)(r)}tag_list__`},[(0,s.Lk)("div",Up,[(0,s.Lk)("input",(0,s.v6)({id:(0,i.R1)(y),ref_key:"input",ref:v,disabled:(0,i.R1)(u),value:_.value,type:e.inputType,placeholder:e.placeholder,class:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",style:{outline:"currentcolor none 0px","min-width":"5rem"}},e.inputAttrs,{form:e.form,required:(0,i.R1)(p),onInput:F,onChange:V,onKeydown:B,onFocus:L,onBlur:M}),null,16,zp),(0,i.R1)(O)?((0,s.uX)(),(0,s.CE)("button",{key:0,type:"button",class:(0,o.C4)(["btn b-form-tags-button py-0",[`btn-${e.addButtonVariant}`,{"disabled invisible":0===_.value.length},e.inputClass]]),style:{"font-size":"90%"},disabled:(0,i.R1)(u)||0===_.value.length||(0,i.R1)(R),onClick:a[0]||(a[0]=e=>W(_.value))},[(0,s.RG)(n.$slots,"add-button-text",{},(()=>[(0,s.eW)((0,o.v_)(e.addButtonText),1)]))],10,qp)):(0,s.Q3)("",!0)])],8,jp)],8,$p),(0,s.Lk)("div",Gp,[(0,i.R1)(x)?((0,s.uX)(),(0,s.CE)("div",Kp,(0,o.v_)(e.invalidTagText)+": "+(0,o.v_)(_.value),1)):(0,s.Q3)("",!0),(0,i.R1)(A)?((0,s.uX)(),(0,s.CE)("small",Hp,(0,o.v_)(e.duplicateTagText)+": "+(0,o.v_)(_.value),1)):(0,s.Q3)("",!0),b.value.length===e.limit?((0,s.uX)(),(0,s.CE)("small",Xp,"Tag limit reached")):(0,s.Q3)("",!0)])])),e.name?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:0},(0,s.pI)(b.value,((t,n)=>((0,s.uX)(),(0,s.CE)("input",{key:n,type:"hidden",name:e.name,value:t},null,8,Qp)))),128)):(0,s.Q3)("",!0)],42,Vp))}}),Jp=(0,s.pM)({props:{...cd,noResize:{type:[Boolean,String],default:!1},rows:{type:[String,Number],required:!1,default:2},wrap:{type:String,default:"soft"}},emits:["update:modelValue","change","blur","input"],setup(e,{emit:t}){const{input:n,computedId:r,computedAriaInvalid:o,onInput:a,onChange:l,onBlur:u,focus:c,blur:d}=dd(e,t),h=Xc((0,i.lW)(e,"noResize")),f=(0,s.EW)((()=>({"form-control":!e.plaintext,"form-control-plaintext":e.plaintext,[`form-control-${e.size}`]:!!e.size,"is-valid":!0===e.state,"is-invalid":!1===e.state}))),p=(0,s.EW)((()=>h.value?{resize:"none"}:void 0));return{input:n,computedId:r,computedAriaInvalid:o,onInput:a,onChange:l,onBlur:u,focus:c,blur:d,computedClasses:f,computedStyles:p}}}),Zp=["id","name","form","disabled","placeholder","required","autocomplete","readonly","aria-required","aria-invalid","rows","wrap"];function em(e,t,n,r,i,o){return(0,s.uX)(),(0,s.CE)("textarea",(0,s.v6)({id:e.computedId,ref:"input",class:e.computedClasses,name:e.name||void 0,form:e.form||void 0,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete||void 0,readonly:e.readonly||e.plaintext,"aria-required":e.required?"true":void 0,"aria-invalid":e.computedAriaInvalid,rows:e.rows,style:e.computedStyles,wrap:e.wrap||void 0},e.$attrs,{onInput:t[0]||(t[0]=t=>e.onInput(t)),onChange:t[1]||(t[1]=t=>e.onChange(t)),onBlur:t[2]||(t[2]=t=>e.onBlur(t))}),null,16,Zp)}const tm=Hd(Jp,[["render",em]]),nm={key:0,class:"input-group-text"},rm=["innerHTML"],im={key:1},sm={key:0,class:"input-group-text"},om=["innerHTML"],am={key:1},lm=(0,s.pM)({__name:"BInputGroup",props:{append:null,appendHtml:null,id:null,prepend:null,prependHtml:null,size:null,tag:{default:"div"}},setup(e){const t=e,n=(0,s.EW)((()=>({"input-group-sm":"sm"===t.size,"input-group-lg":"lg"===t.size}))),r=(0,s.EW)((()=>!!t.append||!!t.appendHtml)),a=(0,s.EW)((()=>!!t.prepend||!!t.prependHtml));return(t,l)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{id:e.id,class:(0,o.C4)(["input-group",(0,i.R1)(n)]),role:"group"},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"prepend",{},(()=>[(0,i.R1)(a)?((0,s.uX)(),(0,s.CE)("span",nm,[e.prependHtml?((0,s.uX)(),(0,s.CE)("span",{key:0,innerHTML:e.prependHtml},null,8,rm)):((0,s.uX)(),(0,s.CE)("span",im,(0,o.v_)(e.prepend),1))])):(0,s.Q3)("",!0)])),(0,s.RG)(t.$slots,"default"),(0,s.RG)(t.$slots,"append",{},(()=>[(0,i.R1)(r)?((0,s.uX)(),(0,s.CE)("span",sm,[e.appendHtml?((0,s.uX)(),(0,s.CE)("span",{key:0,innerHTML:e.appendHtml},null,8,om)):((0,s.uX)(),(0,s.CE)("span",am,(0,o.v_)(e.append),1))])):(0,s.Q3)("",!0)]))])),_:3},8,["id","class"]))}}),um=(0,s.pM)({__name:"BInputGroupText",props:{tag:{default:"div"},text:null},setup(e){return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:"input-group-text"},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))])),_:3}))}}),cm=(0,s.pM)({__name:"BInputGroupAddon",props:{isText:{default:!1}},setup(e){const t=Xc((0,i.lW)(e,"isText"));return(e,n)=>(0,i.R1)(t)?((0,s.uX)(),(0,s.Wv)(um,{key:0},{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3})):(0,s.RG)(e.$slots,"default",{key:1})}}),dm=(0,s.pM)({__name:"BInputGroupAppend",props:{isText:{default:!1}},setup(e){return(t,n)=>((0,s.uX)(),(0,s.Wv)(cm,{"is-text":e.isText},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default")])),_:3},8,["is-text"]))}}),hm=(0,s.pM)({__name:"BInputGroupPrepend",props:{isText:{default:!1}},setup(e){return(t,n)=>((0,s.uX)(),(0,s.Wv)(cm,{"is-text":e.isText},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default")])),_:3},8,["is-text"]))}}),fm=Symbol(),pm=(0,s.pM)({__name:"BListGroup",props:{flush:{default:!1},horizontal:{type:[Boolean,String],default:!1},numbered:{default:!1},tag:{default:"div"}},setup(e){const t=e,n=Xc((0,i.lW)(t,"flush")),r=Xc((0,i.lW)(t,"numbered")),a=(0,s.EW)((()=>{const e=!n.value&&t.horizontal;return{"list-group-flush":n.value,"list-group-horizontal":!0===e,[`list-group-horizontal-${e}`]:"string"==typeof e,"list-group-numbered":r.value}})),l=(0,s.EW)((()=>!0===r.value?"ol":t.tag));return(0,s.Gt)(fm,{numbered:r.value}),(e,t)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)((0,i.R1)(l)),{class:(0,o.C4)(["list-group",(0,i.R1)(a)])},{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},8,["class"]))}}),mm=(0,s.pM)({__name:"BListGroupItem",props:{action:{default:!1},active:{default:!1},button:{default:!1},disabled:{default:!1},href:null,tag:{default:"div"},target:{default:"_self"},to:null,variant:null},setup(e){const t=e,n=(0,s.OA)(),r=(0,s.WQ)(fm,null),o=Xc((0,i.lW)(t,"action")),a=Xc((0,i.lW)(t,"active")),l=Xc((0,i.lW)(t,"button")),u=Xc((0,i.lW)(t,"disabled")),c=(0,s.EW)((()=>!l.value&&(!!t.href||!!t.to))),d=(0,s.EW)((()=>null!=r&&r.numbered?"li":l.value?"button":c.value?Qd:t.tag)),h=(0,s.EW)((()=>o.value||c.value||l.value||["a","router-link","button","b-link"].includes(t.tag))),f=(0,s.EW)((()=>({[`list-group-item-${t.variant}`]:void 0!==t.variant,"list-group-item-action":h.value,active:a.value,disabled:u.value}))),p=(0,s.EW)((()=>{const e={};return l.value&&((!n||!n.type)&&(e.type="button"),u.value&&(e.disabled=!0)),e}));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)((0,i.R1)(d)),(0,s.v6)({class:["list-group-item",(0,i.R1)(f)],"aria-current":!!(0,i.R1)(a)||void 0,"aria-disabled":!!(0,i.R1)(u)||void 0,target:(0,i.R1)(c)?e.target:void 0,href:(0,i.R1)(l)?void 0:e.href,to:(0,i.R1)(l)?void 0:e.to},(0,i.R1)(p)),{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default")])),_:3},16,["class","aria-current","aria-disabled","target","href","to"]))}}),gm=["id","aria-labelledby","aria-describedby"],vm=["id"],ym={inheritAttrs:!1},bm=(0,s.pM)({...ym,__name:"BModal",props:{bodyBgVariant:null,bodyClass:null,bodyTextVariant:null,busy:{default:!1},lazy:{default:!1},buttonSize:{default:"md"},cancelDisabled:{default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{default:!1},contentClass:null,dialogClass:null,footerBgVariant:null,footerBorderVariant:null,footerClass:null,footerTextVariant:null,fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:null,headerBorderVariant:null,headerClass:null,headerCloseLabel:{default:"Close"},headerCloseWhite:{default:!1},headerTextVariant:null,hideBackdrop:{default:!1},hideFooter:{default:!1},hideHeader:{default:!1},hideHeaderClose:{default:!1},id:null,modalClass:null,modelValue:{default:!1},noCloseOnBackdrop:{default:!1},noCloseOnEsc:{default:!1},noFade:{default:!1},noFocus:{default:!1},okDisabled:{default:!1},okOnly:{default:!1},okTitle:{default:"Ok"},okVariant:{default:"primary"},scrollable:{default:!1},show:{default:!1},size:null,title:null,titleClass:null,titleSrOnly:{default:!1},titleTag:{default:"h5"},static:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden","hide-prevented","show-prevented","ok","cancel","close"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),l=ud((0,i.lW)(n,"id"),"modal"),u=Xc((0,i.lW)(n,"busy")),c=Xc((0,i.lW)(n,"lazy")),d=Xc((0,i.lW)(n,"cancelDisabled")),h=Xc((0,i.lW)(n,"centered")),f=Xc((0,i.lW)(n,"hideBackdrop")),p=Xc((0,i.lW)(n,"hideFooter")),m=Xc((0,i.lW)(n,"hideHeader")),g=Xc((0,i.lW)(n,"hideHeaderClose")),v=Xc((0,i.lW)(n,"modelValue")),y=Xc((0,i.lW)(n,"noCloseOnBackdrop")),b=Xc((0,i.lW)(n,"noCloseOnEsc")),_=Xc((0,i.lW)(n,"noFade")),w=Xc((0,i.lW)(n,"noFocus")),E=Xc((0,i.lW)(n,"okDisabled")),I=Xc((0,i.lW)(n,"okOnly")),T=Xc((0,i.lW)(n,"scrollable")),C=Xc((0,i.lW)(n,"titleSrOnly")),S=Xc((0,i.lW)(n,"static")),k=(0,i.KR)(!1),A=(0,i.KR)(null),x=(0,i.KR)(!1),R=(0,s.EW)((()=>[n.modalClass,{fade:!_.value,show:k.value}])),O=(0,s.EW)((()=>!_c(r["header-close"]))),N=(0,s.EW)((()=>[n.dialogClass,{"modal-fullscreen":!0===n.fullscreen,[`modal-fullscreen-${n.fullscreen}-down`]:"string"==typeof n.fullscreen,[`modal-${n.size}`]:void 0!==n.size,"modal-dialog-centered":h.value,"modal-dialog-scrollable":T.value}])),D=(0,s.EW)((()=>[n.bodyClass,{[`bg-${n.bodyBgVariant}`]:void 0!==n.bodyBgVariant,[`text-${n.bodyTextVariant}`]:void 0!==n.bodyTextVariant}])),P=(0,s.EW)((()=>[n.headerClass,{[`bg-${n.headerBgVariant}`]:void 0!==n.headerBgVariant,[`border-${n.headerBorderVariant}`]:void 0!==n.headerBorderVariant,[`text-${n.headerTextVariant}`]:void 0!==n.headerTextVariant}])),L=(0,s.EW)((()=>[n.footerClass,{[`bg-${n.footerBgVariant}`]:void 0!==n.footerBgVariant,[`border-${n.footerBorderVariant}`]:void 0!==n.footerBorderVariant,[`text-${n.footerTextVariant}`]:void 0!==n.footerTextVariant}])),M=(0,s.EW)((()=>[n.titleClass,{["visually-hidden"]:C.value}])),F=(0,s.EW)((()=>d.value||u.value)),V=(0,s.EW)((()=>E.value||u.value)),B=(e,t={})=>new Ou(e,{cancelable:!1,target:A.value||null,relatedTarget:null,trigger:null,...t,componentId:l.value}),W=(e="")=>{const n=B("hide",{cancelable:""!==e,trigger:e});if("ok"===e&&t(e,n),"cancel"===e&&t(e,n),"close"===e&&t(e,n),t("hide",n),n.defaultPrevented||"backdrop"===e&&y.value||"esc"===e&&b.value)return t("update:modelValue",!0),void t("hide-prevented");t("update:modelValue",!1)},$=()=>{const e=B("show",{cancelable:!0});if(t("show",e),e.defaultPrevented)return t("update:modelValue",!1),void t("show-prevented");t("update:modelValue",!0)},j=()=>$(),U=()=>{k.value=!0,t("shown",B("shown")),!0===c.value&&(x.value=!0)},z=()=>{k.value=!1},q=()=>{t("hidden",B("hidden")),!0===c.value&&(x.value=!1)};return(0,s.wB)((()=>v.value),(e=>{!0===e&&!w.value&&(0,s.dY)((()=>{null!==A.value&&A.value.focus()}))})),(t,n)=>((0,s.uX)(),(0,s.Wv)(s.Im,{to:"body",disabled:(0,i.R1)(S)},[(0,s.bF)($d,{"no-fade":!0,"trans-props":{enterToClass:"show"},onBeforeEnter:j,onAfterEnter:U,onLeave:z,onAfterLeave:q},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.Lk)("div",(0,s.v6)({id:(0,i.R1)(l),ref_key:"element",ref:A,class:["modal",(0,i.R1)(R)],role:"dialog","aria-labelledby":`${(0,i.R1)(l)}-label`,"aria-describedby":`${(0,i.R1)(l)}-body`,tabindex:"-1"},t.$attrs,{onKeyup:n[5]||(n[5]=(0,a.jR)((e=>W("esc")),["esc"]))}),[(0,s.Lk)("div",{class:(0,o.C4)(["modal-dialog",(0,i.R1)(N)])},[!(0,i.R1)(c)||(0,i.R1)(c)&&x.value||(0,i.R1)(c)&&!0===(0,i.R1)(v)?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,o.C4)(["modal-content",e.contentClass])},[(0,i.R1)(m)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,o.C4)(["modal-header",(0,i.R1)(P)])},[(0,s.RG)(t.$slots,"header",{},(()=>[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.titleTag),{id:`${(0,i.R1)(l)}-label`,class:(0,o.C4)(["modal-title",(0,i.R1)(M)])},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"title",{},(()=>[(0,s.eW)((0,o.v_)(e.title),1)]),!0)])),_:3},8,["id","class"])),(0,i.R1)(g)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,i.R1)(O)?((0,s.uX)(),(0,s.CE)("button",{key:0,type:"button",onClick:n[0]||(n[0]=e=>W("close"))},[(0,s.RG)(t.$slots,"header-close",{},void 0,!0)])):((0,s.uX)(),(0,s.Wv)(Ud,{key:1,"aria-label":e.headerCloseLabel,white:e.headerCloseWhite,onClick:n[1]||(n[1]=e=>W("close"))},null,8,["aria-label","white"]))],64))]),!0)],2)),(0,s.Lk)("div",{id:`${(0,i.R1)(l)}-body`,class:(0,o.C4)(["modal-body",(0,i.R1)(D)])},[(0,s.RG)(t.$slots,"default",{},void 0,!0)],10,vm),(0,i.R1)(p)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,o.C4)(["modal-footer",(0,i.R1)(L)])},[(0,s.RG)(t.$slots,"footer",{},(()=>[(0,s.RG)(t.$slots,"cancel",{},(()=>[(0,i.R1)(I)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(Zd,{key:0,type:"button",class:"btn",disabled:(0,i.R1)(F),size:e.buttonSize,variant:e.cancelVariant,onClick:n[2]||(n[2]=e=>W("cancel"))},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.cancelTitle),1)])),_:1},8,["disabled","size","variant"]))]),!0),(0,s.RG)(t.$slots,"ok",{},(()=>[(0,s.bF)(Zd,{type:"button",class:"btn",disabled:(0,i.R1)(V),size:e.buttonSize,variant:e.okVariant,onClick:n[3]||(n[3]=e=>W("ok"))},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.okTitle),1)])),_:1},8,["disabled","size","variant"])]),!0)]),!0)],2))],2)):(0,s.Q3)("",!0)],2),(0,i.R1)(f)?(0,s.Q3)("",!0):(0,s.RG)(t.$slots,"backdrop",{key:0},(()=>[(0,s.Lk)("div",{class:"modal-backdrop fade show",onClick:n[4]||(n[4]=e=>W("backdrop"))})]),!0)],16,gm),[[a.aG,(0,i.R1)(v)]])])),_:3})],8,["disabled"]))}}),_m=Hd(bm,[["__scopeId","data-v-116ecd66"]]),wm=(0,s.pM)({__name:"BNav",props:{align:null,cardHeader:{default:!1},fill:{default:!1},justified:{default:!1},pills:{default:!1},small:{default:!1},tabs:{default:!1},tag:{default:"ul"},vertical:{default:!1}},setup(e){const t=e,n=Xc((0,i.lW)(t,"cardHeader")),r=Xc((0,i.lW)(t,"fill")),a=Xc((0,i.lW)(t,"justified")),l=Xc((0,i.lW)(t,"pills")),u=Xc((0,i.lW)(t,"small")),c=Xc((0,i.lW)(t,"tabs")),d=Xc((0,i.lW)(t,"vertical")),h=xu((0,i.lW)(t,"align")),f=(0,s.EW)((()=>({"nav-tabs":c.value,"nav-pills":l.value&&!c.value,"card-header-tabs":!d.value&&n.value&&c.value,"card-header-pills":!d.value&&n.value&&l.value&&!c.value,"flex-column":d.value,"nav-fill":!d.value&&r.value,"nav-justified":!d.value&&a.value,[h.value]:!d.value&&void 0!==t.align,small:u.value})));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)(["nav",(0,i.R1)(f)])},{default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default")])),_:3},8,["class"]))}}),Em=(0,s.pM)({__name:"BNavForm",props:{role:null,id:null,floating:{default:!1},novalidate:{default:!1},validated:{default:!1}},emits:["submit"],setup(e,{emit:t}){const n=e,r=(0,s.EW)((()=>({floating:n.floating,role:n.role,id:n.id,novalidate:n.novalidate,validated:n.validated}))),o=e=>t("submit",e);return(e,t)=>((0,s.uX)(),(0,s.Wv)(Kf,(0,s.v6)((0,i.R1)(r),{class:"d-flex",onSubmit:(0,a.D$)(o,["prevent"])}),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},16,["onSubmit"]))}}),Im=(0,s.pM)({components:{BLink:Qd},props:{...jc(Gd,["event","routerTag"])},setup(e){return{disabledBoolean:Xc((0,i.lW)(e,"disabled"))}}}),Tm={class:"nav-item"};function Cm(e,t,n,r,i,o){const a=(0,s.g2)("b-link");return(0,s.uX)(),(0,s.CE)("li",Tm,[(0,s.bF)(a,(0,s.v6)({class:"nav-link"},e.$props,{"active-class":"active",tabindex:e.disabledBoolean?-1:void 0,"aria-disabled":!!e.disabledBoolean||void 0}),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},16,["tabindex","aria-disabled"])])}const Sm=Hd(Im,[["render",Cm]]),km={class:"nav-item dropdown"},Am=(0,s.pM)({__name:"BNavItemDropdown",props:{id:null,text:null,toggleClass:null,size:null,offset:null,autoClose:{type:[Boolean,String],default:!0},dark:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropup:{type:Boolean,default:!1},right:{type:Boolean,default:!1},left:{type:[Boolean,String],default:!1},split:{type:Boolean,default:!1},splitVariant:null,noCaret:{type:Boolean,default:!1},variant:{default:"link"}},setup(e){const t=e;return(e,n)=>((0,s.uX)(),(0,s.CE)("li",km,[(0,s.bF)(Ef,(0,s.v6)(t,{"is-nav":""}),(0,s.eX)({_:2},[(0,s.pI)(e.$slots,((t,n,r)=>({name:n,fn:(0,s.k6)((t=>[(0,s.RG)(e.$slots,n,(0,o._B)((0,s.Ng)(t||{})))]))})))]),1040)]))}}),xm={class:"navbar-text"},Rm=(0,s.pM)({__name:"BNavText",props:{text:null},setup(e){return(t,n)=>((0,s.uX)(),(0,s.CE)("li",xm,[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.text),1)]))]))}}),Om=(0,s.pM)({__name:"BNavbar",props:{fixed:null,print:{default:!1},sticky:null,tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},dark:{default:!1},variant:null,container:{type:[String,Boolean],default:"fluid"}},setup(e){const t=e,n=Xc((0,i.lW)(t,"print")),r=Xc((0,i.lW)(t,"dark")),a=(0,s.EW)((()=>"nav"===t.tag?void 0:"navigation")),l=(0,s.EW)((()=>"string"==typeof t.toggleable?`navbar-expand-${t.toggleable}`:!1===t.toggleable?"navbar-expand":void 0)),u=(0,s.EW)((()=>!0===t.container?"container":"container-fluid")),c=(0,s.EW)((()=>({"d-print":n.value,[`sticky-${t.sticky}`]:void 0!==t.sticky,"navbar-dark":r.value,[`bg-${t.variant}`]:void 0!==t.variant,[`fixed-${t.fixed}`]:void 0!==t.fixed,[`${l.value}`]:void 0!==l.value})));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)(["navbar",(0,i.R1)(c)]),role:(0,i.R1)(a)},{default:(0,s.k6)((()=>[!1!==e.container?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,o.C4)((0,i.R1)(u))},[(0,s.RG)(t.$slots,"default")],2)):(0,s.RG)(t.$slots,"default",{key:1})])),_:3},8,["class","role"]))}}),Nm=jc(Gd,["event","routerTag"]),Dm=(0,s.pM)({components:{BLink:Qd},props:{tag:{type:String,default:"div"},...Nm},setup(e){const t=(0,s.EW)((()=>Hc(e))),n=(0,s.EW)((()=>t.value?Qd:e.tag));return{computedLinkProps:(0,s.EW)((()=>t.value?Gc(e,Nm):{})),computedTag:n}}});function Pm(e,t,n,r,i,o){return(0,s.uX)(),(0,s.Wv)((0,s.$y)(e.computedTag),(0,s.v6)({class:"navbar-brand"},e.computedLinkProps),{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},16)}const Lm=Hd(Dm,[["render",Pm]]),Mm=(0,s.pM)({__name:"BNavbarNav",props:{align:null,fill:{default:!1},justified:{default:!1},small:{default:!1},tag:{default:"ul"}},setup(e){const t=e,n=Xc((0,i.lW)(t,"fill")),r=Xc((0,i.lW)(t,"justified")),a=Xc((0,i.lW)(t,"small")),l=xu((0,i.lW)(t,"align")),u=(0,s.EW)((()=>({"nav-fill":n.value,"nav-justified":r.value,[l.value]:void 0!==t.align,small:a.value})));return(e,t)=>((0,s.uX)(),(0,s.CE)("ul",{class:(0,o.C4)(["navbar-nav",(0,i.R1)(u)])},[(0,s.RG)(e.$slots,"default")],2))}}),Fm=(0,s.Lk)("span",{class:"navbar-toggler-icon"},null,-1),Vm=(0,s.pM)({__name:"BNavbarToggle",props:{disabled:{default:!1},label:{default:"Toggle navigation"},target:null},emits:["click"],setup(e,{emit:t}){const n=e,r=Xc((0,i.lW)(n,"disabled")),o=(0,s.EW)((()=>({disabled:r.value,"aria-label":n.label}))),a=(0,s.EW)((()=>({disabled:r.value}))),l=e=>{r.value||t("click",e)};return(t,n)=>(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",(0,s.v6)({class:["navbar-toggler",(0,i.R1)(a)],type:"button"},(0,i.R1)(o),{onClick:l}),[(0,s.RG)(t.$slots,"default",{},(()=>[Fm]))],16)),[[(0,i.R1)(Cd),(0,i.R1)(r)?void 0:e.target]])}}),Bm=["data-bs-backdrop","data-bs-scroll"],Wm={key:0,class:"offcanvas-header"},$m={id:"offcanvasLabel",class:"offcanvas-title"},jm={class:"offcanvas-body"},Um={key:1},zm=(0,s.pM)({__name:"BOffcanvas",props:{dismissLabel:{default:"Close"},modelValue:{default:!1},bodyScrolling:{default:!1},backdrop:{default:!0},placement:{default:"start"},title:null,noHeaderClose:{default:!1},noHeader:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(e,{emit:t}){const n=e,r=Xc((0,i.lW)(n,"modelValue")),a=Xc((0,i.lW)(n,"bodyScrolling")),l=Xc((0,i.lW)(n,"backdrop")),u=Xc((0,i.lW)(n,"noHeaderClose")),c=Xc((0,i.lW)(n,"noHeader")),d=(0,s.Ht)(),h=(0,i.KR)(),f=(0,i.KR)(),p=(0,s.EW)((()=>!_c(d.footer))),m=(0,s.EW)((()=>[`offcanvas-${n.placement}`])),g=()=>{t("show"),t("update:modelValue",!0)},v=()=>{t("hide"),t("update:modelValue",!1)};return(0,s.wB)((()=>r.value),(e=>{var t,n;e?null==(t=f.value)||t.show(h.value):null==(n=f.value)||n.hide()})),ed(h,"shown.bs.offcanvas",(()=>t("shown"))),ed(h,"hidden.bs.offcanvas",(()=>t("hidden"))),ed(h,"show.bs.offcanvas",(()=>{g()})),ed(h,"hide.bs.offcanvas",(()=>{v()})),(0,s.sV)((()=>{var e;f.value=new eo(h.value),r.value&&(null==(e=f.value)||e.show(h.value))})),(t,n)=>((0,s.uX)(),(0,s.CE)("div",{ref_key:"element",ref:h,class:(0,o.C4)(["offcanvas",(0,i.R1)(m)]),tabindex:"-1","aria-labelledby":"offcanvasLabel","data-bs-backdrop":(0,i.R1)(l),"data-bs-scroll":(0,i.R1)(a)},[(0,i.R1)(c)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Wm,[(0,s.RG)(t.$slots,"header",(0,o._B)((0,s.Ng)({visible:(0,i.R1)(r),placement:e.placement,hide:v})),(()=>[(0,s.Lk)("h5",$m,[(0,s.RG)(t.$slots,"title",{},(()=>[(0,s.eW)((0,o.v_)(e.title),1)]))]),(0,i.R1)(u)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(Ud,{key:0,class:"text-reset","data-bs-dismiss":"offcanvas","aria-label":e.dismissLabel},null,8,["aria-label"]))]))])),(0,s.Lk)("div",jm,[(0,s.RG)(t.$slots,"default")]),(0,i.R1)(p)?((0,s.uX)(),(0,s.CE)("div",Um,[(0,s.RG)(t.$slots,"footer",(0,o._B)((0,s.Ng)({visible:(0,i.R1)(r),placement:e.placement,hide:v})))])):(0,s.Q3)("",!0)],10,Bm))}}),qm=(0,s.pM)({__name:"BOverlay",props:{bgColor:null,blur:{default:"2px"},fixed:{default:!1},noCenter:{default:!1},noFade:{default:!1},noWrap:{default:!1},opacity:{default:.85},overlayTag:{default:"div"},rounded:{type:[Boolean,String],default:!1},show:{default:!1},spinnerSmall:{default:!1},spinnerType:{default:"border"},spinnerVariant:null,variant:{default:"light"},wrapTag:{default:"div"},zIndex:{default:10}},emits:["click","hidden","shown"],setup(e,{emit:t}){const n=e,r={top:0,left:0,bottom:0,right:0},a=Xc((0,i.lW)(n,"fixed")),l=Xc((0,i.lW)(n,"noCenter")),u=Xc((0,i.lW)(n,"noWrap")),c=Xc((0,i.lW)(n,"show")),d=Xc((0,i.lW)(n,"spinnerSmall")),h=(0,s.EW)((()=>!0===n.rounded||""===n.rounded?"rounded":!1===n.rounded?"":`rounded-${n.rounded}`)),f=(0,s.EW)((()=>n.variant&&!n.bgColor?`bg-${n.variant}`:"")),p=(0,s.EW)((()=>c.value?"true":null)),m=(0,s.EW)((()=>({type:n.spinnerType||void 0,variant:n.spinnerVariant||void 0,small:d.value}))),g=(0,s.EW)((()=>({...r,zIndex:n.zIndex||10}))),v=(0,s.EW)((()=>["b-overlay",{"position-absolute":!u.value||!a.value,"position-fixed":u.value&&a.value}])),y=(0,s.EW)((()=>[f.value,h.value])),b=(0,s.EW)((()=>({...r,opacity:n.opacity,backgroundColor:n.bgColor||void 0,backdropFilter:blur?`blur(${blur})`:void 0}))),_=(0,s.EW)((()=>l.value?r:{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}));return(n,r)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.wrapTag),{class:"b-overlay-wrap position-relative","aria-busy":(0,i.R1)(p)},{default:(0,s.k6)((()=>[(0,s.RG)(n.$slots,"default"),(0,s.bF)($d,{"no-fade":e.noFade,"trans-props":{enterToClass:"show"},name:"fade",onOnAfterEnter:r[1]||(r[1]=e=>t("shown")),onOnAfterLeave:r[2]||(r[2]=e=>t("hidden"))},{default:(0,s.k6)((()=>[(0,i.R1)(c)?((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.overlayTag),{key:0,class:(0,o.C4)((0,i.R1)(v)),style:(0,o.Tr)((0,i.R1)(g)),onClick:r[0]||(r[0]=e=>t("click",e))},{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:(0,o.C4)(["position-absolute",(0,i.R1)(y)]),style:(0,o.Tr)((0,i.R1)(b))},null,6),(0,s.Lk)("div",{class:"position-absolute",style:(0,o.Tr)((0,i.R1)(_))},[(0,s.RG)(n.$slots,"overlay",(0,o._B)((0,s.Ng)((0,i.R1)(m))),(()=>[(0,s.bF)(qd,(0,o._B)((0,s.Ng)((0,i.R1)(m))),null,16)]))],4)])),_:3},8,["class","style"])):(0,s.Q3)("",!0)])),_:3},8,["no-fade"])])),_:3},8,["aria-busy"]))}}),Gm=5,Km=20,Hm=0,Xm=3,Qm="ellipsis-text",Ym="first-text",Jm="last-text",Zm="next-text",eg="page",tg="prev-text",ng=e=>Math.max(Bc(e)||Km,1),rg=e=>Math.max(Bc(e)||Hm,0),ig=(e,t)=>{const n=Bc(e)||1;return n>t?t:n<1?1:n},sg=(0,s.pM)({name:"BPagination",props:{align:{type:String,default:"start"},ariaControls:{type:String,required:!1},ariaLabel:{type:String,default:"Pagination"},disabled:{type:[Boolean,String],default:!1},ellipsisClass:{type:[Array,String],default:()=>[]},ellipsisText:{type:String,default:"…"},firstClass:{type:[Array,String],default:()=>[]},firstNumber:{type:[Boolean,String],default:!1},firstText:{type:String,default:"«"},hideEllipsis:{type:[Boolean,String],default:!1},hideGotoEndButtons:{type:[Boolean,String],default:!1},labelFirstPage:{type:String,default:"Go to first page"},labelLastPage:{type:String,default:"Go to last page"},labelNextPage:{type:String,default:"Go to next page"},labelPage:{type:String,default:"Go to page"},labelPrevPage:{type:String,default:"Go to previous page"},lastClass:{type:[Array,String],default:()=>[]},lastNumber:{type:[Boolean,String],default:!1},lastText:{type:String,default:"»"},limit:{type:Number,default:Gm},modelValue:{type:Number,default:1},nextClass:{type:[Array,String],default:()=>[]},nextText:{type:String,default:"›"},pageClass:{type:[Array,String],default:()=>[]},perPage:{type:Number,default:Km},pills:{type:[Boolean,String],default:!1},prevClass:{type:[Array,String],default:()=>[]},prevText:{type:String,default:"‹"},size:{type:String,required:!1},totalRows:{type:Number,default:Hm}},emits:["update:modelValue","page-click"],setup(e,{emit:t,slots:n}){const r=Xc((0,i.lW)(e,"disabled")),o=Xc((0,i.lW)(e,"firstNumber")),a=Xc((0,i.lW)(e,"hideEllipsis")),l=Xc((0,i.lW)(e,"hideGotoEndButtons")),u=Xc((0,i.lW)(e,"lastNumber")),c=Xc((0,i.lW)(e,"pills")),d=(0,s.EW)((()=>"fill"===e.align?"start":e.align)),h=xu((0,i.lW)(d,"value")),f=(0,s.EW)((()=>Math.ceil(rg(e.totalRows)/ng(e.perPage)))),p=(0,s.EW)((()=>{let t;return t=f.value-e.modelValue+2<e.limit&&e.limit>Xm?f.value-g.value+1:e.modelValue-Math.floor(g.value/2),t<1?t=1:t>f.value-g.value&&(t=f.value-g.value+1),e.limit<=Xm&&u.value&&f.value===t+g.value-1&&(t=Math.max(t-1,1)),t})),m=(0,s.EW)((()=>{const t=f.value-e.modelValue;let n=!1;return t+2<e.limit&&e.limit>Xm?e.limit>Xm&&(n=!0):e.limit>Xm&&(n=!(a.value&&!o.value)),p.value<=1&&(n=!1),n&&o.value&&p.value<4&&(n=!1),n})),g=(0,s.EW)((()=>{let t=e.limit;return f.value<=e.limit?t=f.value:e.modelValue<e.limit-1&&e.limit>Xm?((!a.value||u.value)&&(t=e.limit-(o.value?0:1)),t=Math.min(t,e.limit)):f.value-e.modelValue+2<e.limit&&e.limit>Xm?(!a.value||o.value)&&(t=e.limit-(u.value?0:1)):e.limit>Xm&&(t=e.limit-(a.value?0:2)),t})),v=(0,s.EW)((()=>{const t=f.value-g.value;let n=!1;e.modelValue<e.limit-1&&e.limit>Xm?(!a.value||u.value)&&(n=!0):e.limit>Xm&&(n=!(a.value&&!u.value)),p.value>t&&(n=!1);const r=p.value+g.value-1;return n&&u.value&&r>f.value-3&&(n=!1),n})),y=(0,i.Kh)({pageSize:ng(e.perPage),totalRows:rg(e.totalRows),numberOfPages:f.value}),b=(n,r)=>{if(r===e.modelValue)return;const{target:i}=n,s=new Ru("page-click",{cancelable:!0,target:i});t("page-click",s,r),!s.defaultPrevented&&t("update:modelValue",r)},_=(0,s.EW)((()=>e.size?`pagination-${e.size}`:"")),w=(0,s.EW)((()=>c.value?"b-pagination-pills":""));(0,s.wB)((()=>e.modelValue),(n=>{const r=ig(n,f.value);r!==e.modelValue&&t("update:modelValue",r)})),(0,s.wB)(y,((n,r)=>{null!=n&&(r.pageSize!==n.pageSize&&r.totalRows===n.totalRows||r.numberOfPages!==n.numberOfPages&&e.modelValue>r.numberOfPages)&&t("update:modelValue",1)}));const E=(0,s.EW)((()=>{const e=[];for(let t=0;t<g.value;t++)e.push({number:p.value+t,classes:null});return e}));return()=>{const t=[],i=E.value.map((e=>e.number)),a=t=>t===e.modelValue,c=e.modelValue<1,d="fill"===e.align,p=(t,i,o,l,u,h)=>{const p=r.value||a(h)||c||t<1||t>f.value,m=t<1?1:t>f.value?f.value:t,g={disabled:p,page:m,index:m-1},v=Vc(o,g,n)||l||"";return(0,s.h)("li",{class:["page-item",{disabled:p,"flex-fill":d,"d-flex":d&&!p},u]},(0,s.h)(p?"span":"button",{class:["page-link",{"flex-grow-1":!p&&d}],"aria-label":i,"aria-controls":e.ariaControls||null,"aria-disabled":p?"true":null,role:"menuitem",type:p?null:"button",tabindex:p?null:"-1",onClick:e=>{p||b(e,m)}},v))},g=t=>(0,s.h)("li",{class:["page-item","disabled","bv-d-xs-down-none",d?"flex-fill":"",e.ellipsisClass],role:"separator",key:"ellipsis-"+(t?"last":"first")},[(0,s.h)("span",{class:["page-link"]},Vc(Qm,{},n)||e.ellipsisText||"...")]),y=(t,i)=>{const o=a(t.number)&&!c,l=r.value?null:o||c&&0===i?"0":"-1",u={active:o,disabled:r.value,page:t.number,index:t.number-1,content:t.number},h=Vc(eg,u,n)||t.number,f=(0,s.h)(r.value?"span":"button",{class:["page-link",{"flex-grow-1":!r.value&&d}],"aria-controls":e.ariaControls||null,"aria-disabled":r.value?"true":null,"aria-label":e.labelPage?`${e.labelPage} ${t.number}`:null,role:"menuitemradio",type:r.value?null:"button",tabindex:l,onClick:e=>{r.value||b(e,t.number)}},h);return(0,s.h)("li",{class:["page-item",{disabled:r.value,active:o,"flex-fill":d,"d-flex":d&&!r.value},e.pageClass],role:"presentation",key:`page-${t.number}`},f)};if(!l.value&&!o.value){const n=p(1,e.labelFirstPage,Ym,e.firstText,e.firstClass,1);t.push(n)}const I=p(e.modelValue-1,e.labelFirstPage,tg,e.prevText,e.prevClass,1);t.push(I),o.value&&1!==i[0]&&t.push(y({number:1},0)),m.value&&t.push(g(!1)),E.value.forEach(((e,n)=>{const r=m.value&&o.value&&1!==i[0]?1:0;t.push(y(e,n+r))})),v.value&&t.push(g(!0)),u.value&&i[i.length-1]!==f.value&&t.push(y({number:f.value},-1));const T=p(e.modelValue+1,e.labelNextPage,Zm,e.nextText,e.nextClass,f.value);if(t.push(T),!u.value&&!l.value){const n=p(f.value,e.labelLastPage,Jm,e.lastText,e.lastClass,f.value);t.push(n)}return(0,s.h)("ul",{class:["pagination",_.value,h.value,w.value],role:"menubar","aria-disabled":r.value,"aria-label":e.ariaLabel||null},t)}}}),og=(0,s.pM)({__name:"BPlaceholder",props:{tag:{default:"span"},width:null,cols:null,variant:null,size:null,animation:null},setup(e){const t=e,n=(0,s.EW)((()=>void 0===t.width?void 0:"number"==typeof t.width?t.width.toString():t.width.includes("%")?t.width.replaceAll("%",""):t.width)),r=(0,s.EW)((()=>void 0===t.cols?void 0:"number"==typeof t.cols?t.cols.toString():t.cols)),a=(0,s.EW)((()=>({[`col-${r.value}`]:void 0!==r.value&&void 0===n.value,[`bg-${t.variant}`]:void 0!==t.variant,[`placeholder-${t.size}`]:void 0!==t.size,[`placeholder-${t.animation}`]:void 0!==t.animation}))),l=(0,s.EW)((()=>void 0===n.value?void 0:`width: ${n.value}%;`));return(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)(["placeholder",(0,i.R1)(a)]),style:(0,o.Tr)((0,i.R1)(l))},null,8,["class","style"]))}}),ag=(0,s.pM)({__name:"BPlaceholderButton",props:{tag:{default:"div"},width:null,cols:null,variant:{default:"primary"},animation:null},setup(e){const t=e,n=(0,s.EW)((()=>["btn",`btn-${t.variant}`,"disabled"])),r=(0,s.EW)((()=>({animation:t.animation,width:t.width,cols:t.cols,tag:t.tag})));return(e,t)=>((0,s.uX)(),(0,s.Wv)(og,(0,s.v6)({class:(0,i.R1)(n)},(0,i.R1)(r)),null,16,["class"]))}}),lg=(0,s.pM)({__name:"BPlaceholderCard",props:{noHeader:{default:!1},headerWidth:{default:100},headerVariant:null,headerAnimation:null,headerSize:null,noFooter:{default:!1},footerWidth:{default:100},footerVariant:null,footerAnimation:null,footerSize:null,animation:null,size:null,variant:null,noButton:{default:!1},imgBottom:{default:!1},imgSrc:null,imgBlankColor:{default:"#868e96"},imgHeight:{default:100},noImg:{default:!1}},setup(e){const t=e,n=Xc((0,i.lW)(t,"noButton")),r=Xc((0,i.lW)(t,"noHeader")),a=Xc((0,i.lW)(t,"noFooter")),l=Xc((0,i.lW)(t,"noImg")),u=(0,s.EW)((()=>({width:t.headerWidth,variant:t.headerVariant,animation:t.headerAnimation,size:t.headerSize}))),c=(0,s.EW)((()=>({width:t.footerWidth,animation:t.footerAnimation,size:n.value?t.footerSize:void 0,variant:t.footerVariant}))),d=(0,s.EW)((()=>({blank:!t.imgSrc,blankColor:t.imgBlankColor,height:t.imgSrc?void 0:t.imgHeight,src:t.imgSrc,top:!t.imgBottom,bottom:t.imgBottom})));return(t,h)=>((0,s.uX)(),(0,s.Wv)(Nh,{"img-bottom":e.imgBottom},(0,s.eX)({default:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.bF)(og,{cols:"7"}),(0,s.bF)(og,{cols:"4"}),(0,s.bF)(og,{cols:"4"}),(0,s.bF)(og,{cols:"6"}),(0,s.bF)(og,{cols:"8"})]))])),_:2},[(0,i.R1)(l)?void 0:{name:"img",fn:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"img",{},(()=>[(0,s.bF)(Th,(0,o._B)((0,s.Ng)((0,i.R1)(d))),null,16)]))])),key:"0"},(0,i.R1)(r)?void 0:{name:"header",fn:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"header",{},(()=>[(0,s.bF)(og,(0,o._B)((0,s.Ng)((0,i.R1)(u))),null,16)]))])),key:"1"},(0,i.R1)(a)?void 0:{name:"footer",fn:(0,s.k6)((()=>[(0,s.RG)(t.$slots,"footer",{},(()=>[(0,i.R1)(n)?((0,s.uX)(),(0,s.Wv)(og,(0,o._B)((0,s.v6)({key:1},(0,i.R1)(c))),null,16)):((0,s.uX)(),(0,s.Wv)(ag,(0,o._B)((0,s.v6)({key:0},(0,i.R1)(c))),null,16))]))])),key:"2"}]),1032,["img-bottom"]))}}),ug=(0,s.pM)({__name:"BTableSimple",props:{bordered:{default:!1},borderless:{default:!1},borderVariant:null,captionTop:{default:!1},dark:{default:!1},hover:{default:!1},responsive:{type:[Boolean,String],default:!1},stacked:{type:[Boolean,String],default:!1},striped:{default:!1},small:{default:!1},tableClass:null,tableVariant:null,stickyHeader:{default:!1}},setup(e){const t=e,n=Xc((0,i.lW)(t,"captionTop")),r=Xc((0,i.lW)(t,"borderless")),a=Xc((0,i.lW)(t,"bordered")),l=Xc((0,i.lW)(t,"dark")),u=Xc((0,i.lW)(t,"hover")),c=Xc((0,i.lW)(t,"small")),d=Xc((0,i.lW)(t,"striped")),h=Xc((0,i.lW)(t,"stickyHeader")),f=(0,s.EW)((()=>["table","b-table",{"table-bordered":a.value,"table-borderless":r.value,[`border-${t.borderVariant}`]:void 0!==t.borderVariant,"caption-top":n.value,"table-dark":l.value,"table-hover":u.value,"b-table-stacked":"boolean"==typeof t.stacked&&t.stacked,[`b-table-stacked-${t.stacked}`]:"string"==typeof t.stacked,"table-striped":d.value,"table-sm":c.value,[`table-${t.tableVariant}`]:void 0!==t.tableVariant},t.tableClass])),p=(0,s.EW)((()=>[{"table-responsive":!0===t.responsive,[`table-responsive-${t.responsive}`]:"string"==typeof t.responsive,"b-table-sticky-header":h.value}]));return(t,n)=>e.responsive?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,o.C4)((0,i.R1)(p))},[(0,s.Lk)("table",{role:"table",class:(0,o.C4)((0,i.R1)(f))},[(0,s.RG)(t.$slots,"default")],2)],2)):((0,s.uX)(),(0,s.CE)("table",{key:0,role:"table",class:(0,o.C4)((0,i.R1)(f))},[(0,s.RG)(t.$slots,"default")],2))}}),cg=(0,s.pM)({__name:"BPlaceholderTable",props:{rows:{default:3},columns:{default:5},cellWidth:{default:100},size:null,animation:null,variant:null,headerColumns:null,hideHeader:{default:!1},headerCellWidth:{default:100},headerSize:null,headerAnimation:null,headerVariant:null,footerColumns:null,showFooter:{default:!1},footerCellWidth:{default:100},footerSize:null,footerAnimation:null,footerVariant:null},setup(e){const t=e,n=(0,s.EW)((()=>"string"==typeof t.columns?Wc(t.columns,5):t.columns)),r=(0,s.EW)((()=>"string"==typeof t.rows?Wc(t.rows,3):t.rows)),a=(0,s.EW)((()=>void 0===t.headerColumns?n.value:"string"==typeof t.headerColumns?Wc(t.headerColumns,n.value):t.headerColumns)),l=(0,s.EW)((()=>void 0===t.footerColumns?n.value:"string"==typeof t.footerColumns?Wc(t.footerColumns,n.value):t.footerColumns)),u=(0,s.EW)((()=>({size:t.size,variant:t.variant,animation:t.animation,width:t.cellWidth}))),c=(0,s.EW)((()=>({size:t.headerSize,variant:t.headerVariant,animation:t.headerAnimation,width:t.headerCellWidth}))),d=(0,s.EW)((()=>({size:t.footerSize,variant:t.footerVariant,animation:t.footerAnimation,width:t.footerCellWidth}))),h=Xc((0,i.lW)(t,"hideHeader")),f=Xc((0,i.lW)(t,"showFooter"));return(e,t)=>((0,s.uX)(),(0,s.Wv)(ug,null,{default:(0,s.k6)((()=>[(0,i.R1)(h)?(0,s.Q3)("",!0):(0,s.RG)(e.$slots,"thead",{key:0},(()=>[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(a),((e,t)=>((0,s.uX)(),(0,s.CE)("th",{key:t},[(0,s.bF)(og,(0,o._B)((0,s.Ng)((0,i.R1)(c))),null,16)])))),128))])])])),(0,s.RG)(e.$slots,"default",{},(()=>[(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(r),((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(n),((e,t)=>((0,s.uX)(),(0,s.CE)("td",{key:t},[(0,s.bF)(og,(0,o._B)((0,s.Ng)((0,i.R1)(u))),null,16)])))),128))])))),128))])])),(0,i.R1)(f)?(0,s.RG)(e.$slots,"tfoot",{key:1},(()=>[(0,s.Lk)("tfoot",null,[(0,s.Lk)("tr",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(l),((e,t)=>((0,s.uX)(),(0,s.CE)("th",{key:t},[(0,s.bF)(og,(0,o._B)((0,s.Ng)((0,i.R1)(d))),null,16)])))),128))])])])):(0,s.Q3)("",!0)])),_:3}))}}),dg=(0,s.pM)({__name:"BPlaceholderWrapper",props:{loading:{default:!1}},setup(e){const t=Xc((0,i.lW)(e,"loading"));return(e,n)=>(0,i.R1)(t)?(0,s.RG)(e.$slots,"loading",{key:0}):(0,s.RG)(e.$slots,"default",{key:1})}}),hg=(0,s.pM)({props:{container:{type:[String,Object],default:"body"},content:{type:String},id:{type:String},customClass:{type:String,default:""},noninteractive:{type:[Boolean,String],default:!1},placement:{type:String,default:"right"},target:{type:[String,Object],default:void 0},title:{type:String},delay:{type:[Number,Object],default:0},triggers:{type:String,default:"click"},show:{type:[Boolean,String],default:!1},variant:{type:String,default:void 0},html:{type:[Boolean,String],default:!0},sanitize:{type:[Boolean,String],default:!1},offset:{type:String,default:"0"}},emits:["show","shown","hide","hidden","inserted"],setup(e,{emit:t,slots:n}){Xc((0,i.lW)(e,"noninteractive"));const r=Xc((0,i.lW)(e,"show")),o=Xc((0,i.lW)(e,"html")),a=Xc((0,i.lW)(e,"sanitize")),l=(0,i.KR)(),u=(0,i.KR)(),c=(0,i.KR)(),d=(0,i.KR)(),h=(0,i.KR)(),f=(0,s.EW)((()=>({[`b-popover-${e.variant}`]:void 0!==e.variant}))),p=e=>"string"==typeof e||e instanceof HTMLElement?e:typeof e<"u"?e.$el:void 0,m=e=>{if(e){if("string"==typeof e){const t=document.getElementById(e);return t||void 0}return e}},g=[{event:"show.bs.popover",handler:()=>t("show")},{event:"shown.bs.popover",handler:()=>t("shown")},{event:"hide.bs.popover",handler:()=>t("hide")},{event:"hidden.bs.popover",handler:()=>t("hidden")},{event:"inserted.bs.popover",handler:()=>t("inserted")}],v=e=>{for(const t of g)e.addEventListener(t.event,t.handler)},y=e=>{for(const t of g)e.removeEventListener(t.event,t.handler)},b=t=>{u.value=m(p(t)),u.value&&(v(u.value),c.value=new zo(u.value,{customClass:e.customClass,container:p(e.container),trigger:e.triggers,placement:e.placement,title:e.title||n.title?d.value:"",content:h.value,html:o.value,delay:e.delay,sanitize:a.value,offset:e.offset}))};return(0,s.wB)((()=>e.target),(e=>{var t;null==(t=c.value)||t.dispose(),u.value instanceof HTMLElement&&y(u.value),b(e)})),(0,s.wB)((()=>r.value),((e,t)=>{var n,r;e!==t&&(e?null==(n=c.value)||n.show():null==(r=c.value)||r.hide())})),(0,s.sV)((()=>{var t,n,i;(0,s.dY)((()=>{b(e.target)})),null==(n=null==(t=l.value)?void 0:t.parentNode)||n.removeChild(l.value),r.value&&(null==(i=c.value)||i.show())})),(0,s.xo)((()=>{var e;null==(e=c.value)||e.dispose(),u.value instanceof HTMLElement&&y(u.value)})),{element:l,titleRef:d,contentRef:h,computedClasses:f}}}),fg=["id"],pg={ref:"titleRef"},mg={ref:"contentRef"};function gg(e,t,n,r,i,a){return(0,s.uX)(),(0,s.CE)("div",{id:e.id,ref:"element",class:(0,o.C4)(["popover b-popover",e.computedClasses]),role:"tooltip",tabindex:"-1"},[(0,s.Lk)("div",pg,[(0,s.RG)(e.$slots,"title",{},(()=>[(0,s.eW)((0,o.v_)(e.title),1)]))],512),(0,s.Lk)("div",mg,[(0,s.RG)(e.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)(e.content),1)]))],512)],10,fg)}const vg=Hd(hg,[["render",gg]]),yg=["aria-valuenow","aria-valuemax"],bg=(0,s.pM)({__name:"BProgressBar",props:{animated:{default:!1},label:null,labelHtml:null,max:null,precision:{default:0},showProgress:{default:!1},showValue:{default:!1},striped:{default:!1},value:{default:0},variant:null},setup(e){const t=e,n=(0,s.WQ)(_g),r=Xc((0,i.lW)(t,"animated")),a=Xc((0,i.lW)(t,"showProgress")),l=Xc((0,i.lW)(t,"showValue")),u=Xc((0,i.lW)(t,"striped")),c=(0,s.EW)((()=>({"progress-bar-animated":r.value||(null==n?void 0:n.animated),"progress-bar-striped":u.value||(null==n?void 0:n.striped)||r.value||(null==n?void 0:n.animated),[`bg-${t.variant}`]:void 0!==t.variant}))),d=(0,s.EW)((()=>"number"==typeof t.precision?t.precision:Number.parseFloat(t.precision))),h=(0,s.EW)((()=>"number"==typeof t.value?t.value:Number.parseFloat(t.value))),f=(0,s.EW)((()=>"number"==typeof t.max?t.max:void 0===t.max?void 0:Number.parseFloat(t.max))),p=(0,s.EW)((()=>void 0!==t.labelHtml?t.labelHtml:l.value||(null==n?void 0:n.showValue)?h.value.toFixed(d.value):a.value||(null==n?void 0:n.showProgress)?(100*h.value/(f.value||100)).toFixed(d.value):void 0!==t.label?t.label:"")),m=(0,s.EW)((()=>null!=n&&n.max?100*h.value/("number"==typeof n.max?n.max:Number.parseInt(n.max))+"%":t.max?100*h.value/("number"==typeof t.max?t.max:Number.parseInt(t.max))+"%":"string"==typeof t.value?t.value:`${t.value}%`));return(t,n)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)(["progress-bar",(0,i.R1)(c)]),role:"progressbar","aria-valuenow":e.value,"aria-valuemin":"0","aria-valuemax":e.max,style:(0,o.Tr)({width:(0,i.R1)(m)})},[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.eW)((0,o.v_)((0,i.R1)(p)),1)]))],14,yg))}}),_g=Symbol(),wg=(0,s.pM)({__name:"BProgress",props:{variant:null,max:null,height:null,animated:{default:!1},precision:{default:0},showProgress:{default:!1},showValue:{default:!1},striped:{default:!1},value:{default:0}},setup(e){const t=e,n=Xc((0,i.lW)(t,"animated")),r=Xc((0,i.lW)(t,"showProgress")),a=Xc((0,i.lW)(t,"showValue")),l=Xc((0,i.lW)(t,"striped")),u=(0,s.EW)((()=>({animated:t.animated,max:t.max,precision:t.precision,showProgress:t.showProgress,showValue:t.showValue,striped:t.striped,value:t.value,variant:t.variant})));return(0,s.Gt)(_g,{animated:n.value,max:t.max,showProgress:r.value,showValue:a.value,striped:l.value}),(t,n)=>((0,s.uX)(),(0,s.CE)("div",{class:"progress",style:(0,o.Tr)({height:e.height})},[(0,s.RG)(t.$slots,"default",{},(()=>[(0,s.bF)(bg,(0,o._B)((0,s.Ng)((0,i.R1)(u))),null,16)]))],4))}}),Eg=Nc("cols",[""],{type:[String,Number],default:null}),Ig=(0,s.pM)({name:"BRow",props:{tag:{type:String,default:"div"},gutterX:{type:String,default:null},gutterY:{type:String,default:null},noGutters:{type:[Boolean,String],default:!1},alignV:{type:String,default:null},alignH:{type:String,default:null},alignContent:{type:String,default:null},...Eg},setup(e){const t=Xc((0,i.lW)(e,"noGutters")),n=xu((0,i.lW)(e,"alignH")),r=(0,s.EW)((()=>Dc(e,Eg,"cols","row-cols")));return{computedClasses:(0,s.EW)((()=>[r.value,{[`gx-${e.gutterX}`]:null!==e.gutterX,[`gy-${e.gutterY}`]:null!==e.gutterY,"g-0":t.value,[`align-items-${e.alignV}`]:null!==e.alignV,[n.value]:null!==e.alignH,[`align-content-${e.alignContent}`]:null!==e.alignContent}]))}}});function Tg(e,t,n,r,i,a){return(0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{class:(0,o.C4)(["row",e.computedClasses])},{default:(0,s.k6)((()=>[(0,s.RG)(e.$slots,"default")])),_:3},8,["class"])}const Cg=Hd(Ig,[["render",Tg]]),Sg=(0,s.pM)({__name:"BSkeleton",props:{height:null,width:null,size:null,animation:{default:"wave"},type:{default:"text"},variant:null},setup(e){const t=e,n=(0,s.EW)((()=>[`b-skeleton-${t.type}`,{[`b-skeleton-animate-${t.animation}`]:"boolean"!=typeof t.animation&&t.animation,[`bg-${t.variant}`]:void 0!==t.variant}])),r=(0,s.EW)((()=>({width:t.size||t.width,height:t.size||t.height})));return(e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)(["b-skeleton",(0,i.R1)(n)]),style:(0,o.Tr)((0,i.R1)(r))},null,6))}}),kg=(0,s.pM)({__name:"BSkeletonIcon",props:{animation:{default:"wave"}},setup(e){const t=e,n=(0,s.EW)((()=>[`b-skeleton-animate-${t.animation}`]));return(e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)(["b-skeleton-icon-wrapper position-relative d-inline-block overflow-hidden",(0,i.R1)(n)])},[(0,s.RG)(e.$slots,"default")],2))}}),Ag={key:0},xg={key:1},Rg=(0,s.pM)({__name:"BSkeletonTable",props:{animation:{default:"wave"},columns:{default:5},hideHeader:{default:!1},rows:{default:3},showFooter:{default:!1},tableProps:null},setup(e){const t=e,n=Xc((0,i.lW)(t,"hideHeader")),r=Xc((0,i.lW)(t,"showFooter"));return(t,a)=>((0,s.uX)(),(0,s.Wv)(ug,(0,o._B)((0,s.Ng)(e.tableProps)),{default:(0,s.k6)((()=>[(0,i.R1)(n)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("thead",Ag,[(0,s.Lk)("tr",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.columns,((e,t)=>((0,s.uX)(),(0,s.CE)("th",{key:t},[(0,s.bF)(Sg)])))),128))])])),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.rows,((t,n)=>((0,s.uX)(),(0,s.CE)("tr",{key:n},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.columns,((e,t)=>((0,s.uX)(),(0,s.CE)("td",{key:t},[(0,s.bF)(Sg,{width:"75%"})])))),128))])))),128))]),(0,i.R1)(r)?((0,s.uX)(),(0,s.CE)("tfoot",xg,[(0,s.Lk)("tr",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.columns,((e,t)=>((0,s.uX)(),(0,s.CE)("th",{key:t},[(0,s.bF)(Sg)])))),128))])])):(0,s.Q3)("",!0)])),_:1},16))}}),Og=(0,s.pM)({__name:"BSkeletonWrapper",props:{loading:{default:!1}},setup(e){const t=Xc((0,i.lW)(e,"loading"));return(e,n)=>(0,i.R1)(t)?(0,s.RG)(e.$slots,"loading",{key:0}):(0,s.RG)(e.$slots,"default",{key:1})}}),Ng=["ar","az","ckb","fa","he","ks","lrc","mzn","ps","sd","te","ug","ur","yi"].map((e=>e.toLowerCase())),Dg=e=>{const t=zu(e).toLowerCase().replace(Uu,"").split("-"),n=t.slice(0,2).join("-"),r=t[0];return Ng.includes(n)||Ng.includes(r)},Pg=e=>tc?Nu(e)?e:{capture:!!e||!1}:!!(Nu(e)?e.capture:e),Lg=(e,t,n,r)=>{e&&e.addEventListener&&e.addEventListener(t,n,Pg(r))},Mg=(e,t,n,r)=>{e&&e.removeEventListener&&e.removeEventListener(t,n,r)},Fg=(e,t)=>{(e?Lg:Mg)(...t)},Vg=(e,{preventDefault:t=!0,propagation:n=!0,immediatePropagation:r=!1}={})=>{t&&e.preventDefault(),n&&e.stopPropagation(),r&&e.stopImmediatePropagation()},Bg="ArrowDown",Wg="End",$g="Home",jg="PageDown",Ug="PageUp",zg="ArrowUp",qg=1,Gg=100,Kg=1,Hg=500,Xg=100,Qg=10,Yg=4,Jg=[zg,Bg,$g,Wg,Ug,jg],Zg=(0,s.pM)({props:{ariaControls:{type:String,required:!1},ariaLabel:{type:String,required:!1},labelIncrement:{type:String,default:"Increment"},labelDecrement:{type:String,default:"Decrement"},modelValue:{type:Number,default:null},name:{type:String,default:"BFormSpinbutton"},disabled:{type:[Boolean,String],default:!1},placeholder:{type:String,required:!1},locale:{type:String,default:"locale"},form:{type:String,required:!1},inline:{type:Boolean,default:!1},size:{type:String,required:!1},formatterFn:{type:Function},readonly:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},repeatDelay:{type:[String,Number],default:Hg},repeatInterval:{type:[String,Number],default:Xg},repeatStepMultiplier:{type:[String,Number],default:Yg},repeatThreshold:{type:[String,Number],default:Qg},required:{type:[Boolean,String],default:!1},step:{type:[String,Number],default:Kg},min:{type:[String,Number],default:qg},max:{type:[String,Number],default:Gg},wrap:{type:Boolean,default:!1},state:{type:[Boolean,String],default:null}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=(0,i.KR)(!1),r=(0,s.EW)((()=>1)),o=()=>{t("change",l.value)},a=(0,i.KR)(null),l=(0,s.EW)({get(){return Lu(e.modelValue)?a.value:e.modelValue},set(n){Lu(e.modelValue)?a.value=n:t("update:modelValue",n)}});let u,c,d=!1;const h=(0,s.EW)((()=>$c(e.step,Kg))),f=(0,s.EW)((()=>$c(e.min,qg))),p=(0,s.EW)((()=>{const t=$c(e.max,Gg),n=h.value,r=f.value;return Math.floor((t-r)/n)*n+r})),m=(0,s.EW)((()=>{const t=Bc(e.repeatDelay,0);return t>0?t:Hg})),g=(0,s.EW)((()=>{const t=Bc(e.repeatInterval,0);return t>0?t:Xg})),v=(0,s.EW)((()=>Math.max(Bc(e.repeatThreshold,Qg),1))),y=(0,s.EW)((()=>Math.max(Bc(e.repeatStepMultiplier,Yg),1))),b=(0,s.EW)((()=>{const e=h.value;return Math.floor(e)===e?0:(e.toString().split(".")[1]||"").length})),_=(0,s.EW)((()=>Math.pow(10,b.value||0))),w=(0,s.EW)((()=>{const{value:e}=l;return null===e?"":e.toFixed(b.value)})),E=(0,s.EW)((()=>{const t=[e.locale];return new Intl.NumberFormat(t).resolvedOptions().locale})),I=(0,s.EW)((()=>Dg(E.value))),T=()=>{const e=b.value;return new Intl.NumberFormat(E.value,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:e,maximumFractionDigits:e,notation:"standard"}).format},C=(0,s.EW)((()=>e.formatterFn?e.formatterFn:T())),S=(0,s.EW)((()=>({role:"group",lang:E.value,tabindex:e.disabled?null:"-1",title:e.ariaLabel}))),k=(0,s.EW)((()=>!Lu(e.modelValue)||!Lu(a.value))),A=(0,s.EW)((()=>({dir:I.value,spinId:r.value,tabindex:e.disabled?null:"0",role:"spinbutton","aria-live":"off","aria-label":e.ariaLabel||null,"aria-controls":e.ariaControls||null,"aria-invalid":!1===e.state||!k.value&&e.required?"true":null,"aria-required":e.required?"true":null,"aria-valuemin":f.value,"aria-valuemax":p.value,"aria-valuenow":Lu(l.value)?null:l.value,"aria-valuetext":Lu(l.value)?null:C.value(l.value)}))),x=t=>{let{value:n}=l;if(!e.disabled&&!Lu(n)){const r=h.value*t,i=f.value,s=p.value,o=_.value,{wrap:a}=e;n=Math.round((n-i)/r)*r+i+r,n=Math.round(n*o)/o,l.value=n>s?a?i:s:n<i?a?s:i:n}},R=(e=1)=>{Lu(l.value)?l.value=f.value:x(1*e)},O=(t=1)=>{Lu(l.value)?l.value=e.wrap?p.value:f.value:x(-1*t)},N=t=>{const{code:n,altKey:r,ctrlKey:i,metaKey:s}=t;if(!(e.disabled||e.readonly||r||i||s)&&Jg.includes(n)){if(Vg(t,{propagation:!1}),d)return;V(),[zg,Bg].includes(n)?(d=!0,n===zg?P(t,R):n===Bg&&P(t,O)):n===Ug?R(y.value):n===jg?O(y.value):n===$g?l.value=f.value:n===Wg&&(l.value=p.value)}},D=t=>{const{code:n,altKey:r,ctrlKey:i,metaKey:s}=t;e.disabled||e.readonly||r||i||s||Jg.includes(n)&&(Vg(t,{propagation:!1}),V(),d=!1,o())},P=(t,n)=>{const{type:r}=t||{};if(!e.disabled&&!e.readonly){if(L(t)&&"mousedown"===r&&t.button)return;V(),n(1);const e=v.value,i=y.value,s=m.value,o=g.value;u=setTimeout((()=>{let t=0;c=setInterval((()=>{n(t<e?1:i),t++}),o)}),s)}};function L(e){return"mouseup"===e.type||"mousedown"===e.type}const M=e=>{L(e)&&"mouseup"===e.type&&e.button||(Vg(e,{propagation:!1}),V(),F(!1),o())},F=e=>{try{Fg(e,[document.body,"mouseup",M,!1]),Fg(e,[document.body,"touchend",M,!1])}catch{return 0}},V=()=>{clearTimeout(u),clearInterval(c),u=void 0,c=void 0},B=(t,i,o,a,l,u,c)=>{const d=(0,s.h)(o,{props:{scale:n.value?1.5:1.25},attrs:{"aria-hidden":"true"}}),h={hasFocus:n.value},f=n=>{!e.disabled&&!e.readonly&&(Vg(n,{propagation:!1}),F(!0),P(n,t))};return(0,s.h)("button",{class:[{"py-0":!e.vertical},"btn","btn-sm","border-0","rounded-0"],tabindex:"-1",type:"button",disabled:e.disabled||e.readonly||u,"aria-disabled":e.disabled||e.readonly||u?"true":null,"aria-controls":r.value,"aria-label":i||null,"aria-keyshortcuts":l||null,onmousedown:f,ontouchstart:f},[Vc(c,h)||d])};return()=>{const t=B(R,e.labelIncrement,(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus",viewBox:"0 0 16 16"},(0,s.h)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})),"inc","ArrowUp",!1,"increment"),r=B(O,e.labelDecrement,(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},(0,s.h)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})),"dec","ArrowDown",!1,"decrement"),i=[];e.name&&!e.disabled&&i.push((0,s.h)("input",{type:"hidden",name:e.name,form:e.form||null,value:w.value,key:"hidden"}));const o=(0,s.h)("output",{class:[{"d-flex":e.vertical},{"align-self-center":!e.vertical},{"align-items-center":e.vertical},{"border-top":e.vertical},{"border-bottom":e.vertical},{"border-start":!e.vertical},{"border-end":!e.vertical},"flex-grow-1"],...A.value,key:"output"},[(0,s.h)("bdi",k.value?C.value(l.value):e.placeholder||"")]);return(0,s.h)("div",{class:["b-form-spinbutton form-control",{disabled:e.disabled},{readonly:e.readonly},{focus:n},{"d-inline-flex":e.inline||e.vertical},{"d-flex":!e.inline&&!e.vertical},{"align-items-stretch":!e.vertical},{"flex-column":e.vertical},e.size?`form-control-${e.size}`:null],...S.value,onkeydown:N,onkeyup:D},e.vertical?[t,i,o,r]:[r,i,o,t])}}}),ev=["TD","TH","TR"],tv=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(","),nv=e=>{if(!e||!e.target)return!1;const t=e.target;if("disabled"in t&&t.disabled||-1!==ev.indexOf(t.tagName))return!1;if(Oc(".dropdown-menu",t))return!0;const n="LABEL"===t.tagName?t:Oc("label",t);if(n){const e=Ic(n,"for"),t=e?Tc(e):wc("input, select, textarea",n);if(t&&!t.disabled)return!0}return xc(t,tv)},rv=()=>{const e=(e,t)=>{const n=[];return null!=e&&e.length||!(null==t?void 0:t.length)?(Array.isArray(e)&&e.forEach((e=>{"string"==typeof e?n.push({key:e,label:qu(e)}):Nu(e)&&e.key&&"string"==typeof e.key&&n.push({...e})})),n):(Object.keys(t[0]).forEach((e=>n.push({key:e,label:qu(e)}))),n)},t=(0,i.KR)([]),n=(e,n,r,i)=>(t.value=Uc(n),"isFilterableTable"in i&&!0===i.isFilterableTable.value&&r.filter&&(t.value=o(t.value,r.filter,r.filterable)),"isSortable"in i&&!0===i.isSortable.value&&(t.value=s(e,t.value,{key:r.sortBy,desc:i.sortDescBoolean.value},r.sortCompare)),t.value),r=(0,i.KR)(void 0),s=(e,t,n,r)=>{if(!n||!n.key)return t;const i=n.key;return t.sort(((e,t)=>{if(void 0!==r)return r(e,t,n.key,n.desc);const s=e=>"object"==typeof e?JSON.stringify(e):e;return s(e[i])>s(t[i])?n.desc?-1:1:s(t[i])>s(e[i])?n.desc?1:-1:0}))},o=(e,t,n)=>e.filter((e=>Object.entries(e).filter((e=>{const[r,i]=e;return!(!i||"_"===r[0]||n.length>0&&!n.includes(r))&&("object"==typeof i?JSON.stringify(Object.values(i)):"string"==typeof i?i:i.toString()).toLowerCase().includes(t.toLowerCase())})).length>0));return{normaliseFields:e,mapItems:n,internalItems:t,updateInternalItems:async e=>{try{return t.value=await zc(e),t.value}catch{return}},filterEvent:r,notifyFilteredItems:()=>{r.value&&r.value(t.value)},formatItem:(e,t)=>{const n=e[t.key];return t.formatter&&"function"==typeof t.formatter?t.formatter(n,t.key,e):e[t.key]}}},iv=["title","abbr","onClick"],sv={class:"d-inline-flex flex-nowrap align-items-center gap-1"},ov={key:1},av=["onClick","onDblclick","onMouseenter","onMouseleave"],lv={key:0,class:"b-table-stacked-label"},uv=["colspan"],cv=["colspan"],dv={class:"d-flex align-items-center justify-content-center gap-2"},hv=(0,s.Lk)("strong",null,"Loading...",-1),fv={key:1,class:"b-table-empty-slot"},pv=["colspan"],mv={key:0},gv=["title","abbr","onClick"],vv={key:1},yv={key:2},bv={key:3},_v=(0,s.pM)({__name:"BTable",props:{align:null,caption:null,captionTop:{default:!1},borderless:{default:!1},bordered:{default:!1},borderVariant:null,dark:{default:!1},fields:{default:()=>[]},footClone:{default:!1},hover:{default:!1},items:{default:()=>[]},provider:null,sortCompare:null,noProvider:null,noProviderPaging:null,noProviderSorting:null,noProviderFiltering:null,responsive:{type:[Boolean,String],default:!1},small:{default:!1},striped:{default:!1},stacked:{type:[Boolean,String],default:!1},labelStacked:{type:Boolean,default:!1},variant:null,sortBy:null,sortDesc:{default:!1},sortInternal:{default:!0},selectable:{default:!1},stickySelect:{default:!1},selectHead:{type:[Boolean,String],default:!0},selectMode:{default:"single"},selectionVariant:{default:"primary"},stickyHeader:{default:!1},busy:{default:!1},showEmpty:{default:!1},perPage:null,currentPage:{default:1},filter:null,filterable:null,emptyText:{default:"There are no records to show"},emptyFilteredText:{default:"There are no records matching your request"}},emits:["headClicked","rowClicked","rowDblClicked","rowHovered","rowUnhovered","rowSelected","rowUnselected","selection","update:busy","update:sortBy","update:sortDesc","sorted","filtered"],setup(e,{expose:t,emit:n}){const r=e,a=(0,s.Ht)(),l=rv(),u=Xc((0,i.lW)(r,"footClone")),c=Xc((0,i.lW)(r,"sortDesc")),d=Xc((0,i.lW)(r,"sortInternal")),h=Xc((0,i.lW)(r,"selectable")),f=Xc((0,i.lW)(r,"stickySelect")),p=Xc((0,i.lW)(r,"labelStacked")),m=Xc((0,i.lW)(r,"busy")),g=Xc((0,i.lW)(r,"showEmpty")),v=Xc((0,i.lW)(r,"noProviderPaging")),y=Xc((0,i.lW)(r,"noProviderSorting")),b=Xc((0,i.lW)(r,"noProviderFiltering")),_=(0,i.KR)(m.value);l.filterEvent.value=async e=>{if(A.value)return void await j();const t=await zc(e);n("filtered",t)};const w=(0,i.KR)(new Set([])),E=(0,s.EW)((()=>w.value.size>0)),I=(0,s.EW)((()=>({[`align-${r.align}`]:void 0!==r.align,"b-table-selectable":h.value,[`b-table-select-${r.selectMode}`]:h.value,"b-table-selecting user-select-none":h.value&&E.value,"b-table-busy":_.value,"b-table-sortable":R.value,"b-table-sort-desc":R.value&&!0===c.value,"b-table-sort-asc":R.value&&!1===c.value}))),T=(0,s.EW)((()=>({bordered:r.bordered,borderless:r.borderless,borderVariant:r.borderVariant,captionTop:r.captionTop,dark:r.dark,hover:r.hover,responsive:r.responsive,striped:r.striped,stacked:r.stacked,small:r.small,tableClass:I.value,tableVariant:r.variant,stickyHeader:r.stickyHeader}))),C=(0,s.EW)((()=>l.normaliseFields(r.fields,r.items))),S=(0,s.EW)((()=>C.value.length+(h.value?1:0))),k=(0,s.EW)((()=>void 0!==r.filter&&""!==r.filter)),A=(0,s.EW)((()=>void 0!==r.provider)),x=(0,s.EW)((()=>h.value&&(!!r.selectHead||void 0!==a.selectHead))),R=(0,s.EW)((()=>r.fields.filter((e=>"string"!=typeof e&&e.sortable)).length>0)),O=(0,s.EW)((()=>R.value&&!0===d.value)),N=(0,s.EW)((()=>{const e=A.value?l.internalItems.value:O.value?l.mapItems(r.fields,r.items,r,{isSortable:R,isFilterableTable:k,sortDescBoolean:c}):r.items;if(void 0!==r.perPage){const t=(r.currentPage-1)*r.perPage;return e.splice(t,r.perPage)}return e})),D=e=>"string"==typeof e?Gu(e):void 0!==e.label?e.label:"string"==typeof e.key?Gu(e.key):e.key,P=(e,t,r=!1)=>{const i="string"==typeof e?e:e.key;n("headClicked",i,e,t,r),B(e)},L=(e,t,r)=>{n("rowClicked",e,t,r),$(e,t,r.shiftKey)},M=(e,t,r)=>n("rowDblClicked",e,t,r),F=(e,t,r)=>n("rowHovered",e,t,r),V=(e,t,r)=>n("rowUnhovered",e,t,r),B=e=>{if(!R.value)return;const t="string"==typeof e?e:e.key,i="string"!=typeof e&&e.sortable;if(!0===R.value&&!0===i){const e=!c.value;t!==r.sortBy&&n("update:sortBy",t),n("update:sortDesc",e),n("sorted",t,e)}},W=()=>{!h.value||n("selection",Array.from(w.value))},$=(e,t,i=!1)=>{if(h.value){if(w.value.has(e))w.value.delete(e),n("rowUnselected",e);else if("single"===r.selectMode&&w.value.size>0&&(w.value.forEach((e=>n("rowUnselected",e))),w.value.clear()),"range"===r.selectMode&&w.value.size>0&&i){const e=Array.from(w.value).pop(),r=N.value.findIndex((t=>t===e)),i=Math.min(r,t),s=Math.max(r,t);N.value.slice(i,s+1).forEach((e=>{w.value.has(e)||(w.value.add(e),n("rowSelected",e))}))}else w.value.add(e),n("rowSelected",e);W()}},j=async()=>{if(!A.value||!r.provider||_.value)return;_.value=!0;const e=new Proxy({currentPage:r.currentPage,filter:r.filter,sortBy:r.sortBy,sortDesc:r.sortDesc,perPage:r.perPage},{get(e,t){return t in e?e[t]:void 0},set(){return console.error("BTable provider context is a read-only object."),!0}}),t=r.provider(e,l.updateInternalItems);if(void 0!==t){if(t instanceof Promise)try{const e=await t;return Array.isArray(e)?await l.updateInternalItems(e):void 0}finally{_.value&&(_.value=!1)}try{return await l.updateInternalItems(t)}finally{_.value&&(_.value=!1)}}},U=e=>{e._showDetails=!e._showDetails},z=e=>[e.class,e.thClass,e.variant?`table-${e.variant}`:void 0,{"b-table-sortable-column":R.value&&e.sortable,"b-table-sticky-column":e.stickyColumn}],q=(e,t)=>[e.class,e.tdClass,e.variant?`table-${e.variant}`:void 0,(null==t?void 0:t._cellVariants)&&(null==t?void 0:t._cellVariants[e.key])?`table-${null==t?void 0:t._cellVariants[e.key]}`:void 0,{"b-table-sticky-column":e.stickyColumn}],G=e=>[e._rowVariant?`table-${e._rowVariant}`:null,e._rowVariant?`table-${e._rowVariant}`:null,h.value&&w.value.has(e)?`selected table-${r.selectionVariant}`:null],K=()=>{if(!h.value)return;const e=w.value.size>0?Array.from(w.value):[];w.value=new Set([...N.value]),w.value.forEach((t=>{e.includes(t)||n("rowSelected",t)})),W()},H=()=>{!h.value||(w.value.forEach((e=>{n("rowUnselected",e)})),w.value=new Set([]),W())},X=e=>{if(!h.value)return;const t=N.value[e];!t||w.value.has(t)||(w.value.add(t),n("rowSelected",t),W())},Q=e=>{if(!h.value)return;const t=N.value[e];!t||!w.value.has(t)||(w.value.delete(t),n("rowUnselected",t),W())},Y=async(e,t,n)=>{if(t===n)return;const i=e=>r.noProvider&&r.noProvider.includes(e),s=!["currentPage","perPage"].includes(e),o=["currentPage","perPage"].includes(e)&&(i("paging")||!0===v.value),a=["filter"].includes(e)&&(i("filtering")||!0===b.value),u=["sortBy","sortDesc"].includes(e)&&(i("sorting")||!0===y.value);o||a||u||(await j(),s&&l.notifyFilteredItems())};return(0,s.wB)((()=>r.filter),((e,t)=>{e===t||A.value||e||zc(r.items).then((e=>n("filtered",e)))})),(0,s.wB)((()=>_.value),(()=>_.value!==m.value&&n("update:busy",_.value))),(0,s.wB)((()=>m.value),(()=>_.value!==m.value&&(_.value=m.value))),(0,s.wB)((()=>r.filter),((e,t)=>Y("filter",e,t))),(0,s.wB)((()=>r.currentPage),((e,t)=>Y("currentPage",e,t))),(0,s.wB)((()=>r.perPage),((e,t)=>Y("perPage",e,t))),(0,s.wB)((()=>r.sortBy),((e,t)=>Y("sortBy",e,t))),(0,s.wB)((()=>r.sortDesc),((e,t)=>Y("sortDesc",e,t))),(0,s.sV)((()=>{A.value&&j()})),t({selectAllRows:K,clearSelected:H,selectRow:X,unselectRow:Q}),(t,n)=>((0,s.uX)(),(0,s.Wv)(ug,(0,o._B)((0,s.Ng)((0,i.R1)(T))),{default:(0,s.k6)((()=>{var n;return[(0,s.Lk)("thead",null,[t.$slots["thead-top"]?(0,s.RG)(t.$slots,"thead-top",{key:0}):(0,s.Q3)("",!0),(0,s.Lk)("tr",null,[(0,i.R1)(x)?((0,s.uX)(),(0,s.CE)("th",{key:0,class:(0,o.C4)(["b-table-selection-column",{"b-table-sticky-column":(0,i.R1)(f)}])},[(0,s.RG)(t.$slots,"select-head",{},(()=>[(0,s.eW)((0,o.v_)("boolean"==typeof e.selectHead?"Selected":e.selectHead),1)]))],2)):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(C),(n=>((0,s.uX)(),(0,s.CE)("th",(0,s.v6)({key:n.key,scope:"col",class:z(n),title:n.headerTitle,abbr:n.headerAbbr,style:n.thStyle},n.thAttr,{onClick:e=>P(n,e)}),[(0,s.Lk)("div",sv,[(0,s.RG)(t.$slots,"sort-icon",{field:n,sortBy:e.sortBy,selected:n.key===e.sortBy,isDesc:(0,i.R1)(c),direction:(0,i.R1)(c)?"desc":"asc"},(()=>[(0,i.R1)(R)&&n.sortable?((0,s.uX)(),(0,s.CE)("span",{key:0,class:(0,o.C4)(["b-table-sort-icon",{sorted:n.key===e.sortBy,["sorted-"+((0,i.R1)(c)?"desc":"asc")]:n.key===e.sortBy}])},null,2)):(0,s.Q3)("",!0)])),(0,s.Lk)("div",null,[t.$slots["head("+n.key+")"]||t.$slots["head()"]?(0,s.RG)(t.$slots,t.$slots["head("+n.key+")"]?"head("+n.key+")":"head()",{key:0,label:n.label}):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)((0,o.v_)(D(n)),1)],64))])])],16,iv)))),128))]),t.$slots["thead-sub"]?((0,s.uX)(),(0,s.CE)("tr",ov,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(C),(e=>((0,s.uX)(),(0,s.CE)("td",{key:e.key,scope:"col",class:(0,o.C4)([e.class,e.thClass,e.variant?`table-${e.variant}`:""])},[t.$slots["thead-sub"]?(0,s.RG)(t.$slots,"thead-sub",(0,s.v6)({key:0,items:(0,i.R1)(C)},e)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)((0,o.v_)(e.label),1)],64))],2)))),128))])):(0,s.Q3)("",!0)]),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(N),((n,r)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:r},[(0,s.Lk)("tr",{class:(0,o.C4)(G(n)),onClick:e=>!(0,i.R1)(nv)(e)&&L(n,r,e),onDblclick:e=>!(0,i.R1)(nv)(e)&&M(n,r,e),onMouseenter:e=>!(0,i.R1)(nv)(e)&&F(n,r,e),onMouseleave:e=>!(0,i.R1)(nv)(e)&&V(n,r,e)},[(0,i.R1)(x)?((0,s.uX)(),(0,s.CE)("td",{key:0,class:(0,o.C4)(["b-table-selection-column",{"b-table-sticky-column":(0,i.R1)(f)}])},[(0,s.RG)(t.$slots,"select-cell",{},(()=>[(0,s.Lk)("span",{class:(0,o.C4)(w.value.has(n)?"text-primary":"")},"🗹",2)]))],2)):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(C),(a=>((0,s.uX)(),(0,s.CE)("td",(0,s.v6)({key:a.key},a.tdAttr,{class:q(a,n)}),[e.stacked&&(0,i.R1)(p)?((0,s.uX)(),(0,s.CE)("label",lv,(0,o.v_)(D(a)),1)):(0,s.Q3)("",!0),t.$slots["cell("+a.key+")"]||t.$slots["cell()"]?(0,s.RG)(t.$slots,t.$slots["cell("+a.key+")"]?"cell("+a.key+")":"cell()",{key:1,value:n[a.key],index:r,item:n,field:a,items:e.items,toggleDetails:()=>U(n),detailsShowing:n._showDetails}):((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[(0,s.eW)((0,o.v_)((0,i.R1)(l).formatItem(n,a)),1)],64))],16)))),128))],42,av),!0===n._showDetails&&t.$slots["row-details"]?((0,s.uX)(),(0,s.CE)("tr",{key:0,class:(0,o.C4)(G(n))},[(0,s.Lk)("td",{colspan:(0,i.R1)(S)},[(0,s.RG)(t.$slots,"row-details",{item:n,toggleDetails:()=>U(n)})],8,uv)],2)):(0,s.Q3)("",!0)],64)))),128)),_.value?((0,s.uX)(),(0,s.CE)("tr",{key:0,class:(0,o.C4)(["b-table-busy-slot",{"b-table-static-busy":0==(0,i.R1)(N).length}])},[(0,s.Lk)("td",{colspan:(0,i.R1)(S)},[(0,s.RG)(t.$slots,"table-busy",{},(()=>[(0,s.Lk)("div",dv,[(0,s.bF)(qd,{class:"align-middle"}),hv])]))],8,cv)],2)):(0,s.Q3)("",!0),(0,i.R1)(g)&&0===(0,i.R1)(N).length?((0,s.uX)(),(0,s.CE)("tr",fv,[(0,s.Lk)("td",{colspan:(0,i.R1)(S)},[(0,s.RG)(t.$slots,"empty",{items:(0,i.R1)(N),filtered:(0,i.R1)(k)},(()=>[(0,s.eW)((0,o.v_)((0,i.R1)(k)?e.emptyFilteredText:e.emptyText),1)]))],8,pv)])):(0,s.Q3)("",!0)]),(0,i.R1)(u)?((0,s.uX)(),(0,s.CE)("tfoot",mv,[(0,s.Lk)("tr",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(C),(e=>((0,s.uX)(),(0,s.CE)("th",(0,s.v6)({key:e.key},e.thAttr,{scope:"col",class:[e.class,e.thClass,e.variant?`table-${e.variant}`:""],title:e.headerTitle,abbr:e.headerAbbr,style:e.thStyle,onClick:t=>P(e,t,!0)}),(0,o.v_)(e.label),17,gv)))),128))])])):t.$slots["custom-foot"]?((0,s.uX)(),(0,s.CE)("tfoot",vv,[(0,s.RG)(t.$slots,"custom-foot",{fields:(0,i.R1)(C),items:e.items,columns:null==(n=(0,i.R1)(C))?void 0:n.length})])):(0,s.Q3)("",!0),t.$slots["table-caption"]?((0,s.uX)(),(0,s.CE)("caption",yv,[(0,s.RG)(t.$slots,"table-caption")])):e.caption?((0,s.uX)(),(0,s.CE)("caption",bv,(0,o.v_)(e.caption),1)):(0,s.Q3)("",!0)]})),_:3},16))}}),wv=(0,s.pM)({__name:"BTbody",props:{variant:null},setup(e){const t=e,n=(0,s.EW)((()=>({[`thead-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,s.uX)(),(0,s.CE)("tbody",{role:"rowgroup",class:(0,o.C4)((0,i.R1)(n))},[(0,s.RG)(e.$slots,"default")],2))}}),Ev=["scope","colspan","rowspan","data-label"],Iv={key:0},Tv=(0,s.pM)({__name:"BTd",props:{colspan:null,rowspan:null,stackedHeading:null,stickyColumn:{default:!1},variant:null},setup(e){const t=e,n=Xc((0,i.lW)(t,"stickyColumn")),r=(0,s.EW)((()=>({[`table-${t.variant}`]:void 0!==t.variant,"b-table-sticky-column":n.value,"table-b-table-default":n.value&&void 0===t.variant}))),a=(0,s.EW)((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col"));return(t,n)=>((0,s.uX)(),(0,s.CE)("td",{role:"cell",scope:(0,i.R1)(a),class:(0,o.C4)((0,i.R1)(r)),colspan:e.colspan,rowspan:e.rowspan,"data-label":e.stackedHeading},[e.stackedHeading?((0,s.uX)(),(0,s.CE)("div",Iv,[(0,s.RG)(t.$slots,"default")])):(0,s.RG)(t.$slots,"default",{key:1})],10,Ev))}}),Cv=(0,s.pM)({__name:"BTfoot",props:{variant:null},setup(e){const t=e,n=(0,s.EW)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,s.uX)(),(0,s.CE)("tfoot",{role:"rowgroup",class:(0,o.C4)((0,i.R1)(n))},[(0,s.RG)(e.$slots,"default")],2))}}),Sv=["scope","colspan","rowspan","data-label"],kv={key:0},Av=(0,s.pM)({__name:"BTh",props:{colspan:null,rowspan:null,stackedHeading:null,stickyColumn:{default:!1},variant:null},setup(e){const t=e,n=Xc((0,i.lW)(t,"stickyColumn")),r=(0,s.EW)((()=>({[`table-${t.variant}`]:void 0!==t.variant,"b-table-sticky-column":n.value,"table-b-table-default":n.value&&void 0===t.variant}))),a=(0,s.EW)((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col"));return(t,n)=>((0,s.uX)(),(0,s.CE)("th",{role:"columnheader",scope:(0,i.R1)(a),class:(0,o.C4)((0,i.R1)(r)),colspan:e.colspan,rowspan:e.rowspan,"data-label":e.stackedHeading},[void 0!==e.stackedHeading?((0,s.uX)(),(0,s.CE)("div",kv,[(0,s.RG)(t.$slots,"default")])):(0,s.RG)(t.$slots,"default",{key:1})],10,Sv))}}),xv=(0,s.pM)({__name:"BThead",props:{variant:null},setup(e){const t=e,n=(0,s.EW)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,s.uX)(),(0,s.CE)("thead",{role:"rowgroup",class:(0,o.C4)((0,i.R1)(n))},[(0,s.RG)(e.$slots,"default")],2))}}),Rv=(0,s.pM)({__name:"BTr",props:{variant:null},setup(e){const t=e,n=(0,s.EW)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,s.uX)(),(0,s.CE)("tr",{role:"row",class:(0,o.C4)((0,i.R1)(n))},[(0,s.RG)(e.$slots,"default")],2))}}),Ov=["id","data-bs-target","aria-controls","aria-selected","onClick"],Nv=Symbol(),Dv=(0,s.pM)({__name:"BTabs",props:{activeNavItemClass:null,activeTabClass:null,align:null,card:{default:!1},contentClass:null,end:{default:!1},fill:{default:!1},id:null,justified:{default:!1},lazy:{default:!1},navClass:null,navWrapperClass:null,noFade:{default:!1},noNavStyle:{default:!1},pills:{default:!1},small:{default:!1},tag:{default:"div"},vertical:{default:!1},modelValue:{default:-1}},emits:["update:modelValue","activate-tab","click"],setup(e,{emit:t}){const n=e,r=(0,s.Ht)(),l=Xc((0,i.lW)(n,"card")),u=Xc((0,i.lW)(n,"end")),c=Xc((0,i.lW)(n,"fill")),d=Xc((0,i.lW)(n,"justified")),h=Xc((0,i.lW)(n,"lazy")),f=Xc((0,i.lW)(n,"noFade")),p=Xc((0,i.lW)(n,"noNavStyle")),m=Xc((0,i.lW)(n,"pills")),g=Xc((0,i.lW)(n,"small")),v=Xc((0,i.lW)(n,"vertical")),y=(0,i.KR)(n.modelValue),b=(0,i.KR)(""),_=(0,s.EW)({get:()=>y.value,set:e=>{y.value=e,w.value.length>0&&e>=0&&e<w.value.length?b.value=w.value[e].buttonId:b.value="",t("update:modelValue",e)}}),w=(0,s.EW)((()=>{let e=[];return r.default&&(e=A(r).map(((e,t)=>{e.props||(e.props={});const i=e.props["button-id"]||Pc("tab"),s=e.props.id||Pc(),o=_.value>-1?t===_.value:""===e.props.active,a=e.props["title-item-class"],l=e.props["title-link-attributes"];return{buttonId:i,contentId:s,active:o,disabled:""===e.props.disabled||!0===e.props.disabled,navItemClasses:[{active:o,disabled:""===e.props.disabled||!0===e.props.disabled},o&&n.activeNavItemClass?n.activeNavItemClass:null,e.props["title-link-class"]],tabClasses:[{fade:!f.value},o&&n.activeTabClass?n.activeTabClass:null],target:`#${s}`,title:e.props.title,titleItemClass:a,titleLinkAttributes:l,onClick:e.props.onClick,tab:e,tabComponent:()=>A(r)[t]}}))),e})),E=(0,s.EW)((()=>!((null==w?void 0:w.value)&&w.value.length>0))),I=(0,s.EW)((()=>({"d-flex":v.value,"align-items-start":v.value}))),T=xu((0,i.lW)(n,"align")),C=(0,s.EW)((()=>({"nav-pills":m.value,"flex-column me-3":v.value,[T.value]:void 0!==n.align,"nav-fill":c.value,"card-header-tabs":l.value,"nav-justified":d.value,"nav-tabs":!p.value&&!m.value,small:g.value}))),S=e=>{let r=!1;if(void 0!==e&&e>-1&&e<w.value.length&&!w.value[e].disabled&&(_.value<0||w.value[e].buttonId!==b.value)){const n=new Ru("activate-tab",{cancelable:!0});t("activate-tab",e,_.value,n),n.defaultPrevented||(_.value=e,r=!0)}return!r&&n.modelValue!==_.value&&t("update:modelValue",_.value),r},k=(e,t)=>{var n;S(t),t>=0&&!w.value[t].disabled&&(null==(n=w.value[t])?void 0:n.onClick)&&"function"==typeof w.value[t].onClick&&w.value[t].onClick(e)},A=e=>e&&e.default?e.default().reduce(((e,t)=>("symbol"==typeof t.type?e=e.concat(t.children):e.push(t),e)),[]).filter((e=>{var t;return"BTab"===(null==(t=e.type)?void 0:t.__name)})):[];return S(y.value),(0,s.wB)((()=>n.modelValue),((e,t)=>{if(e===t)return;if(e=Math.max(e,-1),t=Math.max(t,-1),w.value.length<=0)return void(_.value=-1);const n=e>t;let r=e;const i=w.value.length-1;for(;r>=0&&r<=i&&w.value[r].disabled;)r+=n?1:-1;r<0?S(0):r>=w.value.length?S(w.value.length-1):S(r)})),(0,s.wB)((()=>w.value),(()=>{let e=w.value.map((e=>e.active&&!e.disabled)).lastIndexOf(!0);e<0&&(_.value>=w.value.length?e=w.value.map((e=>!e.disabled)).lastIndexOf(!0):w.value[_.value]&&!w.value[_.value].disabled&&(e=_.value)),e<0&&(e=w.value.map((e=>!e.disabled)).indexOf(!0)),w.value.forEach(((t,n)=>t.active=n===e)),S(e)})),(0,s.sV)((()=>{if(_.value<0&&w.value.length>0&&!w.value.some((e=>e.active))){const e=w.value.map((e=>!e.disabled)).indexOf(!0);S(e>=0?e:-1)}})),(0,s.Gt)(Nv,{lazy:h.value,card:l.value}),(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{id:e.id,class:(0,o.C4)(["tabs",(0,i.R1)(I)])},{default:(0,s.k6)((()=>[(0,i.R1)(u)?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,o.C4)(["tab-content",e.contentClass])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(w),(({tabComponent:e,contentId:t,tabClasses:n,active:r},i)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e()),{id:t,key:i,class:(0,o.C4)(n),active:r},null,8,["id","class","active"])))),128)),(0,i.R1)(E)?((0,s.uX)(),(0,s.CE)("div",{key:"bv-empty-tab",class:(0,o.C4)(["tab-pane active",{"card-body":(0,i.R1)(l)}])},[(0,s.RG)(t.$slots,"empty")],2)):(0,s.Q3)("",!0)],2)):(0,s.Q3)("",!0),(0,s.Lk)("div",{class:(0,o.C4)([e.navWrapperClass,{"card-header":(0,i.R1)(l),"ms-auto":e.vertical&&(0,i.R1)(u)}])},[(0,s.Lk)("ul",{class:(0,o.C4)(["nav",[(0,i.R1)(C),e.navClass]]),role:"tablist"},[(0,s.RG)(t.$slots,"tabs-start"),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(w),(({tab:e,buttonId:t,contentId:n,navItemClasses:r,active:i,target:l},u)=>((0,s.uX)(),(0,s.CE)("li",{key:u,class:(0,o.C4)(["nav-item",e.props["title-item-class"]])},[(0,s.Lk)("button",(0,s.v6)({id:t,class:["nav-link",r],"data-bs-toggle":"tab","data-bs-target":l,role:"tab","aria-controls":n,"aria-selected":i},e.props["title-link-attributes"],{onClick:(0,a.D$)((e=>k(e,u)),["stop","prevent"])}),[e.children&&e.children.title?((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.children.title),{key:0})):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)((0,o.v_)(e.props.title),1)],64))],16,Ov)],2)))),128)),(0,s.RG)(t.$slots,"tabs-end")],2)],2),(0,i.R1)(u)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,o.C4)(["tab-content",e.contentClass])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,i.R1)(w),(({tabComponent:e,contentId:t,tabClasses:n,active:r},i)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e()),{id:t,key:i,class:(0,o.C4)(n),active:r},null,8,["id","class","active"])))),128)),(0,i.R1)(E)?((0,s.uX)(),(0,s.CE)("div",{key:"bv-empty-tab",class:(0,o.C4)(["tab-pane active",{"card-body":(0,i.R1)(l)}])},[(0,s.RG)(t.$slots,"empty")],2)):(0,s.Q3)("",!0)],2))])),_:3},8,["id","class"]))}}),Pv=(0,s.pM)({__name:"BTab",props:{id:null,title:null,active:{default:!1},buttonId:{default:void 0},disabled:{default:!1},lazy:{default:void 0},lazyOnce:{default:void 0},noBody:{type:[Boolean,String],default:!1},tag:{default:"div"},titleItemClass:null,titleLinkAttributes:{default:void 0},titleLinkClass:null},setup(e){const t=e,n=(0,s.WQ)(Nv,null),r=Xc((0,i.lW)(t,"active")),a=Xc((0,i.lW)(t,"disabled")),l=Xc((0,i.lW)(t,void 0!==t.lazyOnce?"lazyOnce":"lazy")),u=(0,i.KR)(!1),c=(0,s.EW)((()=>!(!(null==n?void 0:n.lazy)&&!l.value))),d=(0,s.EW)((()=>void 0!==t.lazyOnce)),h=(0,s.EW)((()=>r.value&&!a.value)),f=(0,s.EW)((()=>{const e=c.value&&d.value&&u.value;return h.value||!c.value||e})),p=(0,s.EW)((()=>({active:r.value,show:r.value,"card-body":(null==n?void 0:n.card)&&!1===t.noBody})));return(0,s.wB)((()=>f.value),(e=>{e&&!u.value&&(u.value=!0)})),(t,n)=>((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.tag),{id:e.id,class:(0,o.C4)(["tab-pane",(0,i.R1)(p)]),role:"tabpanel","aria-labelledby":"profile-tab"},{default:(0,s.k6)((()=>[(0,i.R1)(f)?(0,s.RG)(t.$slots,"default",{key:0}):(0,s.Q3)("",!0)])),_:3},8,["id","class"]))}}),Lv=Object.freeze(Object.defineProperty({__proto__:null,BAccordion:yd,BAccordionItem:Wd,BAlert:th,BAvatar:lh,BAvatarGroup:rh,BBadge:hh,BBreadcrumb:bh,BBreadcrumbItem:gh,BButton:Zd,BButtonGroup:_h,BButtonToolbar:Eh,BCloseButton:Ud,BCard:Nh,BCardBody:Rh,BCardFooter:Oh,BCardGroup:Dh,BCardHeader:kh,BCardImg:Th,BCardSubtitle:xh,BCardText:Ph,BCardTitle:Ah,BCarousel:Gh,BCarouselSlide:Jh,BCol:sf,BCollapse:bd,BContainer:bf,BDropdown:Ef,BDropdownDivider:Tf,BDropdownForm:xf,BDropdownGroup:Df,BDropdownHeader:Ff,BDropdownItem:Bf,BDropdownItemButton:jf,BDropdownText:qf,BForm:Kf,BFormFloatingLabel:Qf,BFormInvalidFeedback:Yf,BFormRow:Jf,BFormText:Zf,BFormValidFeedback:ep,BFormCheckbox:ip,BFormCheckboxGroup:lp,BFormGroup:vp,BFormInput:Ep,BFormRadio:Cp,BFormRadioGroup:xp,BFormSelect:Lp,BFormSelectOption:Op,BFormSelectOptionGroup:Dp,BFormTag:Fp,BFormTags:Yp,BFormTextarea:tm,BImg:Ih,BInputGroup:lm,BInputGroupAddon:cm,BInputGroupAppend:dm,BInputGroupPrepend:hm,BInputGroupText:um,BLink:Qd,BListGroup:pm,BListGroupItem:mm,BModal:_m,BNav:wm,BNavForm:Em,BNavItem:Sm,BNavItemDropdown:Am,BNavText:Rm,BNavbar:Om,BNavbarBrand:Lm,BNavbarNav:Mm,BNavbarToggle:Vm,BOffcanvas:zm,BOverlay:qm,BPagination:sg,BPlaceholder:og,BPlaceholderButton:ag,BPlaceholderCard:lg,BPlaceholderTable:cg,BPlaceholderWrapper:dg,BPopover:vg,BProgress:wg,BProgressBar:bg,BRow:Cg,BSkeleton:Sg,BSkeletonIcon:kg,BSkeletonTable:Rg,BSkeletonWrapper:Og,BSpinner:qd,BFormSpinButton:Zg,BTable:_v,BTableSimple:ug,BTbody:wv,BTd:Tv,BTfoot:Cv,BTh:Av,BThead:xv,BTr:Rv,BTab:Pv,BTabs:Dv,BToastContainer:yf,BTransition:$d,BToast:vf,BToaster:yf,BToastPlugin:pf},Symbol.toStringTag,{value:"Module"})),Mv=Object.freeze(Object.defineProperty({__proto__:null,vBColorMode:wd,vBPopover:Ed,vBToggle:Cd,vBTooltip:Rd,vBVisible:Ld},Symbol.toStringTag,{value:"Module"})),Fv=(Symbol.toStringTag,Symbol.toStringTag,Symbol.toStringTag,{install(e,t={}){Object.entries(Lv).forEach((([t,n])=>{e.component(t,n)})),Object.entries(Mv).forEach((([t,n])=>{e.directive(t,n)})),Jc(e)}})},1241:function(e,t){t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},4249:function(e,t,n){n.d(t,{y$:function(){return z}});n(4114);var r=n(6768),i=n(144),s=n(179),o="store";function a(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function l(e){return null!==e&&"object"===typeof e}function u(e){return e&&"function"===typeof e.then}function c(e,t){return function(){return e(t)}}function d(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function h(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;p(e,n,[],e._modules.root,!0),f(e,n,t)}function f(e,t,n){var s=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var l=e._wrappedGetters,u={},d={},h=(0,i.uY)(!0);h.run((function(){a(l,(function(t,n){u[n]=c(t,e),d[n]=(0,r.EW)((function(){return u[n]()})),Object.defineProperty(e.getters,n,{get:function(){return d[n].value},enumerable:!0})}))})),e._state=(0,i.Kh)({data:t}),e._scope=h,e.strict&&_(e),s&&n&&e._withCommit((function(){s.data=null})),o&&o.stop()}function p(e,t,n,r,i){var s=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!s&&!i){var a=w(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){a[l]=r.state}))}var u=r.context=m(e,o,n);r.forEachMutation((function(t,n){var r=o+n;v(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:o+n,i=t.handler||t;y(e,r,i,u)})),r.forEachGetter((function(t,n){var r=o+n;b(e,r,t,u)})),r.forEachChild((function(r,s){p(e,t,n.concat(s),r,i)}))}function m(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var s=E(n,r,i),o=s.payload,a=s.options,l=s.type;return a&&a.root||(l=t+l),e.dispatch(l,o)},commit:r?e.commit:function(n,r,i){var s=E(n,r,i),o=s.payload,a=s.options,l=s.type;a&&a.root||(l=t+l),e.commit(l,o,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return g(e,t)}},state:{get:function(){return w(e.state,n)}}}),i}function g(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function v(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function y(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return u(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function b(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function _(e){(0,r.wB)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function w(e,t){return t.reduce((function(e,t){return e[t]}),e)}function E(e,t,n){return l(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var I="vuex bindings",T="vuex:mutations",C="vuex:actions",S="vuex",k=0;function A(e,t){(0,s.$q)({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[I]},(function(n){n.addTimelineLayer({id:T,label:"Vuex Mutations",color:x}),n.addTimelineLayer({id:C,label:"Vuex Actions",color:x}),n.addInspector({id:S,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===S)if(n.filter){var r=[];L(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[P(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===S){var r=n.nodeId;g(t,r),n.state=M(V(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===S){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(S),n.sendInspectorState(S),n.addTimelineEvent({layerId:T,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=k++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:C,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:C,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var x=8702998,R=6710886,O=16777215,N={label:"namespaced",textColor:O,backgroundColor:R};function D(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function P(e,t){return{id:t||"root",label:D(t),tags:e.namespaced?[N]:[],children:Object.keys(e._children).map((function(n){return P(e._children[n],t+n+"/")}))}}function L(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[N]:[]}),Object.keys(t._children).forEach((function(i){L(e,t._children[i],n,r+i+"/")}))}function M(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var s=F(t);i.getters=Object.keys(s).map((function(e){return{key:e.endsWith("/")?D(e):e,editable:!1,value:B((function(){return s[e]}))}}))}return i}function F(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,s=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[s]=B((function(){return e[n]}))}else t[n]=B((function(){return e[n]}))})),t}function V(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var s=e[r];if(!s)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?s:s._children}),"root"===t?e:e.root._children)}function B(e){try{return e()}catch(t){return t}}var W=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},$={namespaced:{configurable:!0}};$.namespaced.get=function(){return!!this._rawModule.namespaced},W.prototype.addChild=function(e,t){this._children[e]=t},W.prototype.removeChild=function(e){delete this._children[e]},W.prototype.getChild=function(e){return this._children[e]},W.prototype.hasChild=function(e){return e in this._children},W.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},W.prototype.forEachChild=function(e){a(this._children,e)},W.prototype.forEachGetter=function(e){this._rawModule.getters&&a(this._rawModule.getters,e)},W.prototype.forEachAction=function(e){this._rawModule.actions&&a(this._rawModule.actions,e)},W.prototype.forEachMutation=function(e){this._rawModule.mutations&&a(this._rawModule.mutations,e)},Object.defineProperties(W.prototype,$);var j=function(e){this.register([],e,!1)};function U(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;U(e.concat(r),t.getChild(r),n.modules[r])}}j.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},j.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},j.prototype.update=function(e){U([],this.root,e)},j.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new W(t,n);if(0===e.length)this.root=i;else{var s=this.get(e.slice(0,-1));s.addChild(e[e.length-1],i)}t.modules&&a(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},j.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},j.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function z(e){return new q(e)}var q=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new j(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var s=this,o=this,a=o.dispatch,l=o.commit;this.dispatch=function(e,t){return a.call(s,e,t)},this.commit=function(e,t,n){return l.call(s,e,t,n)},this.strict=r;var u=this._modules.root.state;p(this,u,[],this._modules.root),f(this,u),n.forEach((function(e){return e(t)}))},G={state:{configurable:!0}};q.prototype.install=function(e,t){e.provide(t||o,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&A(e,this)},G.state.get=function(){return this._state.data},G.state.set=function(e){0},q.prototype.commit=function(e,t,n){var r=this,i=E(e,t,n),s=i.type,o=i.payload,a=(i.options,{type:s,payload:o}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(e){e(o)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},q.prototype.dispatch=function(e,t){var n=this,r=E(e,t),i=r.type,s=r.payload,o={type:i,payload:s},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(o,n.state)}))}catch(u){0}var l=a.length>1?Promise.all(a.map((function(e){return e(s)}))):a[0](s);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(o,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(o,n.state,e)}))}catch(u){0}t(e)}))}))}},q.prototype.subscribe=function(e,t){return d(e,this._subscribers,t)},q.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return d(n,this._actionSubscribers,t)},q.prototype.watch=function(e,t,n){var i=this;return(0,r.wB)((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},q.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},q.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),p(this,this.state,e,this._modules.get(e),n.preserveState),f(this,this.state)},q.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=w(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),h(this)},q.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},q.prototype.hotUpdate=function(e){this._modules.update(e),h(this,!0)},q.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(q.prototype,G);X((function(e,t){var n={};return K(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=Q(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),X((function(e,t){var n={};return K(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var s=Q(this.$store,"mapMutations",e);if(!s)return;r=s.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),X((function(e,t){var n={};return K(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||Q(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),X((function(e,t){var n={};return K(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var s=Q(this.$store,"mapActions",e);if(!s)return;r=s.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function K(e){return H(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function H(e){return Array.isArray(e)||l(e)}function X(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function Q(e,t,n){var r=e._modulesNamespaceMap[n];return r}},9306:function(e,t,n){var r=n(4901),i=n(6823),s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(i(e)+" is not a function")}},3506:function(e,t,n){var r=n(3925),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw new s("Can't set "+i(e)+" as a prototype")}},679:function(e,t,n){var r=n(1625),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},8551:function(e,t,n){var r=n(34),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw new s(i(e)+" is not an object")}},7811:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(e,t,n){var r=n(6706),i=n(4576),s=TypeError;e.exports=r(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==i(e))throw new s("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,n){var r=n(9504),i=n(7394),s=r(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==i(e))return!1;try{return s(e,0,0),!1}catch(t){return!0}}},5636:function(e,t,n){var r=n(4475),i=n(9504),s=n(6706),o=n(7696),a=n(3238),l=n(7394),u=n(4483),c=n(1548),d=r.structuredClone,h=r.ArrayBuffer,f=r.DataView,p=r.TypeError,m=Math.min,g=h.prototype,v=f.prototype,y=i(g.slice),b=s(g,"resizable","get"),_=s(g,"maxByteLength","get"),w=i(v.getInt8),E=i(v.setInt8);e.exports=(c||u)&&function(e,t,n){var r,i=l(e),s=void 0===t?i:o(t),g=!b||!b(e);if(a(e))throw new p("ArrayBuffer is detached");if(c&&(e=d(e,{transfer:[e]}),i===s&&(n||g)))return e;if(i>=s&&(!n||g))r=y(e,0,s);else{var v=n&&!g&&_?{maxByteLength:_(e)}:void 0;r=new h(s,v);for(var I=new f(e),T=new f(r),C=m(s,i),S=0;S<C;S++)E(T,S,w(I,S))}return c||u(e),r}},4644:function(e,t,n){var r,i,s,o=n(7811),a=n(3724),l=n(4475),u=n(4901),c=n(34),d=n(9297),h=n(6955),f=n(6823),p=n(6699),m=n(6840),g=n(2106),v=n(1625),y=n(2787),b=n(2967),_=n(8227),w=n(3392),E=n(1181),I=E.enforce,T=E.get,C=l.Int8Array,S=C&&C.prototype,k=l.Uint8ClampedArray,A=k&&k.prototype,x=C&&y(C),R=S&&y(S),O=Object.prototype,N=l.TypeError,D=_("toStringTag"),P=w("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",M=o&&!!b&&"Opera"!==h(l.opera),F=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},W=function(e){if(!c(e))return!1;var t=h(e);return"DataView"===t||d(V,t)||d(B,t)},$=function(e){var t=y(e);if(c(t)){var n=T(t);return n&&d(n,L)?n[L]:$(t)}},j=function(e){if(!c(e))return!1;var t=h(e);return d(V,t)||d(B,t)},U=function(e){if(j(e))return e;throw new N("Target is not a typed array")},z=function(e){if(u(e)&&(!b||v(x,e)))return e;throw new N(f(e)+" is not a typed array constructor")},q=function(e,t,n,r){if(a){if(n)for(var i in V){var s=l[i];if(s&&d(s.prototype,e))try{delete s.prototype[e]}catch(o){try{s.prototype[e]=t}catch(u){}}}R[e]&&!n||m(R,e,n?t:M&&S[e]||t,r)}},G=function(e,t,n){var r,i;if(a){if(b){if(n)for(r in V)if(i=l[r],i&&d(i,e))try{delete i[e]}catch(s){}if(x[e]&&!n)return;try{return m(x,e,n?t:M&&x[e]||t)}catch(s){}}for(r in V)i=l[r],!i||i[e]&&!n||m(i,e,t)}};for(r in V)i=l[r],s=i&&i.prototype,s?I(s)[L]=i:M=!1;for(r in B)i=l[r],s=i&&i.prototype,s&&(I(s)[L]=i);if((!M||!u(x)||x===Function.prototype)&&(x=function(){throw new N("Incorrect invocation")},M))for(r in V)l[r]&&b(l[r],x);if((!M||!R||R===O)&&(R=x.prototype,M))for(r in V)l[r]&&b(l[r].prototype,R);if(M&&y(A)!==R&&b(A,R),a&&!d(R,D))for(r in F=!0,g(R,D,{configurable:!0,get:function(){return c(this)?this[P]:void 0}}),V)l[r]&&p(l[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:F&&P,aTypedArray:U,aTypedArrayConstructor:z,exportTypedArrayMethod:q,exportTypedArrayStaticMethod:G,getTypedArrayConstructor:$,isView:W,isTypedArray:j,TypedArray:x,TypedArrayPrototype:R}},5370:function(e,t,n){var r=n(6198);e.exports=function(e,t,n){var i=0,s=arguments.length>2?n:r(t),o=new e(s);while(s>i)o[i]=t[i++];return o}},9617:function(e,t,n){var r=n(5397),i=n(5610),s=n(6198),o=function(e){return function(t,n,o){var a=r(t),l=s(a);if(0===l)return!e&&-1;var u,c=i(o,l);if(e&&n!==n){while(l>c)if(u=a[c++],u!==u)return!0}else for(;l>c;c++)if((e||c in a)&&a[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},4527:function(e,t,n){var r=n(3724),i=n(4376),s=TypeError,o=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!o(e,"length").writable)throw new s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7628:function(e,t,n){var r=n(6198);e.exports=function(e,t){for(var n=r(e),i=new t(n),s=0;s<n;s++)i[s]=e[n-s-1];return i}},9928:function(e,t,n){var r=n(6198),i=n(1291),s=RangeError;e.exports=function(e,t,n,o){var a=r(e),l=i(n),u=l<0?a+l:l;if(u>=a||u<0)throw new s("Incorrect index");for(var c=new t(a),d=0;d<a;d++)c[d]=d===u?o:e[d];return c}},4576:function(e,t,n){var r=n(9504),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},6955:function(e,t,n){var r=n(2140),i=n(4901),s=n(4576),o=n(8227),a=o("toStringTag"),l=Object,u="Arguments"===s(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=l(e),a))?n:u?s(t):"Object"===(r=s(t))&&i(t.callee)?"Arguments":r}},7740:function(e,t,n){var r=n(9297),i=n(5031),s=n(7347),o=n(4913);e.exports=function(e,t,n){for(var a=i(t),l=o.f,u=s.f,c=0;c<a.length;c++){var d=a[c];r(e,d)||n&&r(n,d)||l(e,d,u(t,d))}}},2211:function(e,t,n){var r=n(9039);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6699:function(e,t,n){var r=n(3724),i=n(4913),s=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2106:function(e,t,n){var r=n(283),i=n(4913);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},6840:function(e,t,n){var r=n(4901),i=n(4913),s=n(283),o=n(9433);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&s(n,u,a),a.global)l?e[t]=n:o(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},9433:function(e,t,n){var r=n(4475),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},3724:function(e,t,n){var r=n(9039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(e,t,n){var r,i,s,o,a=n(4475),l=n(9714),u=n(1548),c=a.structuredClone,d=a.ArrayBuffer,h=a.MessageChannel,f=!1;if(u)f=function(e){c(e,{transfer:[e]})};else if(d)try{h||(r=l("worker_threads"),r&&(h=r.MessageChannel)),h&&(i=new h,s=new d(2),o=function(e){i.port1.postMessage(null,[e])},2===s.byteLength&&(o(s),0===s.byteLength&&(f=o)))}catch(p){}e.exports=f},4055:function(e,t,n){var r=n(4475),i=n(34),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},6837:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},5002:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7290:function(e,t,n){var r=n(516),i=n(9088);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},516:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},9088:function(e,t,n){var r=n(4475),i=n(4576);e.exports="process"===i(r.process)},9392:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(e,t,n){var r,i,s=n(4475),o=n(9392),a=s.process,l=s.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(r=c.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:function(e,t,n){var r=n(9504),i=Error,s=r("".replace),o=function(e){return String(new i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=s(e,a,"");return e}},6518:function(e,t,n){var r=n(4475),i=n(7347).f,s=n(6699),o=n(6840),a=n(9433),l=n(7740),u=n(2796);e.exports=function(e,t){var n,c,d,h,f,p,m=e.target,g=e.global,v=e.stat;if(c=g?r:v?r[m]||a(m,{}):r[m]&&r[m].prototype,c)for(d in t){if(f=t[d],e.dontCallGetSet?(p=i(c,d),h=p&&p.value):h=c[d],n=u(g?d:m+(v?".":"#")+d,e.forced),!n&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(e.sham||h&&h.sham)&&s(f,"sham",!0),o(c,d,f,e)}}},9039:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},616:function(e,t,n){var r=n(9039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,n){var r=n(616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(e,t,n){var r=n(3724),i=n(9297),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&"something"===function(){}.name,u=a&&(!r||r&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},6706:function(e,t,n){var r=n(9504),i=n(9306);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(s){}}},9504:function(e,t,n){var r=n(616),i=Function.prototype,s=i.call,o=r&&i.bind.bind(s,s);e.exports=r?o:function(e){return function(){return s.apply(e,arguments)}}},7751:function(e,t,n){var r=n(4475),i=n(4901),s=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e]):r[e]&&r[e][t]}},5966:function(e,t,n){var r=n(9306),i=n(4117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},4475:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){var r=n(9504),i=n(8981),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},421:function(e){e.exports={}},5917:function(e,t,n){var r=n(3724),i=n(9039),s=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,n){var r=n(9504),i=n(9039),s=n(4576),o=Object,a=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===s(e)?a(e,""):o(e)}:o},3167:function(e,t,n){var r=n(4901),i=n(34),s=n(2967);e.exports=function(e,t,n){var o,a;return s&&r(o=t.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&s(e,a),e}},3706:function(e,t,n){var r=n(9504),i=n(4901),s=n(7629),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},1181:function(e,t,n){var r,i,s,o=n(8622),a=n(4475),l=n(34),u=n(6699),c=n(9297),d=n(7629),h=n(6119),f=n(421),p="Object already initialized",m=a.TypeError,g=a.WeakMap,v=function(e){return s(e)?i(e):r(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}};if(o||d.state){var b=d.state||(d.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(e,t){if(b.has(e))throw new m(p);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},s=function(e){return b.has(e)}}else{var _=h("state");f[_]=!0,r=function(e,t){if(c(e,_))throw new m(p);return t.facade=e,u(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},s=function(e){return c(e,_)}}e.exports={set:r,get:i,has:s,enforce:v,getterFor:y}},4376:function(e,t,n){var r=n(4576);e.exports=Array.isArray||function(e){return"Array"===r(e)}},1108:function(e,t,n){var r=n(6955);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},4901:function(e){var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,n){var r=n(9039),i=n(4901),s=/#|\.prototype\./,o=function(e,t){var n=l[a(e)];return n===c||n!==u&&(i(t)?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},4117:function(e){e.exports=function(e){return null===e||void 0===e}},34:function(e,t,n){var r=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},3925:function(e,t,n){var r=n(34);e.exports=function(e){return r(e)||null===e}},6395:function(e){e.exports=!1},757:function(e,t,n){var r=n(7751),i=n(4901),s=n(1625),o=n(7040),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&s(t.prototype,a(e))}},6198:function(e,t,n){var r=n(8014);e.exports=function(e){return r(e.length)}},283:function(e,t,n){var r=n(9504),i=n(9039),s=n(4901),o=n(9297),a=n(3724),l=n(350).CONFIGURABLE,u=n(3706),c=n(1181),d=c.enforce,h=c.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&o(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=d(e);return o(r,"source")||(r.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return s(this)&&h(this).source||u(this)}),"toString")},741:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},2603:function(e,t,n){var r=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},4913:function(e,t,n){var r=n(3724),i=n(5917),s=n(8686),o=n(8551),a=n(6969),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=r?s?function(e,t,n){if(o(e),t=a(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=c(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(o(e),t=a(t),o(n),i)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){var r=n(3724),i=n(9565),s=n(8773),o=n(6980),a=n(5397),l=n(6969),u=n(9297),c=n(5917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=l(t),c)try{return d(e,t)}catch(n){}if(u(e,t))return o(!i(s.f,e,t),e[t])}},8480:function(e,t,n){var r=n(1828),i=n(8727),s=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},3717:function(e,t){t.f=Object.getOwnPropertySymbols},2787:function(e,t,n){var r=n(9297),i=n(4901),s=n(8981),o=n(6119),a=n(2211),l=o("IE_PROTO"),u=Object,c=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=s(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},1625:function(e,t,n){var r=n(9504);e.exports=r({}.isPrototypeOf)},1828:function(e,t,n){var r=n(9504),i=n(9297),s=n(5397),o=n(9617).indexOf,a=n(421),l=r([].push);e.exports=function(e,t){var n,r=s(e),u=0,c=[];for(n in r)!i(a,n)&&i(r,n)&&l(c,n);while(t.length>u)i(r,n=t[u++])&&(~o(c,n)||l(c,n));return c}},8773:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},2967:function(e,t,n){var r=n(6706),i=n(8551),s=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},4270:function(e,t,n){var r=n(9565),i=n(4901),s=n(34),o=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!s(a=r(n,e)))return a;if(i(n=e.valueOf)&&!s(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!s(a=r(n,e)))return a;throw new o("Can't convert object to primitive value")}},5031:function(e,t,n){var r=n(7751),i=n(9504),s=n(8480),o=n(3717),a=n(8551),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=o.f;return n?l(t,n(e)):t}},7750:function(e,t,n){var r=n(4117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},6119:function(e,t,n){var r=n(5745),i=n(3392),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},7629:function(e,t,n){var r=n(6395),i=n(4475),s=n(9433),o="__core-js_shared__",a=e.exports=i[o]||s(o,{});(a.versions||(a.versions=[])).push({version:"3.36.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){var r=n(7629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},1548:function(e,t,n){var r=n(4475),i=n(9039),s=n(7388),o=n(7290),a=n(516),l=n(9088),u=r.structuredClone;e.exports=!!u&&!i((function(){if(a&&s>92||l&&s>94||o&&s>97)return!1;var e=new ArrayBuffer(8),t=u(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:function(e,t,n){var r=n(7388),i=n(9039),s=n(4475),o=s.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:function(e,t,n){var r=n(1291),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},5854:function(e,t,n){var r=n(2777),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},7696:function(e,t,n){var r=n(1291),i=n(8014),s=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new s("Wrong length or index");return n}},5397:function(e,t,n){var r=n(7055),i=n(7750);e.exports=function(e){return r(i(e))}},1291:function(e,t,n){var r=n(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},8014:function(e,t,n){var r=n(1291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},8981:function(e,t,n){var r=n(7750),i=Object;e.exports=function(e){return i(r(e))}},2777:function(e,t,n){var r=n(9565),i=n(34),s=n(757),o=n(5966),a=n(4270),l=n(8227),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||s(e))return e;var n,l=o(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||s(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},6969:function(e,t,n){var r=n(2777),i=n(757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},2140:function(e,t,n){var r=n(8227),i=r("toStringTag"),s={};s[i]="z",e.exports="[object z]"===String(s)},655:function(e,t,n){var r=n(6955),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},9714:function(e,t,n){var r=n(9088);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},3392:function(e,t,n){var r=n(9504),i=0,s=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+s,36)}},7040:function(e,t,n){var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){var r=n(3724),i=n(9039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},8622:function(e,t,n){var r=n(4475),i=n(4901),s=r.WeakMap;e.exports=i(s)&&/native code/.test(String(s))},8227:function(e,t,n){var r=n(4475),i=n(5745),s=n(9297),o=n(3392),a=n(4495),l=n(7040),u=r.Symbol,c=i("wks"),d=l?u["for"]||u:u&&u.withoutSetter||o;e.exports=function(e){return s(c,e)||(c[e]=a&&s(u,e)?u[e]:d("Symbol."+e)),c[e]}},6573:function(e,t,n){var r=n(3724),i=n(2106),s=n(3238),o=ArrayBuffer.prototype;r&&!("detached"in o)&&i(o,"detached",{configurable:!0,get:function(){return s(this)}})},7936:function(e,t,n){var r=n(6518),i=n(5636);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,n){var r=n(6518),i=n(5636);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(e,t,n){var r=n(6518),i=n(8981),s=n(6198),o=n(4527),a=n(6837),l=n(9039),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!c();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=i(this),n=s(t),r=arguments.length;a(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return o(t,n),n}})},7467:function(e,t,n){var r=n(7628),i=n(4644),s=i.aTypedArray,o=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;o("toReversed",(function(){return r(s(this),a(this))}))},4732:function(e,t,n){var r=n(4644),i=n(9504),s=n(9306),o=n(5370),a=r.aTypedArray,l=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,c=i(r.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&s(e);var t=a(this),n=o(l(t),t);return c(n,e)}))},9577:function(e,t,n){var r=n(9928),i=n(4644),s=n(1108),o=n(1291),a=n(5854),l=i.aTypedArray,u=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();c("with",{with:function(e,t){var n=l(this),i=o(e),c=s(n)?a(t):+t;return r(n,u(n),i,c)}}["with"],!d)},6280:function(e,t,n){n(6573)},7801:function(e,t,n){n(7936)},7913:function(e,t,n){n(8100)},4979:function(e,t,n){var r=n(6518),i=n(4475),s=n(7751),o=n(6980),a=n(4913).f,l=n(9297),u=n(679),c=n(3167),d=n(2603),h=n(5002),f=n(6193),p=n(3724),m=n(6395),g="DOMException",v=s("Error"),y=s(g),b=function(){u(this,_);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=new v(t);return i.name=g,a(r,"stack",o(1,f(i.stack,1))),c(r,this,b),r},_=b.prototype=y.prototype,w="stack"in new v(g),E="stack"in new y(1,2),I=y&&p&&Object.getOwnPropertyDescriptor(i,g),T=!!I&&!(I.writable&&I.configurable),C=w&&!T&&!E;r({global:!0,constructor:!0,forced:m||C},{DOMException:C?b:y});var S=s(g),k=S.prototype;if(k.constructor!==S)for(var A in m||a(k,"constructor",o(1,S)),h)if(l(h,A)){var x=h[A],R=x.s;l(S,R)||a(S,R,o(6,x.c))}},4603:function(e,t,n){var r=n(6840),i=n(9504),s=n(655),o=n(2812),a=URLSearchParams,l=a.prototype,u=i(l.append),c=i(l["delete"]),d=i(l.forEach),h=i([].push),f=new a("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&r(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var r=[];d(this,(function(e,t){h(r,{key:t,value:e})})),o(t,1);var i,a=s(e),l=s(n),f=0,p=0,m=!1,g=r.length;while(f<g)i=r[f++],m||i.key===a?(m=!0,c(this,i.key)):p++;while(p<g)i=r[p++],i.key===a&&i.value===l||u(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,n){var r=n(6840),i=n(9504),s=n(655),o=n(2812),a=URLSearchParams,l=a.prototype,u=i(l.getAll),c=i(l.has),d=new a("a=1");!d.has("a",2)&&d.has("a",void 0)||r(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var r=u(this,e);o(t,1);var i=s(n),a=0;while(a<r.length)if(r[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,n){var r=n(3724),i=n(9504),s=n(2106),o=URLSearchParams.prototype,a=i(o.forEach);r&&!("size"in o)&&s(o,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})},3405:function(e,t,n){n.d(t,{MF:function(){return ge},j6:function(){return de},om:function(){return ce},Us:function(){return he},Sx:function(){return ye},Wp:function(){return ve},KO:function(){return be}});n(4114);var r=n(852),i=n(1363),s=n(4046);n(4979);const o=(e,t)=>t.some((t=>e instanceof t));let a,l;function u(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap;function g(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(E(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&d.set(t,e)})).catch((()=>{})),m.set(t,e),t}function v(e){if(h.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));h.set(e,t)}let y={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function b(e){y=e(y)}function _(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?c().includes(e)?function(...t){return e.apply(I(this),t),E(d.get(this))}:function(...t){return E(e.apply(I(this),t))}:function(t,...n){const r=e.call(I(this),t,...n);return f.set(r,t.sort?t.sort():[t]),E(r)}}function w(e){return"function"===typeof e?_(e):(e instanceof IDBTransaction&&v(e),o(e,u())?new Proxy(e,y):e)}function E(e){if(e instanceof IDBRequest)return g(e);if(p.has(e))return p.get(e);const t=w(e);return t!==e&&(p.set(e,t),m.set(t,e)),t}const I=e=>m.get(e);function T(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=E(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(E(o.result),e.oldVersion,e.newVersion,E(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const C=["get","getKey","getAll","getAllKeys","count"],S=["put","add","delete","clear"],k=new Map;function A(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(k.get(t))return k.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=S.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!C.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return k.set(t,s),s}b((e=>({...e,get:(t,n,r)=>A(t,n)||e.get(t,n,r),has:(t,n)=>!!A(t,n)||e.has(t,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class x{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(R(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}function R(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const O="@firebase/app",N="0.9.27",D=new i.Vy("@firebase/app"),P="@firebase/app-compat",L="@firebase/analytics-compat",M="@firebase/analytics",F="@firebase/app-check-compat",V="@firebase/app-check",B="@firebase/auth",W="@firebase/auth-compat",$="@firebase/database",j="@firebase/database-compat",U="@firebase/functions",z="@firebase/functions-compat",q="@firebase/installations",G="@firebase/installations-compat",K="@firebase/messaging",H="@firebase/messaging-compat",X="@firebase/performance",Q="@firebase/performance-compat",Y="@firebase/remote-config",J="@firebase/remote-config-compat",Z="@firebase/storage",ee="@firebase/storage-compat",te="@firebase/firestore",ne="@firebase/firestore-compat",re="firebase",ie="10.8.0",se="[DEFAULT]",oe={[O]:"fire-core",[P]:"fire-core-compat",[M]:"fire-analytics",[L]:"fire-analytics-compat",[V]:"fire-app-check",[F]:"fire-app-check-compat",[B]:"fire-auth",[W]:"fire-auth-compat",[$]:"fire-rtdb",[j]:"fire-rtdb-compat",[U]:"fire-fn",[z]:"fire-fn-compat",[q]:"fire-iid",[G]:"fire-iid-compat",[K]:"fire-fcm",[H]:"fire-fcm-compat",[X]:"fire-perf",[Q]:"fire-perf-compat",[Y]:"fire-rc",[J]:"fire-rc-compat",[Z]:"fire-gcs",[ee]:"fire-gcs-compat",[te]:"fire-fst",[ne]:"fire-fst-compat","fire-js":"fire-js",[re]:"fire-js-all"},ae=new Map,le=new Map;function ue(e,t){try{e.container.addComponent(t)}catch(n){D.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ce(e){const t=e.name;if(le.has(t))return D.debug(`There were multiple attempts to register component ${t}.`),!1;le.set(t,e);for(const n of ae.values())ue(n,e);return!0}function de(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function he(e,t,n=se){de(e,t).clearInstance(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fe={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pe=new s.FA("app","Firebase",fe);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class me{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pe.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=ie;function ve(e,t={}){let n=e;if("object"!==typeof t){const e=t;t={name:e}}const i=Object.assign({name:se,automaticDataCollectionEnabled:!1},t),o=i.name;if("string"!==typeof o||!o)throw pe.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.T9)()),!n)throw pe.create("no-options");const a=ae.get(o);if(a){if((0,s.bD)(n,a.options)&&(0,s.bD)(i,a.config))return a;throw pe.create("duplicate-app",{appName:o})}const l=new r.h1(o);for(const r of le.values())l.addComponent(r);const u=new me(n,i,l);return ae.set(o,u),u}function ye(e=se){const t=ae.get(e);if(!t&&e===se&&(0,s.T9)())return ve();if(!t)throw pe.create("no-app",{appName:e});return t}function be(e,t,n){var i;let s=null!==(i=oe[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void D.warn(e.join(" "))}ce(new r.uA(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const _e="firebase-heartbeat-database",we=1,Ee="firebase-heartbeat-store";let Ie=null;function Te(){return Ie||(Ie=T(_e,we,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ee)}catch(n){console.warn(n)}}}}).catch((e=>{throw pe.create("idb-open",{originalErrorMessage:e.message})}))),Ie}async function Ce(e){try{const t=await Te(),n=t.transaction(Ee),r=await n.objectStore(Ee).get(ke(e));return await n.done,r}catch(t){if(t instanceof s.g)D.warn(t.message);else{const e=pe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});D.warn(e.message)}}}async function Se(e,t){try{const n=await Te(),r=n.transaction(Ee,"readwrite"),i=r.objectStore(Ee);await i.put(t,ke(e)),await r.done}catch(n){if(n instanceof s.g)D.warn(n.message);else{const e=pe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});D.warn(e.message)}}}function ke(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae=1024,xe=2592e6;class Re{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new De(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=Oe();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf(),n=Date.now();return n-t<=xe})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Oe(),{heartbeatsToSend:n,unsentEntries:r}=Ne(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Oe(){const e=new Date;return e.toISOString().substring(0,10)}function Ne(e,t=Ae){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Pe(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class De{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then((()=>!0)).catch((()=>!1))}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await Ce(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Se(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Se(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Pe(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){ce(new r.uA("platform-logger",(e=>new x(e)),"PRIVATE")),ce(new r.uA("heartbeat",(e=>new Re(e)),"PRIVATE")),be(O,N,e),be(O,N,"esm2017"),be("fire-js","")}Le("")},852:function(e,t,n){n.d(t,{h1:function(){return u},uA:function(){return i}});var r=n(4046);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(l(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(i);n===e&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}return n||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(e){return e===s?void 0:e}function l(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},1363:function(e,t,n){n.d(t,{$b:function(){return i},Vy:function(){return u}});n(4114);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r=[];var i;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}},6400:function(e,t,n){n.d(t,{Wp:function(){return r.Wp}});var r=n(3405),i="firebase",s="10.8.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,r.KO)(i,s,"app")},8607:function(e,t,n){n.r(t),n.d(t,{ActionCodeOperation:function(){return h},ActionCodeURL:function(){return Bt},AuthCredential:function(){return pt},AuthErrorCodes:function(){return y},EmailAuthCredential:function(){return kt},EmailAuthProvider:function(){return $t},FacebookAuthProvider:function(){return qt},FactorId:function(){return l},GithubAuthProvider:function(){return Kt},GoogleAuthProvider:function(){return Gt},OAuthCredential:function(){return Rt},OAuthProvider:function(){return zt},OperationType:function(){return d},PhoneAuthCredential:function(){return Mt},PhoneAuthProvider:function(){return wi},PhoneMultiFactorGenerator:function(){return Ms},ProviderId:function(){return u},RecaptchaVerifier:function(){return fi},SAMLAuthProvider:function(){return Yt},SignInMethod:function(){return c},TotpMultiFactorGenerator:function(){return Fs},TotpSecret:function(){return Bs},TwitterAuthProvider:function(){return Jt},applyActionCode:function(){return Tn},beforeAuthStateChanged:function(){return Zn},browserLocalPersistence:function(){return Ir},browserPopupRedirectResolver:function(){return Ds},browserSessionPersistence:function(){return Cr},checkActionCode:function(){return Cn},confirmPasswordReset:function(){return In},connectAuthEmulator:function(){return ut},createUserWithEmailAndPassword:function(){return kn},debugErrorMap:function(){return m},deleteUser:function(){return sr},fetchSignInMethodsForEmail:function(){return Dn},getAdditionalUserInfo:function(){return Hn},getAuth:function(){return Qs},getIdToken:function(){return re},getIdTokenResult:function(){return ie},getMultiFactorResolver:function(){return lr},getRedirectResult:function(){return Ki},inMemoryPersistence:function(){return Te},indexedDBLocalPersistence:function(){return Qr},initializeAuth:function(){return at},initializeRecaptchaConfig:function(){return Qn},isSignInWithEmailLink:function(){return Rn},linkWithCredential:function(){return fn},linkWithPhoneNumber:function(){return vi},linkWithPopup:function(){return Oi},linkWithRedirect:function(){return qi},multiFactor:function(){return gr},onAuthStateChanged:function(){return er},onIdTokenChanged:function(){return Jn},parseActionCodeURL:function(){return Wt},prodErrorMap:function(){return g},reauthenticateWithCredential:function(){return pn},reauthenticateWithPhoneNumber:function(){return yi},reauthenticateWithPopup:function(){return Ri},reauthenticateWithRedirect:function(){return Ui},reload:function(){return fe},revokeAccessToken:function(){return ir},sendEmailVerification:function(){return Pn},sendPasswordResetEmail:function(){return En},sendSignInLinkToEmail:function(){return xn},setPersistence:function(){return Xn},signInAnonymously:function(){return nn},signInWithCredential:function(){return hn},signInWithCustomToken:function(){return gn},signInWithEmailAndPassword:function(){return An},signInWithEmailLink:function(){return On},signInWithPhoneNumber:function(){return gi},signInWithPopup:function(){return xi},signInWithRedirect:function(){return $i},signOut:function(){return rr},unlink:function(){return an},updateCurrentUser:function(){return nr},updateEmail:function(){return Vn},updatePassword:function(){return Bn},updatePhoneNumber:function(){return _i},updateProfile:function(){return Fn},useDeviceLanguage:function(){return tr},validatePassword:function(){return Yn},verifyBeforeUpdateEmail:function(){return Ln},verifyPasswordResetCode:function(){return Sn}});n(4114),n(4603),n(7566),n(8721);var r=n(4046),i=n(3405),s=n(1363);function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(852);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l={PHONE:"phone",TOTP:"totp"},u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},c={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},d={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},h={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is incorrect, malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend.",["unsupported-password-policy-schema-version"]:"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",["password-does-not-meet-requirements"]:"The password does not meet the requirements."}}function p(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m=f,g=p,v=new r.FA("auth","Firebase",p()),y={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},b=new s.Vy("@firebase/auth");function _(e,...t){b.logLevel<=s.$b.WARN&&b.warn(`Auth (${i.MF}): ${e}`,...t)}function w(e,...t){b.logLevel<=s.$b.ERROR&&b.error(`Auth (${i.MF}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e,...t){throw S(e,...t)}function I(e,...t){return S(e,...t)}function T(e,t,n){const i=Object.assign(Object.assign({},g()),{[t]:n}),s=new r.FA("auth","Firebase",i);return s.create(t,{appName:e.name})}function C(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&E(e,"argument-error"),T(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function S(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return v.create(e,...t)}function k(e,t,...n){if(!e)throw S(t,...n)}function A(e){const t="INTERNAL ASSERTION FAILED: "+e;throw w(t),new Error(t)}function x(e,t){e||A(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function O(){return"http:"===N()||"https:"===N()}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(O()||(0,r.sr)()||"connection"in navigator))||navigator.onLine}function P(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e,t){this.shortDelay=e,this.longDelay=t,x(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.jZ)()||(0,r.lV)()}get(){return D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e,t){x(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void A("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void A("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void A("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["INVALID_LOGIN_CREDENTIALS"]:"invalid-credential",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["PASSWORD_DOES_NOT_MEET_REQUIREMENTS"]:"password-does-not-meet-requirements",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},B=new L(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $(e,t,n,i,s={}){return j(e,s,(async()=>{let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=(0,r.Am)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),F.fetch()(z(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))}async function j(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},V),t);try{const t=new G(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw K(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw K(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw K(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw K(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw T(e,a,o);E(e,a)}}catch(s){if(s instanceof r.g)throw s;E(e,"network-request-failed",{message:String(s)})}}async function U(e,t,n,r,i={}){const s=await $(e,t,n,r,i);return"mfaPendingCredential"in s&&E(e,"multi-factor-auth-required",{_serverResponse:s}),s}function z(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?M(e.config,i):`${e.config.apiScheme}://${i}`}function q(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(I(this.auth,"network-request-failed"))),B.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function K(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=I(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(e){return void 0!==e&&void 0!==e.getResponse}function X(e){return void 0!==e&&void 0!==e.enterprise}class Q{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return q(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y(e){return(await $(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function J(e,t){return $(e,"GET","/v2/recaptchaConfig",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z(e,t){return $(e,"POST","/v1/accounts:delete",t)}async function ee(e,t){return $(e,"POST","/v1/accounts:update",t)}async function te(e,t){return $(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e,t=!1){return(0,r.Ku)(e).getIdToken(t)}async function ie(e,t=!1){const n=(0,r.Ku)(e),i=await n.getIdToken(t),s=oe(i);k(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,a=null===o||void 0===o?void 0:o["sign_in_provider"];return{claims:s,token:i,authTime:ne(se(s.auth_time)),issuedAtTime:ne(se(s.iat)),expirationTime:ne(se(s.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o["sign_in_second_factor"])||null}}function se(e){return 1e3*Number(e)}function oe(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return w("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.u)(n);return e?JSON.parse(e):(w("Failed to decode base64 JWT payload"),null)}catch(s){return w("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function ae(e){const t=oe(e);return k(t,"internal-error"),k("undefined"!==typeof t.exp,"internal-error"),k("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function le(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof r.g&&ue(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function ue({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ne(this.lastLoginAt),this.creationTime=ne(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function he(e){var t;const n=e.auth,r=await e.getIdToken(),i=await le(e,te(n,{idToken:r}));k(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?me(s.providerUserInfo):[],a=pe(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new de(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function fe(e){const t=(0,r.Ku)(e);await he(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pe(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}function me(e){return e.map((e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ge(e,t){const n=await j(e,{},(async()=>{const n=(0,r.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=z(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",F.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ve(e,t){return $(e,"POST","/v2/accounts:revokeToken",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k("undefined"!==typeof e.idToken,"internal-error"),k("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ae(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return k(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await ge(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ye;return n&&(k("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(k("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(k("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ye,this.toJSON())}_performRefresh(){return A("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e,t){k("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class _e{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new de(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await le(this,this.stsTokenManager.getToken(this.auth,e));return k(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ie(this,e)}reload(){return fe(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _e(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await he(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await le(this,Z(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:E}=t;k(y&&E,e,"internal-error");const I=ye.fromJSON(this.name,E);k("string"===typeof y,e,"internal-error"),be(c,e.name),be(d,e.name),k("boolean"===typeof b,e,"internal-error"),k("boolean"===typeof _,e,"internal-error"),be(h,e.name),be(f,e.name),be(p,e.name),be(m,e.name),be(g,e.name),be(v,e.name);const T=new _e({uid:y,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:_,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(T.providerData=w.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new ye;r.updateFromServerResponse(t);const i=new _e({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await he(i),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=new Map;function Ee(e){x(e instanceof Function,"Expected a class definition");let t=we.get(e);return t?(x(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,we.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ie.type="NONE";const Te=Ie;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(e,t,n){return`firebase:${e}:${t}:${n}`}class Se{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ce(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ce("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_e._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Se(Ee(Te),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ee(Te);const s=Ce(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=_e._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Se(i,e,n)):new Se(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(De(t))return"Blackberry";if(Pe(t))return"Webos";if(xe(t))return"Safari";if((t.includes("chrome/")||Re(t))&&!t.includes("edge/"))return"Chrome";if(Ne(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ae(e=(0,r.ZQ)()){return/firefox\//i.test(e)}function xe(e=(0,r.ZQ)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Re(e=(0,r.ZQ)()){return/crios\//i.test(e)}function Oe(e=(0,r.ZQ)()){return/iemobile/i.test(e)}function Ne(e=(0,r.ZQ)()){return/android/i.test(e)}function De(e=(0,r.ZQ)()){return/blackberry/i.test(e)}function Pe(e=(0,r.ZQ)()){return/webos/i.test(e)}function Le(e=(0,r.ZQ)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Me(e=(0,r.ZQ)()){var t;return Le(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Fe(){return(0,r.lT)()&&10===document.documentMode}function Ve(e=(0,r.ZQ)()){return Le(e)||Ne(e)||Pe(e)||De(e)||/windows phone/i.test(e)||Oe(e)}function Be(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(e,t=[]){let n;switch(e){case"Browser":n=ke((0,r.ZQ)());break;case"Worker":n=`${ke((0,r.ZQ)())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.MF}/${s}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{const r=e(t);n(r)}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function je(e,t={}){return $(e,"GET","/v2/passwordPolicy",W(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue=6;class ze{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:Ue,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ke(this),this.idTokenSubscription=new Ke(this),this.beforeStateQueue=new $e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ee(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Se.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await he(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.Ku)(e):null;return t&&k(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ee(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await je(this),t=new ze(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};null!=this.tenantId&&(n.tenantId=this.tenantId),await ve(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ee(e)||this._popupRedirectResolver;k(t,this,"argument-error"),this.redirectPersistenceManager=await Se.create(this,[Ee(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=We(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&_(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ge(e){return(0,r.Ku)(e)}class Ke{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.tD)((e=>this.observer=e))}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let He={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xe(e){He=e}function Qe(e){return He.loadJS(e)}function Ye(){return He.recaptchaV2Script}function Je(){return He.recaptchaEnterpriseScript}function Ze(){return He.gapiScript}function et(e){return`__${e}${Math.floor(1e6*Math.random())}`}const tt="recaptcha-enterprise",nt="NO_RECAPTCHA";class rt{constructor(e){this.type=tt,this.auth=Ge(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{J(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Q(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))}function r(t,n,r){const i=window.grecaptcha;X(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(nt)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{n(this.auth).then((n=>{if(!t&&X(window.grecaptcha))r(n,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=Je();0!==t.length&&(t+=n),Qe(t).then((()=>{r(n,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function it(e,t,n,r=!1){const i=new rt(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function st(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await it(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await it(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}async function ot(e){const t=Ge(e),n=await J(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Q(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const e=new rt(t);e.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e,t){const n=(0,i.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.bD)(i,null!==t&&void 0!==t?t:{}))return e;E(e,"already-initialized")}const s=n.initialize({options:t});return s}function lt(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ee);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}function ut(e,t,n){const r=Ge(e);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ct(t),{host:o,port:a}=dt(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ft()}function ct(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dt(e){const t=ct(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ht(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ht(t)}}}function ht(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function ft(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return A("not implemented")}_getIdTokenResponse(e){return A("not implemented")}_linkToIdToken(e,t){return A("not implemented")}_getReauthenticationResolver(e){return A("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mt(e,t){return $(e,"POST","/v1/accounts:resetPassword",W(e,t))}async function gt(e,t){return $(e,"POST","/v1/accounts:update",t)}async function vt(e,t){return $(e,"POST","/v1/accounts:signUp",t)}async function yt(e,t){return $(e,"POST","/v1/accounts:update",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bt(e,t){return U(e,"POST","/v1/accounts:signInWithPassword",W(e,t))}async function _t(e,t){return $(e,"POST","/v1/accounts:sendOobCode",W(e,t))}async function wt(e,t){return _t(e,t)}async function Et(e,t){return _t(e,t)}async function It(e,t){return _t(e,t)}async function Tt(e,t){return _t(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ct(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",W(e,t))}async function St(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends pt{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new kt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new kt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return st(e,t,"signInWithPassword",bt);case"emailLink":return Ct(e,{email:this._email,oobCode:this._password});default:E(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return st(e,n,"signUpPassword",vt);case"emailLink":return St(e,{idToken:t,email:this._email,oobCode:this._password});default:E(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function At(e,t){return U(e,"POST","/v1/accounts:signInWithIdp",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="http://localhost";class Rt extends pt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):E("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Rt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return At(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,At(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,At(e,t)}buildRequest(){const e={requestUri:xt,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,r.Am)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ot(e,t){return $(e,"POST","/v1/accounts:sendVerificationCode",W(e,t))}async function Nt(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",W(e,t))}async function Dt(e,t){const n=await U(e,"POST","/v1/accounts:signInWithPhoneNumber",W(e,t));if(n.temporaryProof)throw K(e,"account-exists-with-different-credential",n);return n}const Pt={["USER_NOT_FOUND"]:"user-not-found"};async function Lt(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return U(e,"POST","/v1/accounts:signInWithPhoneNumber",W(e,n),Pt)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends pt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Mt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Mt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return Nt(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Dt(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Lt(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Mt({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vt(e){const t=(0,r.I9)((0,r.hp)(e))["link"],n=t?(0,r.I9)((0,r.hp)(t))["deep_link_id"]:null,i=(0,r.I9)((0,r.hp)(e))["deep_link_id"],s=i?(0,r.I9)((0,r.hp)(i))["link"]:null;return s||i||n||t||e}class Bt{constructor(e){var t,n,i,s,o,a;const l=(0,r.I9)((0,r.hp)(e)),u=null!==(t=l["apiKey"])&&void 0!==t?t:null,c=null!==(n=l["oobCode"])&&void 0!==n?n:null,d=Ft(null!==(i=l["mode"])&&void 0!==i?i:null);k(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(s=l["continueUrl"])&&void 0!==s?s:null,this.languageCode=null!==(o=l["languageCode"])&&void 0!==o?o:null,this.tenantId=null!==(a=l["tenantId"])&&void 0!==a?a:null}static parseLink(e){const t=Vt(e);try{return new Bt(t)}catch(n){return null}}}function Wt(e){return Bt.parseLink(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(){this.providerId=$t.PROVIDER_ID}static credential(e,t){return kt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Bt.parseLink(t);return k(n,"argument-error"),kt._fromEmailAndCode(e,n.code,n.tenantId)}}$t.PROVIDER_ID="password",$t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends jt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zt extends Ut{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return k("providerId"in t&&"signInMethod"in t,"argument-error"),Rt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return k(e.idToken||e.accessToken,"argument-error"),Rt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return zt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return zt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i)return null;if(!o)return null;try{return new zt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Ut{constructor(){super("facebook.com")}static credential(e){return Rt._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qt.credentialFromTaggedObject(e)}static credentialFromError(e){return qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qt.credential(e.oauthAccessToken)}catch(t){return null}}}qt.FACEBOOK_SIGN_IN_METHOD="facebook.com",qt.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gt extends Ut{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rt._fromParams({providerId:Gt.PROVIDER_ID,signInMethod:Gt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gt.credentialFromTaggedObject(e)}static credentialFromError(e){return Gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Gt.credential(t,n)}catch(r){return null}}}Gt.GOOGLE_SIGN_IN_METHOD="google.com",Gt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kt extends Ut{constructor(){super("github.com")}static credential(e){return Rt._fromParams({providerId:Kt.PROVIDER_ID,signInMethod:Kt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kt.credentialFromTaggedObject(e)}static credentialFromError(e){return Kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Kt.credential(e.oauthAccessToken)}catch(t){return null}}}Kt.GITHUB_SIGN_IN_METHOD="github.com",Kt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ht="http://localhost";class Xt extends pt{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return At(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,At(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,At(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Xt(n,i):null}static _create(e,t){return new Xt(e,t)}buildRequest(){return{requestUri:Ht,returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="saml.";class Yt extends jt{constructor(e){k(e.startsWith(Qt),"argument-error"),super(e)}static credentialFromResult(e){return Yt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Yt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Xt.fromJSON(e);return k(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Xt._create(n,t)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Ut{constructor(){super("twitter.com")}static credential(e,t){return Rt._fromParams({providerId:Jt.PROVIDER_ID,signInMethod:Jt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jt.credentialFromTaggedObject(e)}static credentialFromError(e){return Jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Jt.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Zt(e,t){return U(e,"POST","/v1/accounts:signUp",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.TWITTER_SIGN_IN_METHOD="twitter.com",Jt.PROVIDER_ID="twitter.com";class en{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await _e._fromIdTokenResponse(e,n,r),s=tn(n),o=new en({user:i,providerId:s,_tokenResponse:n,operationType:t});return o}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=tn(n);return new en({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function tn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nn(e){var t;const n=Ge(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new en({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Zt(n,{returnSecureToken:!0}),i=await en._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends r.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new rn(e,t,n,r)}}function sn(e,t,n,r){const i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw rn._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function an(e,t){const n=(0,r.Ku)(e);await un(!0,n,t);const{providerUserInfo:i}=await ee(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=on(i||[]);return n.providerData=n.providerData.filter((e=>s.has(e.providerId))),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function ln(e,t,n=!1){const r=await le(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return en._forOperation(e,"link",r)}async function un(e,t,n){await he(t);const r=on(t.providerData),i=!1===e?"provider-already-linked":"no-such-provider";k(r.has(n)===e,t.auth,i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cn(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await le(e,sn(r,i,t,e),n);k(s.idToken,r,"internal-error");const o=oe(s.idToken);k(o,r,"internal-error");const{sub:a}=o;return k(e.uid===a,r,"user-mismatch"),en._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&E(r,"user-mismatch"),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dn(e,t,n=!1){const r="signIn",i=await sn(e,r,t),s=await en._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function hn(e,t){return dn(Ge(e),t)}async function fn(e,t){const n=(0,r.Ku)(e);return await un(!1,n,t.providerId),ln(n,t)}async function pn(e,t){return cn((0,r.Ku)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mn(e,t){return U(e,"POST","/v1/accounts:signInWithCustomToken",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gn(e,t){const n=Ge(e),r=await mn(n,{token:t,returnSecureToken:!0}),i=await en._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?yn._fromServerResponse(e,t):"totpInfo"in t?bn._fromServerResponse(e,t):E(e,"internal-error")}}class yn extends vn{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new yn(t)}}class bn extends vn{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new bn(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(e,t,n){var r;k((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),k("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(k(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(k(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wn(e){const t=Ge(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function En(e,t,n){const r=Ge(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&_n(r,i,n),await st(r,i,"getOobCode",Et)}async function In(e,t,n){await mt((0,r.Ku)(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&wn(e),t}))}async function Tn(e,t){await yt((0,r.Ku)(e),{oobCode:t})}async function Cn(e,t){const n=(0,r.Ku)(e),i=await mt(n,{oobCode:t}),s=i.requestType;switch(k(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(i.mfaInfo,n,"internal-error");default:k(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=vn._fromServerResponse(Ge(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function Sn(e,t){const{data:n}=await Cn((0,r.Ku)(e),t);return n.email}async function kn(e,t,n){const r=Ge(e),i={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},s=st(r,i,"signUpPassword",Zt),o=await s.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&wn(e),t})),a=await en._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function An(e,t,n){return hn((0,r.Ku)(e),$t.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&wn(e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xn(e,t,n){const r=Ge(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){k(t.handleCodeInApp,r,"argument-error"),t&&_n(r,e,t)}s(i,n),await st(r,i,"getOobCode",It)}function Rn(e,t){const n=Bt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function On(e,t,n){const i=(0,r.Ku)(e),s=$t.credentialWithLink(t,n||R());return k(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),hn(i,s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nn(e,t){return $(e,"POST","/v1/accounts:createAuthUri",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dn(e,t){const n=O()?R():"http://localhost",i={identifier:t,continueUri:n},{signinMethods:s}=await Nn((0,r.Ku)(e),i);return s||[]}async function Pn(e,t){const n=(0,r.Ku)(e),i=await e.getIdToken(),s={requestType:"VERIFY_EMAIL",idToken:i};t&&_n(n.auth,s,t);const{email:o}=await wt(n.auth,s);o!==e.email&&await e.reload()}async function Ln(e,t,n){const i=(0,r.Ku)(e),s=await e.getIdToken(),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:t};n&&_n(i.auth,o,n);const{email:a}=await Tt(i.auth,o);a!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mn(e,t){return $(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fn(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=(0,r.Ku)(e),s=await i.getIdToken(),o={idToken:s,displayName:t,photoUrl:n,returnSecureToken:!0},a=await le(i,Mn(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find((({providerId:e})=>"password"===e));l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function Vn(e,t){return Wn((0,r.Ku)(e),t,null)}function Bn(e,t){return Wn((0,r.Ku)(e),null,t)}async function Wn(e,t,n){const{auth:r}=e,i=await e.getIdToken(),s={idToken:i,returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const o=await le(e,gt(r,s));await e._updateTokensIfNecessary(o,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=oe(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n["sign_in_provider"];if(r){const e="anonymous"!==r&&"custom"!==r?r:null;return new jn(s,e)}}if(!r)return null;switch(r){case"facebook.com":return new zn(s,i);case"github.com":return new qn(s,i);case"google.com":return new Gn(s,i);case"twitter.com":return new Kn(s,i,e.screenName||null);case"custom":case"anonymous":return new jn(s,null);default:return new jn(s,r,i)}}class jn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Un extends jn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class zn extends jn{constructor(e,t){super(e,"facebook.com",t)}}class qn extends Un{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Gn extends jn{constructor(e,t){super(e,"google.com",t)}}class Kn extends Un{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Hn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:$n(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(e,t){return(0,r.Ku)(e).setPersistence(t)}function Qn(e){return ot(e)}async function Yn(e,t){const n=Ge(e);return n.validatePassword(t)}function Jn(e,t,n,i){return(0,r.Ku)(e).onIdTokenChanged(t,n,i)}function Zn(e,t,n){return(0,r.Ku)(e).beforeAuthStateChanged(t,n)}function er(e,t,n,i){return(0,r.Ku)(e).onAuthStateChanged(t,n,i)}function tr(e){(0,r.Ku)(e).useDeviceLanguage()}function nr(e,t){return(0,r.Ku)(e).updateCurrentUser(t)}function rr(e){return(0,r.Ku)(e).signOut()}function ir(e,t){const n=Ge(e);return n.revokeAccessToken(t)}async function sr(e){return(0,r.Ku)(e).delete()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new or("enroll",e,t)}static _fromMfaPendingCredential(e){return new or("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return or._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return or._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ge(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>vn._fromServerResponse(n,e)));k(r.mfaPendingCredential,n,"internal-error");const s=or._fromMfaPendingCredential(r.mfaPendingCredential);return new ar(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await en._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return k(t.user,n,"internal-error"),en._forOperation(t.user,t.operationType,o);default:E(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function lr(e,t){var n;const i=(0,r.Ku)(e),s=t;return k(t.customData.operationType,i,"argument-error"),k(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),ar._fromError(i,s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:start",W(e,t))}function cr(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:finalize",W(e,t))}function dr(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:start",W(e,t))}function hr(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:finalize",W(e,t))}function fr(e,t){return $(e,"POST","/v2/accounts/mfaEnrollment:withdraw",W(e,t))}class pr{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>vn._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new pr(e)}async getSession(){return or._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await le(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await le(this.user,fr(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const mr=new WeakMap;function gr(e){const t=(0,r.Ku)(e);return mr.has(t)||mr.set(t,pr._fromUser(t)),mr.get(t)}const vr="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vr,"1"),this.storage.removeItem(vr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){const e=(0,r.ZQ)();return xe(e)||Le(e)}const _r=1e3,wr=10;class Er extends yr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=br()&&Be(),this.fallbackToPolling=Ve(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Fe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,wr):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),_r)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Er.type="LOCAL";const Ir=Er;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends yr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Tr.type="SESSION";const Cr=Tr;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(e){return Promise.all(e.map((async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new kr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await Sr(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ar(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.receivers=[];class xr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Ar("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function Or(e){Rr().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return"undefined"!==typeof Rr()["WorkerGlobalScope"]&&"function"===typeof Rr()["importScripts"]}async function Dr(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function Pr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function Lr(){return Nr()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="firebaseLocalStorageDb",Fr=1,Vr="firebaseLocalStorage",Br="fbase_key";class Wr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function $r(e,t){return e.transaction([Vr],t?"readwrite":"readonly").objectStore(Vr)}function jr(){const e=indexedDB.deleteDatabase(Mr);return new Wr(e).toPromise()}function Ur(){const e=indexedDB.open(Mr,Fr);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Vr,{keyPath:Br})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Vr)?t(n):(n.close(),await jr(),t(await Ur()))}))}))}async function zr(e,t,n){const r=$r(e,!0).put({[Br]:t,value:n});return new Wr(r).toPromise()}async function qr(e,t){const n=$r(e,!1).get(t),r=await new Wr(n).toPromise();return void 0===r?null:r.value}function Gr(e,t){const n=$r(e,!0).delete(t);return new Wr(n).toPromise()}const Kr=800,Hr=3;class Xr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ur()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>Hr)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kr._getInstance(Lr()),this.receiver._subscribe("keyChanged",(async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}})),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await Dr(),!this.activeServiceWorker)return;this.sender=new xr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&Pr()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ur();return await zr(e,vr,"1"),await Gr(e,vr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>zr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>qr(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Gr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=$r(e,!1).getAll();return new Wr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),Kr)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Xr.type="LOCAL";const Qr=Xr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e,t){return $(e,"POST","/v2/accounts/mfaSignIn:start",W(e,t))}function Jr(e,t){return $(e,"POST","/v2/accounts/mfaSignIn:finalize",W(e,t))}function Zr(e,t){return $(e,"POST","/v2/accounts/mfaSignIn:finalize",W(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=500,ti=6e4,ni=1e12;class ri{constructor(e){this.auth=e,this.counter=ni,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ii(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||ni;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||ni;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||ni;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ii{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;k(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=si(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),ti)}),ei))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function si(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=et("rcb"),ai=new L(3e4,6e4);class li{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Rr().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return k(ui(t),e,"argument-error"),this.shouldResolveImmediately(t)&&H(Rr().grecaptcha)?Promise.resolve(Rr().grecaptcha):new Promise(((n,i)=>{const s=Rr().setTimeout((()=>{i(I(e,"network-request-failed"))}),ai.get());Rr()[oi]=()=>{Rr().clearTimeout(s),delete Rr()[oi];const r=Rr().grecaptcha;if(!r||!H(r))return void i(I(e,"internal-error"));const o=r.render;r.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(r)};const o=`${Ye()}?${(0,r.Am)({onload:oi,render:"explicit",hl:t})}`;Qe(o).catch((()=>{clearTimeout(s),i(I(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Rr().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ui(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class ci{async load(e){return new ri(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="recaptcha",hi={theme:"light",type:"image"};class fi{constructor(e,t,n=Object.assign({},hi)){this.parameters=n,this.type=di,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ge(e),this.isInvisible="invisible"===this.parameters.size,k("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;k(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ci:new li,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Rr()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){k(O()&&!Nr(),this.auth,"internal-error"),await pi(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Y(this.auth);k(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function pi(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Mt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function gi(e,t,n){const i=Ge(e),s=await bi(i,t,(0,r.Ku)(n));return new mi(s,(e=>hn(i,e)))}async function vi(e,t,n){const i=(0,r.Ku)(e);await un(!1,i,"phone");const s=await bi(i.auth,t,(0,r.Ku)(n));return new mi(s,(e=>fn(i,e)))}async function yi(e,t,n){const i=(0,r.Ku)(e),s=await bi(i.auth,t,(0,r.Ku)(n));return new mi(s,(e=>pn(i,e)))}async function bi(e,t,n){var r;const i=await n.verify();try{let s;if(k("string"===typeof i,e,"argument-error"),k(n.type===di,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){k("enroll"===t.type,e,"internal-error");const n=await ur(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{k("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;k(n,e,"missing-multi-factor-info");const o=await Yr(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await Ot(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function _i(e,t){await ln((0,r.Ku)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.providerId=wi.PROVIDER_ID,this.auth=Ge(e)}verifyPhoneNumber(e,t){return bi(this.auth,e,(0,r.Ku)(t))}static credential(e,t){return Mt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return wi.credentialFromTaggedObject(t)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Mt._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ei(e,t){return t?Ee(t):(k(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi.PROVIDER_ID="phone",wi.PHONE_SIGN_IN_METHOD="phone";class Ii extends pt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return At(e,this._buildIdpRequest())}_linkToIdToken(e,t){return At(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return At(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ti(e){return dn(e.auth,new Ii(e),e.bypassAuthState)}function Ci(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),cn(n,new Ii(e),e.bypassAuthState)}async function Si(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),ln(n,new Ii(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ti;case"linkViaPopup":case"linkViaRedirect":return Si;case"reauthViaPopup":case"reauthViaRedirect":return Ci;default:E(this.auth,"internal-error")}}resolve(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new L(2e3,1e4);async function xi(e,t,n){const r=Ge(e);C(e,t,jt);const i=Ei(r,n),s=new Ni(r,"signInViaPopup",t,i);return s.executeNotNull()}async function Ri(e,t,n){const i=(0,r.Ku)(e);C(i.auth,t,jt);const s=Ei(i.auth,n),o=new Ni(i.auth,"reauthViaPopup",t,s,i);return o.executeNotNull()}async function Oi(e,t,n){const i=(0,r.Ku)(e);C(i.auth,t,jt);const s=Ei(i.auth,n),o=new Ni(i.auth,"linkViaPopup",t,s,i);return o.executeNotNull()}class Ni extends ki{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ni.currentPopupAction&&Ni.currentPopupAction.cancel(),Ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return k(e,this.auth,"internal-error"),e}async onExecution(){x(1===this.filter.length,"Popup operations only handle one event");const e=Ar();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(I(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(I(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(I(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ai.get())};e()}}Ni.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Di="pendingRedirect",Pi=new Map;class Li extends ki{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Pi.get(this.auth._key());if(!e){try{const t=await Mi(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Pi.set(this.auth._key(),e)}return this.bypassAuthState||Pi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Mi(e,t){const n=Wi(t),r=Bi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}async function Fi(e,t){return Bi(e)._set(Wi(t),"true")}function Vi(e,t){Pi.set(e._key(),t)}function Bi(e){return Ee(e._redirectPersistence)}function Wi(e){return Ce(Di,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(e,t,n){return ji(e,t,n)}async function ji(e,t,n){const r=Ge(e);C(e,t,jt),await r._initializationPromise;const i=Ei(r,n);return await Fi(i,r),i._openRedirect(r,t,"signInViaRedirect")}function Ui(e,t,n){return zi(e,t,n)}async function zi(e,t,n){const i=(0,r.Ku)(e);C(i.auth,t,jt),await i.auth._initializationPromise;const s=Ei(i.auth,n);await Fi(s,i.auth);const o=await Xi(i);return s._openRedirect(i.auth,t,"reauthViaRedirect",o)}function qi(e,t,n){return Gi(e,t,n)}async function Gi(e,t,n){const i=(0,r.Ku)(e);C(i.auth,t,jt),await i.auth._initializationPromise;const s=Ei(i.auth,n);await un(!1,i,t.providerId),await Fi(s,i.auth);const o=await Xi(i);return s._openRedirect(i.auth,t,"linkViaRedirect",o)}async function Ki(e,t){return await Ge(e)._initializationPromise,Hi(e,t,!1)}async function Hi(e,t,n=!1){const r=Ge(e),i=Ei(r,t),s=new Li(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Xi(e){const t=Ar(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=6e5;class Yi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!es(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(I(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qi&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ji(e))}saveEventToCache(e){this.cachedEventUids.add(Ji(e)),this.lastProcessedEventTime=Date.now()}}function Ji(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Zi({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function es(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zi(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(e,t={}){return $(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rs=/^https?/;async function is(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ts(e);for(const r of t)try{if(ss(r))return}catch(n){}E(e,"unauthorized-domain")}function ss(e){const t=R(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!rs.test(n))return!1;if(ns.test(e))return r===e;const i=e.replace(/\./g,"\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i");return s.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new L(3e4,6e4);function as(){const e=Rr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ls(e){return new Promise(((t,n)=>{var r,i,s;function o(){as(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{as(),n(I(e,"network-request-failed"))},timeout:os.get()})}if(null===(i=null===(r=Rr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Rr().gapi)||void 0===s?void 0:s.load)){const t=et("iframefcb");return Rr()[t]=()=>{gapi.load?o():n(I(e,"network-request-failed"))},Qe(`${Ze()}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw us=null,e}))}let us=null;function cs(e){return us=us||ls(e),us}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new L(5e3,15e3),hs="__/auth/iframe",fs="emulator/auth/iframe",ps={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ms=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gs(e){const t=e.config;k(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?M(t,fs):`https://${e.config.authDomain}/${hs}`,s={apiKey:t.apiKey,appName:e.name,v:i.MF},o=ms.get(e.config.apiHost);o&&(s.eid=o);const a=e._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,r.Am)(s).slice(1)}`}async function vs(e){const t=await cs(e),n=Rr().gapi;return k(n,e,"internal-error"),t.open({where:document.body,url:gs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ps,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=I(e,"network-request-failed"),s=Rr().setTimeout((()=>{r(i)}),ds.get());function o(){Rr().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bs=500,_s=600,ws="_blank",Es="http://localhost";class Is{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ts(e,t,n,i=bs,s=_s){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},ys),{width:i.toString(),height:s.toString(),top:o,left:a}),c=(0,r.ZQ)().toLowerCase();n&&(l=Re(c)?ws:n),Ae(c)&&(t=t||Es,u.scrollbars="yes");const d=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(Me(c)&&"_self"!==l)return Cs(t||"",l),new Is(null);const h=window.open(t||"",l,d);k(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Is(h)}function Cs(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="__/auth/handler",ks="emulator/auth/handler",As=encodeURIComponent("fac");async function xs(e,t,n,s,o,a){k(e.config.authDomain,e,"auth-domain-config-required"),k(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:i.MF,eventId:o};if(t instanceof jt){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,r.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Ut){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const r of Object.keys(u))void 0===u[r]&&delete u[r];const c=await e._getAppCheckToken(),d=c?`#${As}=${encodeURIComponent(c)}`:"";return`${Rs(e)}?${(0,r.Am)(u).slice(1)}${d}`}function Rs({config:e}){return e.emulator?M(e,ks):`https://${e.authDomain}/${Ss}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="webStorageSupport";class Ns{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cr,this._completeRedirectFn=Hi,this._overrideRedirectResult=Vi}async _openPopup(e,t,n,r){var i;x(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await xs(e,t,n,R(),r);return Ts(e,s,Ar())}async _openRedirect(e,t,n,r){await this._originValidation(e);const i=await xs(e,t,n,R(),r);return Or(i),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(x(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await vs(e),n=new Yi(e);return t.register("authEvent",(t=>{k(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send(Os,{type:Os},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Os];void 0!==i&&t(!!i),E(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=is(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ve()||xe()||Le()}}const Ds=Ns;class Ps{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return A("unexpected MultiFactorSessionType")}}}class Ls extends Ps{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ls(e)}_finalizeEnroll(e,t,n){return cr(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Jr(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ms{constructor(){}static assertion(e){return Ls._fromCredential(e)}}Ms.FACTOR_ID="phone";class Fs{static assertionForEnrollment(e,t){return Vs._fromSecret(e,t)}static assertionForSignIn(e,t){return Vs._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const n=e;k("undefined"!==typeof(null===(t=n.user)||void 0===t?void 0:t.auth),"internal-error");const r=await dr(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return Bs._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}}Fs.FACTOR_ID="totp";class Vs extends Ps{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new Vs(t,void 0,e)}static _fromEnrollmentId(e,t){return new Vs(t,e)}async _finalizeEnroll(e,t,n){return k("undefined"!==typeof this.secret,e,"argument-error"),hr(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){k(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return Zr(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class Bs{constructor(e,t,n,r,i,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new Bs(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(Ws(e)||Ws(t))&&(r=!0),r&&(Ws(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Ws(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Ws(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var $s="@firebase/auth",js="1.6.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Us{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qs(e){(0,i.om)(new a.uA("auth",((t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:We(e)},u=new qe(r,i,s,l);return lt(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()}))),(0,i.om)(new a.uA("auth-internal",(e=>{const t=Ge(e.getProvider("auth").getImmediate());return(e=>new Us(e))(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KO)($s,js,zs(e)),(0,i.KO)($s,js,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=300,Ks=(0,r.XA)("authIdTokenMaxAge")||Gs;let Hs=null;const Xs=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ks)return;const i=null===n||void 0===n?void 0:n.token;Hs!==i&&(Hs=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Qs(e=(0,i.Sx)()){const t=(0,i.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=at(e,{popupRedirectResolver:Ds,persistence:[Qr,Ir,Cr]}),s=(0,r.XA)("authTokenSyncURL");if(s){const e=Xs(s);Zn(n,e,(()=>e(n.currentUser))),Jn(n,(t=>e(t)))}const o=(0,r.Tj)("auth");return o&&ut(n,`http://${o}`),n}function Ys(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}Xe({loadJS(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=I("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",Ys().appendChild(r)}))},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),qs("Browser")},9675:function(e,t,n){n.r(t),n.d(t,{AbstractUserDataWriter:function(){return mg},AggregateField:function(){return lm},AggregateQuerySnapshot:function(){return um},Bytes:function(){return cm},CACHE_SIZE_UNLIMITED:function(){return qp},CollectionReference:function(){return Mp},DocumentReference:function(){return Lp},DocumentSnapshot:function(){return Tg},FieldPath:function(){return dm},FieldValue:function(){return fm},Firestore:function(){return Gp},FirestoreError:function(){return li},GeoPoint:function(){return pm},LoadBundleTask:function(){return zp},PersistentCacheIndexManager:function(){return vv},Query:function(){return Pp},QueryCompositeFilterConstraint:function(){return Qm},QueryConstraint:function(){return Gm},QueryDocumentSnapshot:function(){return Cg},QueryEndAtConstraint:function(){return ag},QueryFieldFilterConstraint:function(){return Hm},QueryLimitConstraint:function(){return tg},QueryOrderByConstraint:function(){return Zm},QuerySnapshot:function(){return Sg},QueryStartAtConstraint:function(){return ig},SnapshotMetadata:function(){return Ig},Timestamp:function(){return Ti},Transaction:function(){return av},WriteBatch:function(){return sv},_AutoId:function(){return _i},_ByteString:function(){return Hs},_DatabaseId:function(){return ro},_DocumentKey:function(){return Ri},_EmptyAppCheckTokenProvider:function(){return yi},_EmptyAuthCredentialsProvider:function(){return di},_FieldPath:function(){return xi},_TestingHooks:function(){return Tv},_cast:function(){return xp},_debugAssert:function(){return si},_isBase64Available:function(){return Ks},_logWarn:function(){return ti},_validateIsNotUsedTogether:function(){return Cp},addDoc:function(){return Bg},aggregateFieldEqual:function(){return wg},aggregateQuerySnapshotEqual:function(){return Eg},and:function(){return Jm},arrayRemove:function(){return hv},arrayUnion:function(){return dv},average:function(){return bg},clearIndexedDbPersistence:function(){return em},collection:function(){return Fp},collectionGroup:function(){return Vp},connectFirestoreEmulator:function(){return Dp},count:function(){return _g},deleteAllPersistentCacheIndexes:function(){return wv},deleteDoc:function(){return Vg},deleteField:function(){return uv},disableNetwork:function(){return rm},disablePersistentCacheIndexAutoCreation:function(){return _v},doc:function(){return Bp},documentId:function(){return hm},enableIndexedDbPersistence:function(){return Yp},enableMultiTabIndexedDbPersistence:function(){return Jp},enableNetwork:function(){return nm},enablePersistentCacheIndexAutoCreation:function(){return bv},endAt:function(){return ug},endBefore:function(){return lg},ensureFirestoreConfigured:function(){return Xp},executeWrite:function(){return jg},getAggregateFromServer:function(){return qg},getCountFromServer:function(){return zg},getDoc:function(){return xg},getDocFromCache:function(){return Og},getDocFromServer:function(){return Ng},getDocs:function(){return Dg},getDocsFromCache:function(){return Pg},getDocsFromServer:function(){return Lg},getFirestore:function(){return Hp},getPersistentCacheIndexManager:function(){return yv},increment:function(){return fv},initializeFirestore:function(){return Kp},limit:function(){return ng},limitToLast:function(){return rg},loadBundle:function(){return sm},memoryEagerGarbageCollector:function(){return Qg},memoryLocalCache:function(){return Jg},memoryLruGarbageCollector:function(){return Yg},namedQuery:function(){return om},onSnapshot:function(){return Wg},onSnapshotsInSync:function(){return $g},or:function(){return Ym},orderBy:function(){return eg},persistentLocalCache:function(){return Zg},persistentMultipleTabManager:function(){return rv},persistentSingleTabManager:function(){return nv},query:function(){return Km},queryEqual:function(){return $p},refEqual:function(){return Wp},runTransaction:function(){return lv},serverTimestamp:function(){return cv},setDoc:function(){return Mg},setIndexConfiguration:function(){return mv},setLogLevel:function(){return Jr},snapshotEqual:function(){return Ag},startAfter:function(){return og},startAt:function(){return sg},sum:function(){return yg},terminate:function(){return im},updateDoc:function(){return Fg},waitForPendingWrites:function(){return tm},where:function(){return Xm},writeBatch:function(){return pv}});n(4114),n(7467),n(4732),n(9577),n(6280),n(7913),n(7801),n(4979);var r,i=n(3405),s=n(852),o=n(1363),a=n(4046),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={},c=c||{},d=l||self;function h(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function p(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++g)}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y,b.apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}var I=0;E.prototype.s=!1,E.prototype.sa=function(){this.s||(this.s=!0,this.N(),0==I)||p(this)},E.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function C(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(h(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function k(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};d.addEventListener("test",e,t),d.removeEventListener("test",e,t)}catch(n){}return e}();function x(e){return/^[\s\xa0]*$/.test(e)}function R(){var e=d.navigator;return e&&(e=e.userAgent)?e:""}function O(e){return-1!=R().indexOf(e)}function N(e){return N[" "](e),e}function D(e,t){var n=_r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}N[" "]=function(){};var P,L,M=O("Opera"),F=O("Trident")||O("MSIE"),V=O("Edge"),B=V||F,W=O("Gecko")&&!(-1!=R().toLowerCase().indexOf("webkit")&&!O("Edge"))&&!(O("Trident")||O("MSIE"))&&!O("Edge"),$=-1!=R().toLowerCase().indexOf("webkit")&&!O("Edge");function j(){var e=d.document;return e?e.documentMode:void 0}e:{var U="",z=function(){var e=R();return W?/rv:([^\);]+)(\)|;)/.exec(e):V?/Edge\/([\d\.]+)/.exec(e):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$?/WebKit\/(\S+)/.exec(e):M?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(z&&(U=z?z[1]:""),F){var q=j();if(null!=q&&q>parseFloat(U)){P=String(q);break e}}P=U}if(d.document&&F){var G=j();L=G||(parseInt(P,10)||void 0)}else L=void 0;var K=L;function H(e,t){if(k.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(W){e:{try{N(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:X[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.$.h.call(this)}}w(H,k);var X={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),Y=0;function J(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Y,this.fa=this.ia=!1}function Z(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ee(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function te(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function ne(e){const t={};for(const n in e)t[n]=e[n];return t}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<re.length;t++)n=re[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function se(e){this.src=e,this.g={},this.h=0}function oe(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=T(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ae(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}se.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=ae(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new J(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),ue={};function ce(e,t,n,r,i){if(r&&r.once)return fe(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ce(e,t[s],n,r,i);return null}return n=_e(n),e&&e[Q]?e.O(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!1,r,i)}function de(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i,a=ye(e);if(a||(e[le]=a=new se(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=he(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function he(){function e(n){return t.call(e.src,e.listener,n)}const t=ve;return e}function fe(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)fe(e,t[s],n,r,i);return null}return n=_e(n),e&&e[Q]?e.P(t,n,f(r)?!!r.capture:!!r,i):de(e,t,n,!0,r,i)}function pe(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)pe(e,t[s],n,r,i);else r=f(r)?!!r.capture:!!r,n=_e(n),e&&e[Q]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=ae(s,n,r,i),-1<n&&(Z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ye(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ae(t,n,r,i)),(n=-1<e?t[e]:null)&&me(n))}function me(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Q])oe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ye(t))?(oe(n,e),0==n.h&&(n.src=null,t[le]=null)):Z(e)}}}function ge(e){return e in ue?ue[e]:ue[e]="on"+e}function ve(e,t){if(e.fa)e=!0;else{t=new H(t,this);var n=e.listener,r=e.la||e.src;e.ia&&me(e),e=n.call(r,t)}return e}function ye(e){return e=e[le],e instanceof se?e:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(e){return"function"===typeof e?e:(e[be]||(e[be]=function(t){return e.handleEvent(t)}),e[be])}function we(){E.call(this),this.i=new se(this),this.S=this,this.J=null}function Ee(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new k(t,e);else if(t instanceof k)t.target=t.target||e;else{var i=t;t=new k(r,e),ie(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ie(o,r,!0,t)&&i}if(o=t.g=e,i=Ie(o,r,!0,t)&&i,i=Ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ie(o,r,!1,t)&&i}function Ie(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&oe(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}w(we,E),we.prototype[Q]=!0,we.prototype.removeEventListener=function(e,t,n,r){pe(this,e,t,n,r)},we.prototype.N=function(){if(we.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Z(n[r]);delete t.g[e],t.h--}}this.J=null},we.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},we.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Te=d.JSON.stringify;class Ce{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Se(){var e=Pe;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class ke{constructor(){this.h=this.g=null}add(e,t){const n=Ae.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var Ae=new Ce((()=>new xe),(e=>e.reset()));class xe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Re(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Oe(e){d.setTimeout((()=>{throw e}),0)}let Ne,De=!1,Pe=new ke,Le=()=>{const e=d.Promise.resolve(void 0);Ne=()=>{e.then(Me)}};var Me=()=>{for(var e;e=Se();){try{e.h.call(e.g)}catch(n){Oe(n)}var t=Ae;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}De=!1};function Fe(e,t){we.call(this),this.h=e||1,this.g=t||d,this.j=b(this.qb,this),this.l=Date.now()}function Ve(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Be(e,t,n){if("function"===typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function We(e){e.g=Be((()=>{e.g=null,e.i&&(e.i=!1,We(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}w(Fe,we),r=Fe.prototype,r.ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ee(this,"tick"),this.ga&&(Ve(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Fe.$.N.call(this),Ve(this),delete this.g};class $e extends E{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function je(e){E.call(this),this.h=e,this.g={}}w(je,E);var Ue=[];function ze(e,t,n,r){Array.isArray(n)||(n&&(Ue[0]=n.toString()),n=Ue);for(var i=0;i<n.length;i++){var s=ce(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function qe(e){ee(e.g,(function(e,t){this.g.hasOwnProperty(t)&&me(e)}),e),e.g={}}function Ge(){this.g=!0}function Ke(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}function He(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}function Xe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+Ye(e,n)+(r?" "+r:"")}))}function Qe(e,t){e.info((function(){return"TIMEOUT: "+t}))}function Ye(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Te(n)}catch(a){return t}}je.prototype.N=function(){je.$.N.call(this),qe(this)},je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ge.prototype.Ea=function(){this.g=!1},Ge.prototype.info=function(){};var Je={},Ze=null;function et(){return Ze=Ze||new we}function tt(e){k.call(this,Je.Ta,e)}function nt(e){const t=et();Ee(t,new tt(t))}function rt(e,t){k.call(this,Je.STAT_EVENT,e),this.stat=t}function it(e){const t=et();Ee(t,new rt(t,e))}function st(e,t){k.call(this,Je.Ua,e),this.size=t}function ot(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}Je.Ta="serverreachability",w(tt,k),Je.STAT_EVENT="statevent",w(rt,k),Je.Ua="timingevent",w(st,k);var at={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ut(){}function ct(e){return e.h||(e.h=e.i())}function dt(){}ut.prototype.h=null;var ht,ft={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pt(){k.call(this,"d")}function mt(){k.call(this,"c")}function gt(){}function vt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new je(this),this.P=bt,e=B?125:void 0,this.V=new Fe(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}w(pt,k),w(mt,k),w(gt,ut),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},ht=new gt;var bt=45e3,_t={},wt={};function Et(e,t,n){e.L=1,e.A=zt(Bt(t)),e.u=n,e.S=!0,It(e,null)}function It(e,t){e.G=Date.now(),kt(e),e.B=Bt(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),rn(n.i,"t",r),e.o=0,n=e.l.J,e.h=new yt,e.g=ur(e.l,n?t:null,!e.u),0<e.O&&(e.M=new $e(b(e.Pa,e,e.g),e.O)),ze(e.U,e.g,"readystatechange",e.nb),t=e.I?ne(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),nt(),Ke(e.j,e.v,e.B,e.m,e.W,e.u)}function Tt(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Ct(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=St(e,n),r==wt){4==t&&(e.s=4,it(14),i=!1),Xe(e.j,e.m,null,"[Incomplete Response]");break}if(r==_t){e.s=4,it(15),Xe(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xe(e.j,e.m,r,null),Nt(e,r)}Tt(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,it(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tr(t),t.M=!0,it(11))):(Xe(e.j,e.m,n,"[Invalid Chunked Response]"),Ot(e),Rt(e))}function St(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?wt:(n=Number(t.substring(n,r)),isNaN(n)?_t:(r+=1,r+n>t.length?wt:(t=t.slice(r,r+n),e.o=r+n,t)))}function kt(e){e.Y=Date.now()+e.P,At(e,e.P)}function At(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=ot(b(e.lb,e),t)}function xt(e){e.C&&(d.clearTimeout(e.C),e.C=null)}function Rt(e){0==e.l.H||e.J||ir(e.l,e)}function Ot(e){xt(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ve(e.V),qe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Nt(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||hn(n.i,e)))if(!e.K&&hn(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;rr(n),Gn(n)}er(n),it(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ot(b(n.ib,n),6e3));if(1>=dn(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else or(n,11)}else if((e.K||n.g==e)&&rr(n),!x(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(fn(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ut(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=lr(r,r.J?r.pa:null,r.Y),o.K){pn(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(xt(a),kt(a)),r.g=o}else Zn(r);0<n.j.length&&Hn(n)}else"stop"!=u[0]&&"close"!=u[0]||or(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?or(n,7):qn(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}nt(4)}catch(u){}}function Dt(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Pt(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(h(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Lt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=Pt(e),r=Dt(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}r=vt.prototype,r.setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==Vn(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const c=Vn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(3!=c||B||this.g&&(this.h.h||this.g.ja()||Bn(this.g)))){this.J||4!=c||7==t||nt(8==t||0>=h?3:2),xt(this);var n=this.g.da();this.ca=n;t:if(Tt(this)){var r=Bn(this.g);e="";var i=r.length,s=4==Vn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ot(this),Rt(this);var o="";break t}this.h.i=new d.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,He(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,it(12),Ot(this),Rt(this);break e}Xe(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nt(this,n)}this.S?(Ct(this,c,o),B&&this.i&&3==c&&(ze(this.U,this.V,"tick",this.mb),this.V.start())):(Xe(this.j,this.m,o,null),Nt(this,o)),4==c&&Ot(this),this.i&&!this.J&&(4==c?ir(this.l,this):(this.i=!1,kt(this)))}else Wn(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Ot(this),Rt(this)}}}catch(c){}},r.mb=function(){if(this.g){var e=Vn(this.g),t=this.g.ja();this.o<t.length&&(xt(this),Ct(this,e,t),this.i&&4!=e&&kt(this))}},r.cancel=function(){this.J=!0,Ot(this)},r.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Qe(this.j,this.B),2!=this.L&&(nt(),it(17)),Ot(this),this.s=2,Rt(this)):At(this,this.Y-e)};var Mt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ft(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vt(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Vt){this.h=e.h,Wt(this,e.j),this.s=e.s,this.g=e.g,$t(this,e.m),this.l=e.l;var t=e.i,n=new Zt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),jt(this,n),this.o=e.o}else e&&(t=String(e).match(Mt))?(this.h=!1,Wt(this,t[1]||"",!0),this.s=qt(t[2]||""),this.g=qt(t[3]||"",!0),$t(this,t[4]),this.l=qt(t[5]||"",!0),jt(this,t[6]||"",!0),this.o=qt(t[7]||"")):(this.h=!1,this.i=new Zt(null,this.h))}function Bt(e){return new Vt(e)}function Wt(e,t,n){e.j=n?qt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $t(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jt(e,t,n){t instanceof Zt?(e.i=t,on(e.i,e.h)):(n||(t=Gt(t,Yt)),e.i=new Zt(t,e.h))}function Ut(e,t,n){e.i.set(t,n)}function zt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kt(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Vt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gt(t,Ht,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gt(t,Ht,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?Qt:Xt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gt(n,Jt)),e.join("")};var Ht=/[#\/\?@]/g,Xt=/[#\?:]/g,Qt=/[#\?]/g,Yt=/[#\?@]/g,Jt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function en(e){e.g||(e.g=new Map,e.h=0,e.i&&Ft(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tn(e,t){en(e),t=sn(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function nn(e,t){return en(e),t=sn(e,t),e.g.has(t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.i=null,e.g.set(sn(e,t),C(n)),e.h+=n.length)}function sn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function on(e,t){t&&!e.j&&(en(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))}),e)),e.j=t}r=Zt.prototype,r.add=function(e,t){en(this),this.i=null,e=sn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){en(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.ta=function(){en(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){en(this);let t=[];if("string"===typeof e)nn(this,e)&&(t=t.concat(this.g.get(sn(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return en(this),this.i=null,e=sn(this,e),nn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var an=class{constructor(e,t){this.g=e,this.map=t}};function ln(e){this.l=e||un,d.PerformanceNavigationTiming?(e=d.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(d.g&&d.g.Ka&&d.g.Ka()&&d.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un=10;function cn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dn(e){return e.h?1:e.g?e.g.size:0}function hn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mn(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return C(e.i)}ln.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var gn=class{stringify(e){return d.JSON.stringify(e,void 0)}parse(e){return d.JSON.parse(e,void 0)}};function vn(){this.g=new gn}function yn(e,t,n){const r=n||"";try{Lt(e,(function(e,n){let i=e;f(e)&&(i=Te(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bn(e,t){const n=new Ge;if(d.Image){const r=new Image;r.onload=_(_n,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_(_n,n,r,"TestLoadImage: error",!1,t),r.onabort=_(_n,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_(_n,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function _n(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function wn(e){this.l=e.ec||null,this.j=e.ob||!1}function En(e,t){we.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=In,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}w(wn,ut),wn.prototype.g=function(){return new En(this.l,this.j)},wn.prototype.i=function(e){return function(){return e}}({}),w(En,we);var In=0;function Tn(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Cn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sn(e)}function Sn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}r=En.prototype,r.open=function(e,t){if(this.readyState!=In)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||d).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cn(this)),this.readyState=In},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tn(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cn(this):Sn(this),3==this.readyState&&Tn(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,Cn(this))},r.Ya=function(e){this.g&&(this.response=e,Cn(this))},r.ka=function(){this.g&&Cn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(En.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var kn=d.JSON.parse;function An(e){we.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xn,this.L=this.M=!1}w(An,we);var xn="",Rn=/^https?$/i,On=["POST","PUT"];function Nn(e){return F&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Dn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pn(e),Mn(e)}function Pn(e){e.F||(e.F=!0,Ee(e,"complete"),Ee(e,"error"))}function Ln(e){if(e.h&&"undefined"!=typeof c&&(!e.C[1]||4!=Vn(e)||2!=e.da()))if(e.v&&4==Vn(e))Be(e.La,0,e);else if(Ee(e,"readystatechange"),4==Vn(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Mt)[1]||null;!i&&d.self&&d.self.location&&(i=d.self.location.protocol.slice(0,-1)),r=!Rn.test(i?i.toLowerCase():"")}n=r}if(n)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var s=2<Vn(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Pn(e)}}finally{Mn(e)}}}function Mn(e,t){if(e.g){Fn(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ee(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Fn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function Vn(e){return e.g?e.g.readyState:0}function Bn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case xn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Qr){return null}}function Wn(e){const t={};e=(e.g&&2<=Vn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(x(e[r]))continue;var n=Re(e[r]);const i=n[0];if(n=n[1],"string"!==typeof n)continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}te(t,(function(e){return e.join(", ")}))}function $n(e){let t="";return ee(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$n(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ut(e,t,n))}function Un(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zn(e){this.Ga=0,this.j=[],this.l=new Ge,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Un("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Un("baseRetryDelayMs",5e3,e),this.hb=Un("retryDelaySeedMs",1e4,e),this.eb=Un("forwardChannelMaxRetries",2,e),this.xa=Un("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ln(e&&e.concurrentRequestLimit),this.Ja=new vn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qn(e){if(Kn(e),3==e.H){var t=e.W++,n=Bt(e.I);if(Ut(n,"SID",e.K),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Yn(e,n),t=new vt(e,e.l,t),t.L=2,t.A=zt(Bt(n)),n=!1,d.navigator&&d.navigator.sendBeacon)try{n=d.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&d.Image&&((new Image).src=t.A,n=!0),n||(t.g=ur(t.l,null),t.g.ha(t.A)),t.G=Date.now(),kt(t)}ar(e)}function Gn(e){e.g&&(tr(e),e.g.cancel(),e.g=null)}function Kn(e){Gn(e),e.u&&(d.clearTimeout(e.u),e.u=null),rr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&d.clearTimeout(e.m),e.m=null)}function Hn(e){if(!cn(e.i)&&!e.m){e.m=!0;var t=e.Na;Ne||Le(),De||(Ne(),De=!0),Pe.add(t,e),e.C=0}}function Xn(e,t){return!(dn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ot(b(e.Na,e,t),sr(e,e.C)),e.C++,!0))}function Qn(e,t){var n;n=t?t.m:e.W++;const r=Bt(e.I);Ut(r,"SID",e.K),Ut(r,"RID",n),Ut(r,"AID",e.V),Yn(e,r),e.o&&e.s&&jn(r,e.o,e.s),n=new vt(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Jn(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),fn(e.i,n),Et(n,r,t)}function Yn(e,t){e.na&&ee(e.na,(function(e,n){Ut(t,n,e)})),e.h&&Lt({},(function(e,n){Ut(t,n,e)}))}function Jn(e,t,n){n=Math.min(e.j.length,n);var r=e.h?b(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{yn(a,e,"req"+n+"_")}catch(ys){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Zn(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ne||Le(),De||(Ne(),De=!0),Pe.add(t,e),e.A=0}}function er(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ot(b(e.Ma,e),sr(e,e.A)),e.A++,!0)}function tr(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function nr(e){e.g=new vt(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Bt(e.wa);Ut(t,"RID","rpc"),Ut(t,"SID",e.K),Ut(t,"AID",e.V),Ut(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ut(t,"TO",e.qa),Ut(t,"TYPE","xmlhttp"),Yn(e,t),e.o&&e.s&&jn(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=zt(Bt(t)),n.u=null,n.S=!0,It(n,e)}function rr(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function ir(e,t){var n=null;if(e.g==t){rr(e),tr(e),e.g=null;var r=2}else{if(!hn(e.i,t))return;n=t.F,pn(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=et(),Ee(r,new st(r,n)),Hn(e)}else Zn(e);else if(i=t.s,3==i||0==i&&0<t.ca||!(1==r&&Xn(e,t)||2==r&&er(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:or(e,5);break;case 4:or(e,10);break;case 3:or(e,6);break;default:or(e,2)}}function sr(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function or(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=b(e.pb,e);n||(n=new Vt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Wt(n,"https"),zt(n)),bn(n.toString(),r)}else it(2);e.H=0,e.h&&e.h.za(t),ar(e),Kn(e)}function ar(e){if(e.H=0,e.ma=[],e.h){const t=mn(e.i);0==t.length&&0==e.j.length||(S(e.ma,t),S(e.ma,e.j),e.i.i.length=0,C(e.j),e.j.length=0),e.h.ya()}}function lr(e,t,n){var r=n instanceof Vt?Bt(n):new Vt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),$t(r,r.m);else{var i=d.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Vt(null);r&&Wt(s,r),t&&(s.g=t),i&&$t(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Ut(r,n,t),Ut(r,"VER",e.ra),Yn(e,r),r}function ur(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new An(new wn({ob:n})):new An(e.va),t.Oa(e.J),t}function cr(){}function dr(){if(F&&!(10<=Number(K)))throw Error("Environmental error: no available transport.")}function hr(e,t){we.call(this),this.g=new zn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!x(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x(t)&&(this.g.F=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new mr(this)}function fr(e){pt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function pr(){mt.call(this),this.status=1}function mr(e){this.g=e}function gr(){this.blockSize=-1}function vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yr(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function br(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}r=An.prototype,r.Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ht.g(),this.C=this.u?ct(this.u):ct(ht),this.g.onreadystatechange=b(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Dn(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=d.FormData&&e instanceof d.FormData,!(0<=T(On,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fn(this),0<this.B&&((this.L=Nn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.ua,this)):this.A=Be(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dn(this,s)}},r.ua=function(){"undefined"!=typeof c&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),Mn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mn(this,!0)),An.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?Ln(this):this.kb())},r.kb=function(){Ln(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<Vn(this)?this.g.status:-1}catch(e){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),kn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},r=zn.prototype,r.ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new vt(this,this.l,e);let s=this.s;if(this.U&&(s?(s=ne(s),ie(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(r="__data__"in r.map&&(r=r.map.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(t+=r,4096<t){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jn(this,i,t),n=Bt(this.I),Ut(n,"RID",e),Ut(n,"CVER",22),this.F&&Ut(n,"X-HTTP-Session-Id",this.F),Yn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String($n(s)))+"&"+t:this.o&&jn(n,this.o,s)),fn(this.i,i),this.bb&&Ut(n,"TYPE","init"),this.P?(Ut(n,"$req",t),Ut(n,"SID","null"),i.aa=!0,Et(i,n,null)):Et(i,n,t),this.H=2}}else 3==this.H&&(e?Qn(this,e):0==this.j.length||cn(this.i)||Qn(this))},r.Ma=function(){if(this.u=null,nr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ot(b(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,it(10),Gn(this),nr(this))},r.ib=function(){null!=this.v&&(this.v=null,Gn(this),er(this),it(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),it(2)):(this.l.info("Failed to ping google.com"),it(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},r=cr.prototype,r.Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},dr.prototype.g=function(e,t){return new hr(e,t)},w(hr,we),hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;it(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=lr(e,null,e.Y),Hn(e)},hr.prototype.close=function(){qn(this.g)},hr.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Te(e),e=n);t.j.push(new an(t.fb++,e)),3==t.H&&Hn(t)},hr.prototype.N=function(){this.g.h=null,delete this.j,qn(this.g),delete this.g,hr.$.N.call(this)},w(fr,pt),w(pr,mt),w(mr,cr),mr.prototype.Ba=function(){Ee(this.g,"a")},mr.prototype.Aa=function(e){Ee(this.g,new fr(e))},mr.prototype.za=function(e){Ee(this.g,new pr)},mr.prototype.ya=function(){Ee(this.g,"b")},w(vr,gr),vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vr.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)yr(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){yr(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){yr(this,r),i=0;break}}this.h=i,this.i+=t},vr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var _r={};function wr(e){return-128<=e&&128>e?D(e,(function(e){return new br([0|e],0>e?-1:0)})):new br([0|e],0>e?-1:0)}function Er(e){if(isNaN(e)||!isFinite(e))return Cr;if(0>e)return Rr(Er(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Tr;return new br(t,0)}function Ir(e,t){if(0==e.length)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return Rr(Ir(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Er(Math.pow(t,8)),r=Cr,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Er(Math.pow(t,s)),r=r.R(s).add(Er(o))):(r=r.R(n),r=r.add(Er(o)))}return r}var Tr=4294967296,Cr=wr(0),Sr=wr(1),kr=wr(16777216);function Ar(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function xr(e){return-1==e.h}function Rr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new br(n,~e.h).add(Sr)}function Or(e,t){return e.add(Rr(t))}function Nr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Dr(e,t){this.g=e,this.h=t}function Pr(e,t){if(Ar(t))throw Error("division by zero");if(Ar(e))return new Dr(Cr,Cr);if(xr(e))return t=Pr(Rr(e),t),new Dr(Rr(t.g),Rr(t.h));if(xr(t))return t=Pr(e,Rr(t)),new Dr(Rr(t.g),t.h);if(30<e.g.length){if(xr(e)||xr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Sr,r=t;0>=r.X(e);)n=Lr(n),r=Lr(r);var i=Mr(n,1),s=Mr(r,1);for(r=Mr(r,2),n=Mr(n,2);!Ar(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Mr(r,1),n=Mr(n,1)}return t=Or(e,i.R(t)),new Dr(i,t)}for(i=Cr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Er(n),o=s.R(t);xr(o)||0<o.X(e);)n-=r,s=Er(n),o=s.R(t);Ar(s)&&(s=Sr),i=i.add(s),e=Or(e,o)}return new Dr(i,e)}function Lr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new br(n,e.h)}function Mr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new br(i,e.h)}r=br.prototype,r.ea=function(){if(xr(this))return-Rr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Tr+r)*t,t*=Tr}return e},r.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Ar(this))return"0";if(xr(this))return"-"+Rr(this).toString(e);for(var t=Er(Math.pow(e,6)),n=this,r="";;){var i=Pr(n,t).g;n=Or(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Ar(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return e=Or(this,e),xr(e)?-1:Ar(e)?0:1},r.abs=function(){return xr(this)?Rr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new br(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(Ar(this)||Ar(e))return Cr;if(xr(this))return xr(e)?Rr(this).R(Rr(e)):Rr(Rr(this).R(e));if(xr(e))return Rr(this.R(Rr(e)));if(0>this.X(kr)&&0>e.X(kr))return Er(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Nr(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Nr(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Nr(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Nr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new br(n,0)},r.gb=function(e){return Pr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new br(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new br(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new br(n,this.h^e.h)},dr.prototype.createWebChannel=dr.prototype.g,hr.prototype.send=hr.prototype.u,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,lt.COMPLETE="complete",dt.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",we.prototype.listen=we.prototype.O,An.prototype.listenOnce=An.prototype.P,An.prototype.getLastError=An.prototype.Sa,An.prototype.getLastErrorCode=An.prototype.Ia,An.prototype.getStatus=An.prototype.da,An.prototype.getResponseJson=An.prototype.Wa,An.prototype.getResponseText=An.prototype.ja,An.prototype.send=An.prototype.ha,An.prototype.setWithCredentials=An.prototype.Oa,vr.prototype.digest=vr.prototype.l,vr.prototype.reset=vr.prototype.reset,vr.prototype.update=vr.prototype.j,br.prototype.add=br.prototype.add,br.prototype.multiply=br.prototype.R,br.prototype.modulo=br.prototype.gb,br.prototype.compare=br.prototype.X,br.prototype.toNumber=br.prototype.ea,br.prototype.toString=br.prototype.toString,br.prototype.getBits=br.prototype.D,br.fromNumber=Er,br.fromString=Ir;var Fr=u.createWebChannelTransport=function(){return new dr},Vr=u.getStatEventTarget=function(){return et()},Br=u.ErrorCode=at,Wr=u.EventType=lt,$r=u.Event=Je,jr=u.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ur=(u.FetchXmlHttpFactory=wn,u.WebChannel=dt),zr=u.XhrIo=An,qr=u.Md5=vr,Gr=u.Integer=br;const Kr="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Xr="10.8.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new o.Vy("@firebase/firestore");function Yr(){return Qr.logLevel}function Jr(e){Qr.setLogLevel(e)}function Zr(e,...t){if(Qr.logLevel<=o.$b.DEBUG){const n=t.map(ni);Qr.debug(`Firestore (${Xr}): ${e}`,...n)}}function ei(e,...t){if(Qr.logLevel<=o.$b.ERROR){const n=t.map(ni);Qr.error(`Firestore (${Xr}): ${e}`,...n)}}function ti(e,...t){if(Qr.logLevel<=o.$b.WARN){const n=t.map(ni);Qr.warn(`Firestore (${Xr}): ${e}`,...n)}}function ni(e){if("string"==typeof e)return e;try{
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(e="Unexpected state"){const t=`FIRESTORE (${Xr}) INTERNAL ASSERTION FAILED: `+e;throw ei(t),new Error(t)}function ii(e,t){e||ri()}function si(e,t){e||ri()}function oi(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class li extends a.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class di{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Hr.UNAUTHENTICATED)))}shutdown(){}}class hi{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fi{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ui,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Zr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Zr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ui)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Zr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ii("string"==typeof t.accessToken),new ci(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ii(null===e||"string"==typeof e),new Hr(e)}}class pi{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mi{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new pi(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Zr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Zr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Zr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Zr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ii("string"==typeof e.token),this.R=e.token,new gi(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class yi{getToken(){return Promise.resolve(new gi(""))}invalidateToken(){}start(e,t){}shutdown(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=bi(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function wi(e,t){return e<t?-1:e>t?1:0}function Ei(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ii(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new li(ai.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new li(ai.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new li(ai.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new li(ai.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ti(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wi(this.nanoseconds,e.nanoseconds):wi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ci(e)}static min(){return new Ci(new Ti(0,0))}static max(){return new Ci(new Ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,n){void 0===t?t=0:t>e.length&&ri(),void 0===n?n=e.length-t:n>e.length-t&&ri(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Si.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ki extends Si{construct(e,t,n){return new ki(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new li(ai.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new ki(t)}static emptyPath(){return new ki([])}}const Ai=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Si{construct(e,t,n){return new xi(e,t,n)}static isValidIdentifier(e){return Ai.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new li(ai.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new li(ai.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new li(ai.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new li(ai.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.path=e}static fromPath(e){return new Ri(ki.fromString(e))}static fromName(e){return new Ri(ki.fromString(e).popFirst(5))}static empty(){return new Ri(ki.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ki.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ki.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ri(new ki(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ni(e){return e.fields.find((e=>2===e.kind))}function Di(e){return e.fields.filter((e=>2!==e.kind))}function Pi(e,t){let n=wi(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=Mi(e.fields[r],t.fields[r]),0!==n)return n;return wi(e.fields.length,t.fields.length)}Oi.UNKNOWN_ID=-1;class Li{constructor(e,t){this.fieldPath=e,this.kind=t}}function Mi(e,t){const n=xi.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:wi(e.kind,t.kind)}class Fi{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Fi(0,Wi.min())}}function Vi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ci.fromTimestamp(1e9===r?new Ti(n+1,0):new Ti(n,r));return new Wi(i,Ri.empty(),t)}function Bi(e){return new Wi(e.readTime,e.key,-1)}class Wi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Wi(Ci.min(),Ri.empty(),-1)}static max(){return new Wi(Ci.max(),Ri.empty(),-1)}}function $i(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ri.comparator(e.documentKey,t.documentKey),0!==n?n:wi(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}const ji="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ui{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(e){if(e.code!==ai.FAILED_PRECONDITION||e.message!==ji)throw e;Zr("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ri(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qi(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof qi?t:qi.resolve(t)}catch(e){return qi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):qi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):qi.reject(t)}static resolve(e){return new qi(((t,n)=>{t(e)}))}static reject(e){return new qi(((t,n)=>{n(e)}))}static waitFor(e){return new qi(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=qi.resolve(!1);for(const n of e)t=t.next((e=>e?qi.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new qi(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new qi(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ui,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Xi(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=es(t.target.error);this.V.reject(new Xi(e,n))}}static open(e,t,n,r){try{return new Gi(t,e.transaction(r,n))}catch(e){throw new Xi(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Zr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Yi(t)}}class Ki{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Ki.S((0,a.ZQ)())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Zr("SimpleDb","Removing database:",e),Ji(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a.zW)())return!1;if(Ki.C())return!0;const e=(0,a.ZQ)(),t=Ki.S(e),n=0<t&&t<10,r=Ki.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Zr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Xi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new li(ai.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new li(ai.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Xi(e,r))},r.onupgradeneeded=e=>{Zr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Zr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Gi.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),qi.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Zr("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Hi{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ji(this.k.delete())}}class Xi extends li{constructor(e,t){super(ai.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qi(e){return"IndexedDbTransactionError"===e.name}class Yi{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Zr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ji(n)}add(e){return Zr("SimpleDb","ADD",this.store.name,e,e),Ji(this.store.add(e))}get(e){return Ji(this.store.get(e)).next((t=>(void 0===t&&(t=null),Zr("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Zr("SimpleDb","DELETE",this.store.name,e),Ji(this.store.delete(e))}count(){return Zr("SimpleDb","COUNT",this.store.name),Ji(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new qi(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new qi(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Zr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new qi(((n,r)=>{t.onerror=e=>{const t=es(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new qi(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Hi(i),o=t(i.primaryKey,i.value,s);if(o instanceof qi){const e=o.catch((e=>(s.done(),qi.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>qi.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ji(e){return new qi(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=es(e.target.error);n(t)}}))}let Zi=!1;function es(e){const t=Ki.S((0,a.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new li("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zi||(Zi=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ts{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Zr("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Zr("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(e){Qi(e)?Zr("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await zi(e)}await this.ee(6e4)}))}}class ns{constructor(e,t){this.localStore=e,this.persistence=t}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return qi.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Zr("IndexBackfiller",`Processing collection: ${t}`),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Zr("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Bi(t);$i(r,n)>0&&(n=r)})),new Wi(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function is(e){return null==e}function ss(e){return 0===e&&1/e==-1/0}function os(e){return"number"==typeof e&&Number.isInteger(e)&&!ss(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=us(t)),t=ls(e.get(n),t);return us(t)}function ls(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function us(e){return e+""}function cs(e){const t=e.length;if(ii(t>=2),2===t)return ii(""===e.charAt(0)&&""===e.charAt(1)),ki.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&ri(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:ri()}s=t+2}return new ki(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs._e=-1;const ds=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e,t){return[e,as(t)]}function fs(e,t,n){return[e,as(t),n]}const ps={},ms=["prefixPath","collectionGroup","readTime","documentId"],gs=["prefixPath","collectionGroup","documentId"],vs=["collectionGroup","readTime","prefixPath","documentId"],ys=["canonicalId","targetId"],bs=["targetId","path"],_s=["path","targetId"],ws=["collectionId","parent"],Es=["indexId","uid"],Is=["uid","sequenceNumber"],Ts=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cs=["indexId","uid","orderedDocumentKey"],Ss=["userId","collectionPath","documentId"],ks=["userId","collectionPath","largestBatchId"],As=["userId","collectionGroup","largestBatchId"],xs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rs=[...xs,"documentOverlays"],Os=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ns=Os,Ds=[...Ns,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ui{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ls(e,t){const n=oi(e);return Ki.M(n.ae,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Vs(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.comparator=e,this.root=t||$s.EMPTY}insert(e,t){return new Bs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new Bs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ws(this.root,e,this.comparator,!0)}}class Ws{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $s{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:$s.RED,this.left=null!=r?r:$s.EMPTY,this.right=null!=i?i:$s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new $s(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $s.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ri();if(this.right.isRed())throw ri();const e=this.left.check();if(e!==this.right.check())throw ri();return e+(this.isRed()?0:1)}}$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1,$s.EMPTY=new class{constructor(){this.size=0}get key(){throw ri()}get value(){throw ri()}get color(){throw ri()}get left(){throw ri()}get right(){throw ri()}copy(e,t,n,r,i){return this}insert(e,t,n){return new $s(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class js{constructor(e){this.comparator=e,this.data=new Bs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Us(this.data.getIterator())}getIteratorFrom(e){return new Us(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof js))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new js(this.comparator);return t.data=e,t}}class Us{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zs(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new qs([])}unionWith(e){let t=new js(xi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ei(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Gs("Invalid base64 string: "+e):e}}(e);return new Hs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hs.EMPTY_BYTE_STRING=new Hs("");const Xs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(e){if(ii(!!e),"string"==typeof e){let t=0;const n=Xs.exec(e);if(ii(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ys(e.seconds),nanos:Ys(e.nanos)}}function Ys(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Js(e){return"string"==typeof e?Hs.fromBase64String(e):Hs.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function eo(e){const t=e.mapValue.fields.__previous_value__;return Zs(t)?eo(t):t}function to(e){const t=Qs(e.mapValue.fields.__local_write_time__.timestampValue);return new Ti(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class ro{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ro("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},so={nullValue:"NULL_VALUE"};function oo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zs(e)?4:Eo(e)?9007199254740991:10:ri()}function ao(e,t){if(e===t)return!0;const n=oo(e);if(n!==oo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return to(e).isEqual(to(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Qs(e.timestampValue),r=Qs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Js(e.bytesValue).isEqual(Js(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ys(e.geoPointValue.latitude)===Ys(t.geoPointValue.latitude)&&Ys(e.geoPointValue.longitude)===Ys(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ys(e.integerValue)===Ys(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ys(e.doubleValue),r=Ys(t.doubleValue);return n===r?ss(n)===ss(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ei(e.arrayValue.values||[],t.arrayValue.values||[],ao);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ms(n)!==Ms(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ao(n[i],r[i])))return!1;return!0}(e,t);default:return ri()}}function lo(e,t){return void 0!==(e.values||[]).find((e=>ao(e,t)))}function uo(e,t){if(e===t)return 0;const n=oo(e),r=oo(t);if(n!==r)return wi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ys(e.integerValue||e.doubleValue),r=Ys(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return co(e.timestampValue,t.timestampValue);case 4:return co(to(e),to(t));case 5:return wi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Js(e),r=Js(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=wi(n[i],r[i]);if(0!==e)return e}return wi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=wi(Ys(e.latitude),Ys(t.latitude));return 0!==n?n:wi(Ys(e.longitude),Ys(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=uo(n[i],r[i]);if(e)return e}return wi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===io.mapValue&&t===io.mapValue)return 0;if(e===io.mapValue)return 1;if(t===io.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=wi(r[o],s[o]);if(0!==e)return e;const t=uo(n[r[o]],i[s[o]]);if(0!==t)return t}return wi(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ri()}}function co(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return wi(e,t);const n=Qs(e),r=Qs(t),i=wi(n.seconds,r.seconds);return 0!==i?i:wi(n.nanos,r.nanos)}function ho(e){return fo(e)}function fo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Qs(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Js(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ri.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=fo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${fo(e.fields[i])}`;return n+"}"}(e.mapValue):ri()}function po(e){switch(oo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=eo(e);return t?16+po(t):16;case 5:return 2*e.stringValue.length;case 6:return Js(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+po(t)),0)}(e.arrayValue);case 10:return function(e){let t=0;return Fs(e.fields,((e,n)=>{t+=e.length+po(n)})),t}(e.mapValue);default:throw ri()}}function mo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function go(e){return!!e&&"integerValue"in e}function vo(e){return!!e&&"arrayValue"in e}function yo(e){return!!e&&"nullValue"in e}function bo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _o(e){return!!e&&"mapValue"in e}function wo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Fs(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=wo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Eo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Io(e){return"nullValue"in e?so:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?mo(ro.empty(),Ri.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ri()}function To(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?mo(ro.empty(),Ri.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?io:ri()}function Co(e,t){const n=uo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function So(e,t){const n=uo(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.value=e}static empty(){return new ko({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!_o(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(t)}setAll(e){let t=xi.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=wo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());_o(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];_o(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Fs(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ko(wo(this.value))}}function Ao(e){const t=[];return Fs(e.fields,((e,n)=>{const r=new xi([e]);if(_o(n)){const e=Ao(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new qs(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class xo{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new xo(e,0,Ci.min(),Ci.min(),Ci.min(),ko.empty(),0)}static newFoundDocument(e,t,n,r){return new xo(e,1,t,Ci.min(),n,r,0)}static newNoDocument(e,t){return new xo(e,2,t,Ci.min(),Ci.min(),ko.empty(),0)}static newUnknownDocument(e,t){return new xo(e,3,t,Ci.min(),Ci.min(),ko.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ci.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ko.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ko.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ci.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t){this.position=e,this.inclusive=t}}function Oo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Ri.comparator(Ri.fromName(o.referenceValue),n.key):uo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function No(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ao(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t="asc"){this.field=e,this.dir=t}}function Po(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{}class Mo extends Lo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Go(e,t,n):"array-contains"===t?new Qo(e,n):"in"===t?new Yo(e,n):"not-in"===t?new Jo(e,n):"array-contains-any"===t?new Zo(e,n):new Mo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ko(e,n):new Ho(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(uo(t,this.value)):null!==t&&oo(this.value)===oo(t)&&this.matchesComparison(uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ri()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fo extends Lo{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Fo(e,t)}matches(e){return Vo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Vo(e){return"and"===e.op}function Bo(e){return"or"===e.op}function Wo(e){return $o(e)&&Vo(e)}function $o(e){for(const t of e.filters)if(t instanceof Fo)return!1;return!0}function jo(e){if(e instanceof Mo)return e.field.canonicalString()+e.op.toString()+ho(e.value);if(Wo(e))return e.filters.map((e=>jo(e))).join(",");{const t=e.filters.map((e=>jo(e))).join(",");return`${e.op}(${t})`}}function Uo(e,t){return e instanceof Mo?function(e,t){return t instanceof Mo&&e.op===t.op&&e.field.isEqual(t.field)&&ao(e.value,t.value)}(e,t):e instanceof Fo?function(e,t){return t instanceof Fo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Uo(n,t.filters[r])),!0)}(e,t):void ri()}function zo(e,t){const n=e.filters.concat(t);return Fo.create(n,e.op)}function qo(e){return e instanceof Mo?function(e){return`${e.field.canonicalString()} ${e.op} ${ho(e.value)}`}(e):e instanceof Fo?function(e){return e.op.toString()+" {"+e.getFilters().map(qo).join(" ,")+"}"}(e):"Filter"}class Go extends Mo{constructor(e,t,n){super(e,t,n),this.key=Ri.fromName(n.referenceValue)}matches(e){const t=Ri.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ko extends Mo{constructor(e,t){super(e,"in",t),this.keys=Xo("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ho extends Mo{constructor(e,t){super(e,"not-in",t),this.keys=Xo("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Xo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ri.fromName(e.referenceValue)))}class Qo extends Mo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vo(t)&&lo(t.arrayValue,this.value)}}class Yo extends Mo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lo(this.value.arrayValue,t)}}class Jo extends Mo{constructor(e,t){super(e,"not-in",t)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lo(this.value.arrayValue,t)}}class Zo extends Mo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>lo(this.value.arrayValue,e)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function ta(e,t=null,n=[],r=[],i=null,s=null,o=null){return new ea(e,t,n,r,i,s,o)}function na(e){const t=oi(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>jo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),is(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ho(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ho(e))).join(",")),t.ce=e}return t.ce}function ra(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Po(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Uo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!No(e.startAt,t.startAt)&&No(e.endAt,t.endAt)}function ia(e){return Ri.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function sa(e,t){return e.filters.filter((e=>e instanceof Mo&&e.field.isEqual(t)))}function oa(e,t,n){let r=so,i=!0;for(const s of sa(e,t)){let e=so,t=!0;switch(s.op){case"<":case"<=":e=Io(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=so}Co({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Co({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function aa(e,t,n){let r=io,i=!0;for(const s of sa(e,t)){let e=io,t=!0;switch(s.op){case">=":case">":e=To(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=io}So({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];So({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ua(e,t,n,r,i,s,o,a){return new la(e,t,n,r,i,s,o,a)}function ca(e){return new la(e)}function da(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ha(e){return null!==e.collectionGroup}function fa(e){const t=oi(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new js(xi.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Do(r,n))})),e.has(xi.keyField().canonicalString())||t.le.push(new Do(xi.keyField(),n))}return t.le}function pa(e){const t=oi(e);return t.he||(t.he=ma(t,fa(e))),t.he}function ma(e,t){if("F"===e.limitType)return ta(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Do(e.field,t)}));const n=e.endAt?new Ro(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ro(e.startAt.position,e.startAt.inclusive):null;return ta(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ga(e,t){const n=e.filters.concat([t]);return new la(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function va(e,t,n){return new la(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ya(e,t){return ra(pa(e),pa(t))&&e.limitType===t.limitType}function ba(e){return`${na(pa(e))}|lt:${e.limitType}`}function _a(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>qo(e))).join(", ")}]`),is(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ho(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ho(e))).join(",")),`Target(${t})`}(pa(e))}; limitType=${e.limitType})`}function wa(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ri.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fa(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Oo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fa(e),t))&&!(e.endAt&&!function(e,t,n){const r=Oo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fa(e),t))}(e,t)}function Ea(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ia(e){return(t,n)=>{let r=!1;for(const i of fa(e)){const e=Ta(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ta(e,t,n){const r=e.field.isKeyField()?Ri.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?uo(r,i):ri()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ri()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Vs(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Bs(Ri.comparator);function ka(){return Sa}const Aa=new Bs(Ri.comparator);function xa(...e){let t=Aa;for(const n of e)t=t.insert(n.key,n);return t}function Ra(e){let t=Aa;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Oa(){return Da()}function Na(){return Da()}function Da(){return new Ca((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Pa=new Bs(Ri.comparator),La=new js(Ri.comparator);function Ma(...e){let t=La;for(const n of e)t=t.add(n);return t}const Fa=new js(wi);function Va(){return Fa}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ss(t)?"-0":t}}function Wa(e){return{integerValue:""+e}}function $a(e,t){return os(t)?Wa(t):Ba(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this._=void 0}}function Ua(e,t,n){return e instanceof Ga?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Zs(t)&&(t=eo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ka?Ha(e,t):e instanceof Xa?Qa(e,t):function(e,t){const n=qa(e,t),r=Ja(n)+Ja(e.Ie);return go(n)&&go(e.Ie)?Wa(r):Ba(e.serializer,r)}(e,t)}function za(e,t,n){return e instanceof Ka?Ha(e,t):e instanceof Xa?Qa(e,t):n}function qa(e,t){return e instanceof Ya?function(e){return go(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ga extends ja{}class Ka extends ja{constructor(e){super(),this.elements=e}}function Ha(e,t){const n=Za(t);for(const r of e.elements)n.some((e=>ao(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Xa extends ja{constructor(e){super(),this.elements=e}}function Qa(e,t){let n=Za(t);for(const r of e.elements)n=n.filter((e=>!ao(e,r)));return{arrayValue:{values:n}}}class Ya extends ja{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ja(e){return Ys(e.integerValue||e.doubleValue)}function Za(e){return vo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t){this.field=e,this.transform=t}}function tl(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ka&&t instanceof Ka||e instanceof Xa&&t instanceof Xa?Ei(e.elements,t.elements,ao):e instanceof Ya&&t instanceof Ya?ao(e.Ie,t.Ie):e instanceof Ga&&t instanceof Ga}(e.transform,t.transform)}class nl{constructor(e,t){this.version=e,this.transformResults=t}}class rl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rl}static exists(e){return new rl(void 0,e)}static updateTime(e){return new rl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function il(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class sl{}function ol(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gl(e.key,rl.none()):new dl(e.key,e.data,rl.none());{const n=e.data,r=ko.empty();let i=new js(xi.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new hl(e.key,r,new qs(i.toArray()),rl.none())}}function al(e,t,n){e instanceof dl?function(e,t,n){const r=e.value.clone(),i=pl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hl?function(e,t,n){if(!il(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=pl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ll(e,t,n,r){return e instanceof dl?function(e,t,n,r){if(!il(e.precondition,t))return n;const i=e.value.clone(),s=ml(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hl?function(e,t,n,r){if(!il(e.precondition,t))return n;const i=ml(e.fieldTransforms,r,t),s=t.data;return s.setAll(fl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return il(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ul(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=qa(r.transform,e||null);null!=i&&(null===n&&(n=ko.empty()),n.set(r.field,i))}return n||null}function cl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ei(e,t,((e,t)=>tl(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dl extends sl{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hl extends sl{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function pl(e,t,n){const r=new Map;ii(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,za(o,a,n[i]))}return r}function ml(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Ua(e,s,t))}return r}class gl extends sl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vl extends sl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&al(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ll(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ll(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Na();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=ol(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Ci.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ma())}isEqual(e){return this.batchId===e.batchId&&Ei(this.mutations,e.mutations,((e,t)=>cl(e,t)))&&Ei(this.baseMutations,e.baseMutations,((e,t)=>cl(e,t)))}}class bl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ii(e.mutations.length===n.length);let r=function(){return Pa}();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new bl(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Il,Tl;function Cl(e){switch(e){default:return ri();case ai.CANCELLED:case ai.UNKNOWN:case ai.DEADLINE_EXCEEDED:case ai.RESOURCE_EXHAUSTED:case ai.INTERNAL:case ai.UNAVAILABLE:case ai.UNAUTHENTICATED:return!1;case ai.INVALID_ARGUMENT:case ai.NOT_FOUND:case ai.ALREADY_EXISTS:case ai.PERMISSION_DENIED:case ai.FAILED_PRECONDITION:case ai.ABORTED:case ai.OUT_OF_RANGE:case ai.UNIMPLEMENTED:case ai.DATA_LOSS:return!0}}function Sl(e){if(void 0===e)return ei("GRPC error has no .code"),ai.UNKNOWN;switch(e){case Il.OK:return ai.OK;case Il.CANCELLED:return ai.CANCELLED;case Il.UNKNOWN:return ai.UNKNOWN;case Il.DEADLINE_EXCEEDED:return ai.DEADLINE_EXCEEDED;case Il.RESOURCE_EXHAUSTED:return ai.RESOURCE_EXHAUSTED;case Il.INTERNAL:return ai.INTERNAL;case Il.UNAVAILABLE:return ai.UNAVAILABLE;case Il.UNAUTHENTICATED:return ai.UNAUTHENTICATED;case Il.INVALID_ARGUMENT:return ai.INVALID_ARGUMENT;case Il.NOT_FOUND:return ai.NOT_FOUND;case Il.ALREADY_EXISTS:return ai.ALREADY_EXISTS;case Il.PERMISSION_DENIED:return ai.PERMISSION_DENIED;case Il.FAILED_PRECONDITION:return ai.FAILED_PRECONDITION;case Il.ABORTED:return ai.ABORTED;case Il.OUT_OF_RANGE:return ai.OUT_OF_RANGE;case Il.UNIMPLEMENTED:return ai.UNIMPLEMENTED;case Il.DATA_LOSS:return ai.DATA_LOSS;default:return ri()}}(Tl=Il||(Il={}))[Tl.OK=0]="OK",Tl[Tl.CANCELLED=1]="CANCELLED",Tl[Tl.UNKNOWN=2]="UNKNOWN",Tl[Tl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tl[Tl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tl[Tl.NOT_FOUND=5]="NOT_FOUND",Tl[Tl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tl[Tl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tl[Tl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tl[Tl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tl[Tl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tl[Tl.ABORTED=10]="ABORTED",Tl[Tl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tl[Tl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tl[Tl.INTERNAL=13]="INTERNAL",Tl[Tl.UNAVAILABLE=14]="UNAVAILABLE",Tl[Tl.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let kl=null;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(){return new TextEncoder}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Gr([4294967295,4294967295],0);function Rl(e){const t=Al().encode(e),n=new qr;return n.update(t),new Uint8Array(n.digest())}function Ol(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Gr([n,r],0),new Gr([i,s],0)]}class Nl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Dl(`Invalid padding: ${t}`);if(n<0)throw new Dl(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Dl(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Dl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Gr.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Gr.fromNumber(n)));return 1===r.compare(xl)&&(r=new Gr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Rl(e),[n,r]=Ol(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Nl(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Rl(e),[n,r]=Ol(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Pl(Ci.min(),r,new Bs(wi),ka(),Ma())}}class Ll{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ll(n,t,Ma(),Ma(),Ma())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Fl{constructor(e,t){this.targetId=e,this.fe=t}}class Vl{constructor(e,t,n=Hs.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Bl{constructor(){this.ge=0,this.pe=jl(),this.ye=Hs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ma(),t=Ma(),n=Ma();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ri()}})),new Ll(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=jl()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ii(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Wl{constructor(e){this.Le=e,this.ke=new Map,this.qe=ka(),this.Qe=$l(),this.Ke=new Bs(wi)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:ri()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(ia(i))if(0===n){const e=new Ri(i.path);this.We(t,e,xo.newNoDocument(e,Ci.min()))}else ii(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==kl||kl.tt(function(e,t,n,r,i){var s,o,a,l,u,c;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Js(n).toUint8Array()}catch(e){if(e instanceof Gs)return ti("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Nl(s,r,i)}catch(e){return ti(e instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&ia(i.target)){const t=new Ri(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,xo.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Ma();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Pl(e,t,this.Ke,this.qe,n);return this.qe=ka(),this.Qe=$l(),this.Ke=new Bs(wi),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Bl,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new js(wi),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Zr("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Bl),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function $l(){return new Bs(Ri.comparator)}function jl(){return new Bs(Ri.comparator)}const Ul=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),zl=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})(),ql=(()=>{const e={and:"AND",or:"OR"};return e})();class Gl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kl(e,t){return e.useProto3Json||is(t)?t:{value:t}}function Hl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ql(e,t){return Hl(e,t.toTimestamp())}function Yl(e){return ii(!!e),Ci.fromTimestamp(function(e){const t=Qs(e);return new Ti(t.seconds,t.nanos)}(e))}function Jl(e,t){return Zl(e,t).canonicalString()}function Zl(e,t){const n=function(e){return new ki(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function eu(e){const t=ki.fromString(e);return ii(Su(t)),t}function tu(e,t){return Jl(e.databaseId,t.path)}function nu(e,t){const n=eu(t);if(n.get(1)!==e.databaseId.projectId)throw new li(ai.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new li(ai.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ri(ou(n))}function ru(e,t){return Jl(e.databaseId,t)}function iu(e){const t=eu(e);return 4===t.length?ki.emptyPath():ou(t)}function su(e){return new ki(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ou(e){return ii(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function au(e,t,n){return{name:tu(e,t),fields:n.value.mapValue.fields}}function lu(e,t,n){const r=nu(e,t.name),i=Yl(t.updateTime),s=t.createTime?Yl(t.createTime):Ci.min(),o=new ko({mapValue:{fields:t.fields}}),a=xo.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function uu(e,t){return"found"in t?function(e,t){ii(!!t.found),t.found.name,t.found.updateTime;const n=nu(e,t.found.name),r=Yl(t.found.updateTime),i=t.found.createTime?Yl(t.found.createTime):Ci.min(),s=new ko({mapValue:{fields:t.found.fields}});return xo.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){ii(!!t.missing),ii(!!t.readTime);const n=nu(e,t.missing),r=Yl(t.readTime);return xo.newNoDocument(n,r)}(e,t):ri()}function cu(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ri()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ii(void 0===t||"string"==typeof t),Hs.fromBase64String(t||"")):(ii(void 0===t||t instanceof Uint8Array),Hs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ai.UNKNOWN:Sl(e.code);return new li(t,e.message||"")}(o);n=new Vl(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=nu(e,r.document.name),s=Yl(r.document.updateTime),o=r.document.createTime?Yl(r.document.createTime):Ci.min(),a=new ko({mapValue:{fields:r.document.fields}}),l=xo.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ml(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=nu(e,r.document),s=r.readTime?Yl(r.readTime):Ci.min(),o=xo.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ml([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=nu(e,r.document),s=r.removedTargetIds||[];n=new Ml([],s,i,null)}else{if(!("filter"in t))return ri();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new El(r,i),o=e.targetId;n=new Fl(o,s)}}return n}function du(e,t){let n;if(t instanceof dl)n={update:au(e,t.key,t.value)};else if(t instanceof gl)n={delete:tu(e,t.key)};else if(t instanceof hl)n={update:au(e,t.key,t.data),updateMask:Cu(t.fieldMask)};else{if(!(t instanceof vl))return ri();n={verify:tu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ga)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ka)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ya)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ri()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ql(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ri()}(e,t.precondition)),n}function hu(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?rl.updateTime(Yl(e.updateTime)):void 0!==e.exists?rl.exists(e.exists):rl.none()}(t.currentDocument):rl.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ii("REQUEST_TIME"===t.setToServerValue),n=new Ga;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ka(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Xa(e)}else"increment"in t?n=new Ya(e,t.increment):ri();const r=xi.fromServerFormat(t.fieldPath);return new el(r,n)}(e,t))):[];if(t.update){t.update.name;const i=nu(e,t.update.name),s=new ko({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new qs(t.map((e=>xi.fromServerFormat(e))))}(t.updateMask);return new hl(i,s,e,n,r)}return new dl(i,s,n,r)}if(t.delete){const r=nu(e,t.delete);return new gl(r,n)}if(t.verify){const r=nu(e,t.verify);return new vl(r,n)}return ri()}function fu(e,t){return e&&e.length>0?(ii(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Yl(e.updateTime):Yl(t);return n.isEqual(Ci.min())&&(n=Yl(t)),new nl(n,e.transformResults||[])}(e,t)))):[]}function pu(e,t){return{documents:[ru(e,t.path)]}}function mu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ru(e,i);const s=function(e){if(0!==e.length)return Tu(Fo.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Eu(e.field),direction:bu(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Kl(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function gu(e){let t=iu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ii(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=yu(e);return t instanceof Fo&&Wo(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Do(Iu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,is(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ro(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Ro(n,t)}(n.endAt)),ua(t,i,o,s,a,"F",l,u)}function vu(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ri()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}function yu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Iu(e.unaryFilter.field);return Mo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Iu(e.unaryFilter.field);return Mo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Iu(e.unaryFilter.field);return Mo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Iu(e.unaryFilter.field);return Mo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ri()}}(e):void 0!==e.fieldFilter?function(e){return Mo.create(Iu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ri()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Fo.create(e.compositeFilter.filters.map((e=>yu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ri()}}(e.compositeFilter.op))}(e):ri()}function bu(e){return Ul[e]}function _u(e){return zl[e]}function wu(e){return ql[e]}function Eu(e){return{fieldPath:e.canonicalString()}}function Iu(e){return xi.fromServerFormat(e.fieldPath)}function Tu(e){return e instanceof Mo?function(e){if("=="===e.op){if(bo(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NAN"}};if(yo(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bo(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NOT_NAN"}};if(yo(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(e.field),op:_u(e.op),value:e.value}}}(e):e instanceof Fo?function(e){const t=e.getFilters().map((e=>Tu(e)));return 1===t.length?t[0]:{compositeFilter:{op:wu(e.op),filters:t}}}(e):ri()}function Cu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Su(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t,n,r,i=Ci.min(),s=Ci.min(),o=Hs.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.ct=e}}function xu(e,t){let n;if(t.document)n=lu(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Ri.fromSegments(t.noDocument.path),r=Du(t.noDocument.readTime);n=xo.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ri();{const e=Ri.fromSegments(t.unknownDocument.path),r=Du(t.unknownDocument.version);n=xo.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Ti(e[0],e[1]);return Ci.fromTimestamp(t)}(t.readTime)),n}function Ru(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ou(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:tu(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Hl(e,t.version.toTimestamp()),createTime:Hl(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nu(t.version)};else{if(!t.isUnknownDocument())return ri();r.unknownDocument={path:n.path.toArray(),version:Nu(t.version)}}return r}function Ou(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nu(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Du(e){const t=new Ti(e.seconds,e.nanoseconds);return Ci.fromTimestamp(t)}function Pu(e,t){const n=(t.baseMutations||[]).map((t=>hu(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>hu(e.ct,t))),i=Ti.fromMillis(t.localWriteTimeMs);return new yl(t.batchId,i,n,r)}function Lu(e){const t=Du(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Du(e.lastLimboFreeSnapshotVersion):Ci.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return ii(1===e.documents.length),pa(ca(iu(e.documents[0])))}(e.query):function(e){return pa(gu(e))}(e.query),new ku(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Hs.fromBase64String(e.resumeToken))}function Mu(e,t){const n=Nu(t.snapshotVersion),r=Nu(t.lastLimboFreeSnapshotVersion);let i;i=ia(t.target)?pu(e.ct,t.target):mu(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:na(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Fu(e){const t=gu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?va(t,t.limit,"L"):t}function Vu(e,t){return new _l(t.largestBatchId,hu(e.ct,t.overlayMutation))}function Bu(e,t){const n=t.path.lastSegment();return[e,as(t.path.popLast()),n]}function Wu(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Nu(r.readTime),documentKey:as(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{getBundleMetadata(e,t){return ju(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Du(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return ju(e).put(function(e){return{bundleId:e.id,createTime:Nu(Yl(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Uu(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Fu(e.bundledQuery),readTime:Du(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Uu(e).put(function(e){return{name:e.name,readTime:Nu(Yl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function ju(e){return Ls(e,"bundles")}function Uu(e){return Ls(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new zu(e,n)}getOverlay(e,t){return qu(e).get(Bu(this.userId,t)).next((e=>e?Vu(this.serializer,e):null))}getOverlays(e,t){const n=Oa();return qi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new _l(t,i);r.push(this.ht(e,s))})),qi.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(as(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(qu(e).H("collectionPathOverlayIndex",r))})),qi.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Oa(),i=as(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return qu(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Vu(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Oa();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qu(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Vu(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return qu(e).put(function(e,t,n){const[r,i,s]=Bu(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:du(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function qu(e){return Ls(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Ys(e.integerValue));else if("doubleValue"in e){const n=Ys(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ss(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At(`${n.seconds||""}`),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Js(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Eo(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ri()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Ri.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Ku(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Hu(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ku(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Gu.bt=new Gu;class Xu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=Hu(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=Hu(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Qu{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Yu{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ju{constructor(){this.Gt=new Xu,this.zt=new Qu(this.Gt),this.jt=new Yu(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Zu(this.indexId,this.documentKey,this.arrayValue,n)}}function ec(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=tc(e.arrayValue,t.arrayValue),0!==n?n:(n=tc(e.directionalValue,t.directionalValue),0!==n?n:Ri.comparator(e.documentKey,t.documentKey)))}function tc(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.Yt=new js(((e,t)=>xi.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(ii(e.collectionGroup===this.collectionId),this.en)return!1;const t=Ni(e);if(void 0!==t&&!this.nn(t))return!1;const n=Di(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new js(xi.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Li(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Li(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Li(n.field,"asc"===n.dir?0:1)));return new Oi(Oi.UNKNOWN_ID,this.collectionId,t,Fi.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(e){var t,n;if(ii(e instanceof Mo||e instanceof Fo),e instanceof Mo){if(e instanceof Yo){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Mo.create(e.field,"==",t))))||[];return Fo.create(r,"or")}return e}const r=e.filters.map((e=>rc(e)));return Fo.create(r,e.op)}function ic(e){if(0===e.getFilters().length)return[];const t=lc(rc(e));return ii(ac(t)),sc(t)||oc(t)?[t]:t.getFilters()}function sc(e){return e instanceof Mo}function oc(e){return e instanceof Fo&&Wo(e)}function ac(e){return sc(e)||oc(e)||function(e){if(e instanceof Fo&&Bo(e)){for(const t of e.getFilters())if(!sc(t)&&!oc(t))return!1;return!0}return!1}(e)}function lc(e){if(ii(e instanceof Mo||e instanceof Fo),e instanceof Mo)return e;if(1===e.filters.length)return lc(e.filters[0]);const t=e.filters.map((e=>lc(e)));let n=Fo.create(t,e.op);return n=dc(n),ac(n)?n:(ii(n instanceof Fo),ii(Vo(n)),ii(n.filters.length>1),n.filters.reduce(((e,t)=>uc(e,t))))}function uc(e,t){let n;return ii(e instanceof Mo||e instanceof Fo),ii(t instanceof Mo||t instanceof Fo),n=e instanceof Mo?t instanceof Mo?function(e,t){return Fo.create([e,t],"and")}(e,t):cc(e,t):t instanceof Mo?cc(t,e):function(e,t){if(ii(e.filters.length>0&&t.filters.length>0),Vo(e)&&Vo(t))return zo(e,t.getFilters());const n=Bo(e)?e:t,r=Bo(e)?t:e,i=n.filters.map((e=>uc(e,r)));return Fo.create(i,"or")}(e,t),dc(n)}function cc(e,t){if(Vo(t))return zo(t,e.getFilters());{const n=t.filters.map((t=>uc(e,t)));return Fo.create(n,"or")}}function dc(e){if(ii(e instanceof Mo||e instanceof Fo),e instanceof Mo)return e;const t=e.getFilters();if(1===t.length)return dc(t[0]);if($o(e))return e;const n=t.map((e=>dc(e))),r=[];return n.forEach((t=>{t instanceof Mo?r.push(t):t instanceof Fo&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Fo.create(r,e.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class hc{constructor(){this._n=new fc}addToCollectionParentIndex(e,t){return this._n.add(t),qi.resolve()}getCollectionParents(e,t){return qi.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return qi.resolve()}deleteFieldIndex(e,t){return qi.resolve()}deleteAllFieldIndexes(e){return qi.resolve()}createTargetIndexes(e,t){return qi.resolve()}getDocumentsMatchingTarget(e,t){return qi.resolve(null)}getIndexType(e,t){return qi.resolve(0)}getFieldIndexes(e,t){return qi.resolve([])}getNextCollectionGroupToUpdate(e){return qi.resolve(null)}getMinOffset(e,t){return qi.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return qi.resolve(Wi.min())}updateCollectionGroup(e,t,n){return qi.resolve()}updateIndexEntries(e,t){return qi.resolve()}}class fc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new js(ki.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new js(ki.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Uint8Array(0);class mc{constructor(e,t){this.databaseId=t,this.an=new fc,this.un=new Ca((e=>na(e)),((e,t)=>ra(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:as(r)};return gc(e).put(i)}return qi.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ii(t),""],!1,!0);return gc(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(cs(r.parent))}return n}))}addFieldIndex(e,t){const n=yc(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=bc(e);return i.next((e=>{n.put(Wu(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=yc(e),r=bc(e),i=vc(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=yc(e),n=vc(e),r=bc(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return qi.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new nc(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=vc(e);let r=!0;const i=new Map;return qi.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ma();const r=[];return qi.forEach(i,((i,s)=>{Zr("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${na(t)}`);const o=function(e,t){const n=Ni(t);if(void 0===n)return null;for(const r of sa(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of Di(t))for(const t of sa(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Di(t)){const t=0===i.kind?oa(e,i.fieldPath,e.startAt):aa(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ro(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of Di(t)){const t=0===i.kind?aa(e,i.fieldPath,e.endAt):oa(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ro(n,r)}(s,i),c=this.hn(i,s,l),d=this.hn(i,s,u),h=this.Pn(i,s,a),f=this.In(i.indexId,o,c,l.inclusive,d,u.inclusive,h);return qi.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Ri.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return qi.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:ic(Fo.create(e.filters,"and")).map((t=>ta(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.Tn(t[c/l]):pc,d=this.En(e,a,n[c%l],r),h=this.dn(e,a,i[c%l],s),f=o.map((t=>this.En(e,a,t,!0)));u.push(...this.createRange(d,h,f))}return u}En(e,t,n,r){const i=new Zu(e,Ri.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Zu(e,Ri.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new nc(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return qi.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new js(xi.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Ju;for(const r of Di(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);Gu.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Ju;return Gu.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Ju;return Gu.bt.Pt(mo(this.databaseId,t),n.Ht(function(e){const t=Di(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Ju);let i=0;for(const s of Di(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&vo(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);Gu.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Ju;n.seed(e.Wt()),Gu.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Mo&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=yc(e),r=bc(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return qi.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Fi(t.sequenceNumber,new Wi(Du(t.readTime),new Ri(cs(t.documentKey)),t.largestBatchId)):Fi.empty(),r=e.fields.map((([e,t])=>new Li(xi.fromServerFormat(e),t)));return new Oi(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:wi(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=yc(e),i=bc(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>qi.forEach(t,(t=>i.put(Wu(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return qi.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?qi.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),qi.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?qi.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return vc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return vc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=vc(e);let i=new js(ec);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Zu(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new js(ec);const r=this.An(t,e);if(null==r)return n;const i=Ni(t);if(null!=i){const s=e.data.field(i.fieldPath);if(vo(s))for(const i of s.arrayValue.values||[])n=n.add(new Zu(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Zu(t.indexId,e.key,pc,r));return n}wn(e,t,n,r,i){Zr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=zs(s),l=zs(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=zs(o)):t?(i(a),a=zs(s)):(a=zs(s),l=zs(o))}}(r,i,ec,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),qi.waitFor(s)}gn(e){let t=1;return bc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>ec(e,t))).filter(((e,t,n)=>!t||0!==ec(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=ec(s,e),i=ec(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,pc,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,pc,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return ec(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(_c)}getMinOffset(e,t){return qi.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||ri())))).next(_c)}}function gc(e){return Ls(e,"collectionParents")}function vc(e){return Ls(e,"indexEntries")}function yc(e){return Ls(e,"indexConfiguration")}function bc(e){return Ls(e,"indexState")}function _c(e){ii(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;$i(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wi(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ec{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ec(e,Ec.DEFAULT_COLLECTION_PERCENTILE,Ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{ii(1===a)})));const u=[];for(const c of n.mutations){const e=fs(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return qi.waitFor(s).next((()=>u))}function Tc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ri();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ec.DEFAULT_COLLECTION_PERCENTILE=10,Ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ec.DEFAULT=new Ec(41943040,Ec.DEFAULT_COLLECTION_PERCENTILE,Ec.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ec.DISABLED=new Ec(-1,0,0);class Cc{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){ii(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Cc(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kc(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Ac(e),s=kc(e);return s.add({}).next((o=>{ii("number"==typeof o);const a=new yl(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>du(e.ct,t))),i=n.mutations.map((t=>du(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new js(((e,t)=>wi(e.canonicalString(),t.canonicalString())));for(const e of r){const t=fs(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,ps))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),qi.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return kc(e).get(t).next((e=>e?(ii(e.userId===this.userId),Pu(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?qi.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return kc(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(ii(t.batchId>=n),i=Pu(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return kc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kc(e).W("userMutationsIndex",t).next((e=>e.map((e=>Pu(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=hs(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Ac(e).Y({range:r},((n,r,s)=>{const[o,a,l]=n,u=cs(a);if(o===this.userId&&t.path.isEqual(u))return kc(e).get(l).next((e=>{if(!e)throw ri();ii(e.userId===this.userId),i.push(Pu(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new js(wi);const r=[];return t.forEach((t=>{const i=hs(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Ac(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,l=cs(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),qi.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=hs(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new js(wi);return Ac(e).Y({range:s},((e,t,i)=>{const[s,a,l]=e,u=cs(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(kc(e).get(t).next((e=>{if(null===e)throw ri();ii(e.userId===this.userId),n.push(Pu(this.serializer,e))})))})),qi.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ic(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),qi.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return qi.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Ac(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=cs(e[1]);r.push(t)}else n.done()})).next((()=>{ii(0===r.length)}))}))}containsKey(e,t){return Sc(e,this.userId,t)}xn(e){return xc(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Sc(e,t,n){const r=hs(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ac(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function kc(e){return Ls(e,"mutations")}function Ac(e){return Ls(e,"documentMutations")}function xc(e){return Ls(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Rc(0)}static Bn(){return new Rc(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new Rc(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Ci.fromTimestamp(new Ti(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Nc(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(ii(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Nc(e).Y(((s,o)=>{const a=Lu(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>qi.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Nc(e).Y(((e,n)=>{const r=Lu(n);t(r)}))}Ln(e){return Dc(e).get("targetGlobalKey").next((e=>(ii(null!==e),e)))}kn(e,t){return Dc(e).put("targetGlobalKey",t)}qn(e,t){return Nc(e).put(Mu(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=na(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Nc(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Lu(n);ra(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Pc(e);return t.forEach((t=>{const s=as(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),qi.waitFor(r)}removeMatchingKeys(e,t,n){const r=Pc(e);return qi.forEach(t,(t=>{const i=as(t.path);return qi.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Pc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Pc(e);let i=Ma();return r.Y({range:n,J:!0},((e,t,n)=>{const r=cs(e[1]),s=new Ri(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=as(t.path),r=IDBKeyRange.bound([n],[Ii(n)],!1,!0);let i=0;return Pc(e).Y({index:"documentTargetsIndex",J:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}_t(e,t){return Nc(e).get(t).next((e=>e?Lu(e):null))}}function Nc(e){return Ls(e,"targets")}function Dc(e){return Ls(e,"targetGlobal")}function Pc(e){return Ls(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc([e,t],[n,r]){const i=wi(e,n);return 0===i?wi(t,r):i}class Mc{constructor(e){this.Kn=e,this.buffer=new js(Lc),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Lc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Zr("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Qi(e)?Zr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await zi(e)}await this.zn(3e5)}))}}class Vc{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return qi.resolve(rs._e);const n=new Mc(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zr("LruGarbageCollector","Garbage collection skipped; disabled"),qi.resolve(wc)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Zr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wc):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Zr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),Yr()<=o.$b.DEBUG&&Zr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),qi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Bc(e,t){return new Vc(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.db=e,this.garbageCollector=Bc(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return $c(e,n)}removeReference(e,t,n){return $c(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return $c(e,t)}er(e,t){return function(e,t){let n=!1;return xc(e).Z((r=>Sc(e,r,t).next((e=>(e&&(n=!0),qi.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Ci.min()),Pc(e).delete(function(e){return[0,as(e.path)]}(s)))))}));r.push(t)}})).next((()=>qi.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return $c(e,t)}Xn(e,t){const n=Pc(e);let r,i=rs._e;return n.Y({index:"documentTargetsIndex"},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==rs._e&&t(new Ri(cs(r)),i),i=o,r=s):i=rs._e})).next((()=>{i!==rs._e&&t(new Ri(cs(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $c(e,t){return Pc(e).put(function(e,t){return{targetId:0,path:as(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.changes=new Ca((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Kc(e).put(n)}removeEntry(e,t,n){return Kc(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ou(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=xo.newInvalidDocument(t);return Kc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Hc(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:xo.newInvalidDocument(t)};return Kc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Hc(t))},((e,r)=>{n={document:this.nr(t,r),size:Tc(r)}})).next((()=>n))}getEntries(e,t){let n=ka();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=ka(),r=new Bs(Ri.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Tc(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return qi.resolve();let r=new js(Qc);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Hc(r.first()),Hc(r.last())),s=r.getIterator();let o=s.getNext();return Kc(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Ri.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Qc(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(Hc(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Ou(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kc(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=ka();for(const i of e){const e=this.nr(Ri.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(wa(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=ka();const s=Xc(t,n),o=Xc(t,Wi.max());return Kc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(Ri.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new qc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Gc(e).get("remoteDocumentGlobalKey").next((e=>(ii(!!e),e)))}tr(e,t){return Gc(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=xu(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Ci.min()))return e}return xo.newInvalidDocument(e)}}function zc(e){return new Uc(e)}class qc extends jc{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Ca((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new js(((e,t)=>wi(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Ru(this.ar.serializer,s);r=r.add(i.path.popLast());const l=Tc(a);n+=l-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Ru(this.ar.serializer,s.convertToNoDocument(Ci.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),qi.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((({documents:e,_r:t})=>(t.forEach(((t,n)=>{this.ur.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function Gc(e){return Ls(e,"remoteDocumentGlobal")}function Kc(e){return Ls(e,"remoteDocumentsV14")}function Hc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Xc(e,t){const n=t.documentKey.path.toArray();return[e,Ou(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Qc(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=wi(n[s],r[s]),i)return i;return i=wi(n.length,r.length),i||(i=wi(n[n.length-2],r[r.length-2]),i||wi(n[n.length-1],r[r.length-1])
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Yc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ll(n.mutation,e,qs.empty(),Ti.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ma()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Ma()){const r=Oa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=xa();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Oa();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ma())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ka();const s=Da(),o=function(){return Da()}();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hl)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),ll(o.mutation,t,o.mutation.getFieldMask(),Ti.now())):s.set(t.key,qs.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Yc(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Da();let r=new Bs(((e,t)=>e-t)),i=Ma();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||qs.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Ma()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Na();l.forEach((e=>{if(!i.has(e)){const r=ol(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return qi.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ri.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ha(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):qi.resolve(Oa());let o=-1,a=i;return s.next((t=>qi.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?qi.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Ma()))).next((e=>({batchId:o,changes:Ra(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ri(t)).next((e=>{let t=xa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=xa();return this.indexManager.getCollectionParents(e,i).next((o=>qi.forEach(o,(o=>{const a=function(e,t){return new la(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,xo.newInvalidDocument(r)))}));let n=xa();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&ll(s.mutation,r,qs.empty(),Ti.now()),wa(t,r)&&(n=n.insert(e,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return qi.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Yl(e.createTime)}}(t)),qi.resolve()}getNamedQuery(e,t){return qi.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Fu(e.bundledQuery),readTime:Yl(e.readTime)}}(t)),qi.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.overlays=new Bs(Ri.comparator),this.hr=new Map}getOverlay(e,t){return qi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Oa();return qi.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),qi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),qi.resolve()}getOverlaysForCollection(e,t,n){const r=Oa(),i=t.length+1,s=new Ri(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Bs(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Oa(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Oa(),a=i.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((e,t)=>o.set(e,t))),o.size()>=r)break;return qi.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _l(t,n));let i=this.hr.get(t);void 0===i&&(i=Ma(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this.Pr=new js(nd.Ir),this.Tr=new js(nd.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new nd(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new nd(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Ri(new ki([])),n=new nd(t,e),r=new nd(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Ri(new ki([])),n=new nd(t,e),r=new nd(t,e+1);let i=Ma();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new nd(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nd{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Ri.comparator(e.key,t.key)||wi(e.pr,t.pr)}static Er(e,t){return wi(e.pr,t.pr)||Ri.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new js(nd.Ir)}checkEmpty(e){return qi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new yl(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new nd(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return qi.resolve(s)}lookupMutationBatch(e,t){return qi.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return qi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qi.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return qi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nd(t,0),r=new nd(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),qi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new js(wi);return t.forEach((e=>{const t=new nd(e,0),r=new nd(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),qi.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ri.isDocumentKey(i)||(i=i.child(""));const s=new nd(new Ri(i),0);let o=new js(wi);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),qi.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ii(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return qi.forEach(t.mutations,(r=>{const i=new nd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new nd(t,0),r=this.wr.firstAfterOrEqual(n);return qi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qi.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.vr=e,this.docs=function(){return new Bs(Ri.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qi.resolve(n?n.document.mutableCopy():xo.newInvalidDocument(t))}getEntries(e,t){let n=ka();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():xo.newInvalidDocument(e))})),qi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ka();const s=t.path,o=new Ri(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||$i(Bi(o),n)<=0||(r.has(o.key)||wa(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return qi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ri()}Fr(e,t){return qi.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new sd(this)}getSize(e){return qi.resolve(this.size)}}class sd extends jc{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),qi.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.persistence=e,this.Mr=new Ca((e=>na(e)),ra),this.lastRemoteSnapshotVersion=Ci.min(),this.highestTargetId=0,this.Or=0,this.Nr=new td,this.targetCount=0,this.Br=Rc.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),qi.resolve()}getLastRemoteSnapshotVersion(e){return qi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qi.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),qi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),qi.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Rc(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,qi.resolve()}updateTargetData(e,t){return this.qn(t),qi.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,qi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),qi.waitFor(i).next((()=>r))}getTargetCount(e){return qi.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return qi.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),qi.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),qi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),qi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return qi.resolve(n)}containsKey(e,t){return qi.resolve(this.Nr.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.Lr={},this.overlays={},this.kr=new rs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new od(this),this.indexManager=new hc,this.remoteDocumentCache=function(e){return new id(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Au(t),this.$r=new Zc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ed,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new rd(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Zr("MemoryPersistence","Starting transaction:",e);const r=new ld(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return qi.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class ld extends Ui{constructor(e){super(),this.currentSequenceNumber=e}}class ud{constructor(e){this.persistence=e,this.zr=new td,this.jr=null}static Hr(e){return new ud(e)}get Jr(){if(this.jr)return this.jr;throw ri()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),qi.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),qi.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),qi.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qi.forEach(this.Jr,(n=>{const r=Ri.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Ci.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return qi.or([()=>qi.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class cd{constructor(e,t){this.persistence=e,this.Zr=new Ca((e=>as(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Bc(this,t)}static Hr(e,t){return new cd(e,t)}Ur(){}Wr(e){return qi.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Hn(e){const t=this.Zn(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}Jn(e,t){return qi.forEach(this.Zr,((n,r)=>this.er(e,n,r).next((e=>e?qi.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Fr(e,(r=>this.er(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Ci.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Zr.set(t,e.currentSequenceNumber),qi.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),qi.resolve()}removeReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),qi.resolve()}updateLimboDocument(e,t){return this.Zr.set(t,e.currentSequenceNumber),qi.resolve()}Kr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=po(e.data.value)),t}er(e,t,n){return qi.or([()=>this.persistence.Gr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Zr.get(t);return qi.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Gi("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ds,{unique:!0}),e.createObjectStore("documentMutations")}(e),hd(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=qi.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),hd(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ci.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ds,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return qi.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ss});t.createIndex("collectionPathOverlayIndex",ks,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",As,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ms});t.createIndex("documentKeyIndex",gs),t.createIndex("collectionGroupIndex",vs)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Es}).createIndex("sequenceNumberIndex",Is,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ts}).createIndex("documentKeyIndex",Cs,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Tc(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>qi.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>qi.forEach(n,(n=>{ii(n.userId===t.userId);const r=Pu(this.serializer,n);return Ic(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new ki(n),o=function(e){return[0,as(e)]}(s);r.push(t.get(o).next((n=>n?qi.resolve():(n=>t.put({targetId:0,path:as(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>qi.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:ws});const n=t.store("collectionParents"),r=new fc,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:as(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new ki(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},(([e,t,n],r)=>{const s=cs(t);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Lu(n),i=Mu(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Ri(ki.fromString(e.document.name).popFirst(5)):e.noDocument?Ri.fromSegments(e.noDocument.path):e.unknownDocument?Ri.fromSegments(e.unknownDocument.path):ri()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>qi.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=zc(this.serializer),i=new ad(ud.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ma();Pu(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),qi.forEach(n,((e,n)=>{const s=new Hr(n),o=zu.lt(this.serializer,s),a=i.getIndexManager(s),l=Cc.lt(s,this.serializer,a,i.referenceDelegate);return new Jc(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Ps(t,rs._e),e).next()}))}))}}function hd(e){e.createObjectStore("targetDocuments",{keyPath:bs}).createIndex("documentTargetsIndex",_s,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ys,{unique:!0}),e.createObjectStore("targetGlobal")}const fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pd{constructor(e,t,n,r,i,s,o,a,l,u,c=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=l,this.ai=u,this.ui=c,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!pd.D())throw new li(ai.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wc(this,r),this.Ti=t+"main",this.serializer=new Au(a),this.Ei=new Ki(this.Ti,this.ui,new dd(this.serializer)),this.Qr=new Oc(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zc(this.serializer),this.$r=new $u,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new li(ai.FAILED_PRECONDITION,fd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new rs(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>gd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Qi(e))return Zr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Zr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return md(e).get("owner").next((e=>qi.resolve(this.Si(e))))}bi(e){return gd(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Ls(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return qi.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?qi.resolve(!0):md(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new li(ai.FAILED_PRECONDITION,fd);return!1}}return!(!this.networkEnabled||!this.inForeground)||gd(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Zr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Ps(e,rs._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>gd(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Cc.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mc(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return zu.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Zr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Ds:14===e?Ns:13===e?Os:12===e?Rs:11===e?xs:void ri()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new Ps(r,this.kr?this.kr.next():rs._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new li(ai.FAILED_PRECONDITION,ji);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return md(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new li(ai.FAILED_PRECONDITION,fd)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return md(e).put("owner",t)}static D(){return Ki.D()}yi(e){const t=md(e);return t.get("owner").next((e=>this.Si(e)?(Zr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):qi.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ei(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,a.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Zr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return ei("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ei("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function md(e){return Ls(e,"owner")}function gd(e){return Ls(e,"clientMetadata")}function vd(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class yd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Ma(),r=Ma();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new yd(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return(0,a.nr)()?8:Ki.v((0,a.ZQ)())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new bd;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Yr()<=o.$b.DEBUG&&Zr("QueryEngine","SDK will not create cache indexes for query:",_a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),qi.resolve()):(Yr()<=o.$b.DEBUG&&Zr("QueryEngine","Query:",_a(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Yr()<=o.$b.DEBUG&&Zr("QueryEngine","The SDK decides to create cache indexes for query:",_a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pa(t))):qi.resolve())}ji(e,t){if(da(t))return qi.resolve(null);let n=pa(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=va(t,null,"F"),n=pa(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ma(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,va(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return da(t)||r.isEqual(Ci.min())?qi.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?qi.resolve(null):(Yr()<=o.$b.DEBUG&&Zr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_a(t)),this.es(e,s,t,Vi(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new js(Ia(e));return t.forEach(((t,r)=>{wa(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Yr()<=o.$b.DEBUG&&Zr("QueryEngine","Using full collection scan to execute query:",_a(t)),this.zi.getDocumentsMatchingQuery(e,t,Wi.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Bs(wi),this.rs=new Ca((e=>na(e)),ra),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jc(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Ed(e,t,n,r){return new wd(e,t,n,r)}async function Id(e,t){const n=oi(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Ma();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Td(e,t){const n=oi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=qi.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ii(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ma();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function Cd(e){const t=oi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Sd(e,t){const n=oi(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Hs.EMPTY_BYTE_STRING,Ci.min()).withLastLimboFreeSnapshotVersion(Ci.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,s)&&o.push(n.Qr.updateTargetData(e,u))}));let a=ka(),l=Ma();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(kd(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Ci.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return qi.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}function kd(e,t,n){let r=Ma(),i=Ma();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ka();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ci.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Zr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Ad(e,t){const n=oi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function xd(e,t){const n=oi(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,qi.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new ku(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Rd(e,t,n){const r=oi(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Qi(e))throw e;Zr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Od(e,t,n){const r=oi(e);let i=Ci.min(),s=Ma();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=oi(e),i=r.rs.get(n);return void 0!==i?qi.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,pa(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Ci.min(),n?s:Ma()))).next((e=>(Pd(r,Ea(t),e),{documents:e,hs:s})))))}function Nd(e,t){const n=oi(e),r=oi(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Dd(e,t){const n=oi(e),r=n.ss.get(t)||Ci.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Vi(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Pd(n,t,e),e)))}function Pd(e,t,n){let r=e.ss.get(t)||Ci.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Ld(e,t,n,r){const i=oi(e);let s=Ma(),o=ka();for(const u of n){const e=t.Ps(u.metadata.name);u.document&&(s=s.add(e));const n=t.Is(u);n.setReadTime(t.Ts(u.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await xd(i,function(e){return pa(ca(ki.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>kd(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}async function Md(e,t,n=Ma()){const r=await xd(e,pa(Fu(t.bundledQuery))),i=oi(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Yl(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(Hs.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Fd(e,t){return`firestore_clients_${e}_${t}`}function Vd(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Bd(e,t){return`firestore_targets_${e}_${t}`}class Wd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new li(r.error.code,r.error.message))),s?new Wd(e,t,r.state,i):(ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $d{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new li(n.error.code,n.error.message))),i?new $d(e,n.state,r):(ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Va();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=os(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new jd(e,i):(ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ud{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ud(t.clientId,t.onlineState):(ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zd{constructor(){this.activeTargetIds=Va()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qd{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Bs(wi),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Fd(this.persistenceKey,this.Vs),this.Ss=function(e){return`firestore_sequence_number_${e}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new zd),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Fs=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Fd(this.persistenceKey,n));if(e){const t=jd.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Bd(this.persistenceKey,e));if(n){const r=$d.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Bd(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Zr("SharedClientState","READ",e,t),t}setItem(e,t){Zr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Zr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Zr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=rs._e;if(null!=e)try{const n=JSON.parse(e);ii("number"==typeof n),t=n}catch(e){ei("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==rs._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new Wd(this.currentUser,e,t,n),i=Vd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=Vd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Bd(this.persistenceKey,e),i=new $d(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return jd.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wd.Es(new Hr(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return $d.Es(r,t)}xs(e){return Ud.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Zr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Va();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Gd{constructor(){this.no=new zd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new zd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{io(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Zr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Zr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd=null;function Qd(){return null===Xd?Xd=function(){return 268435456+Math.round(2147483648*Math.random())}():Xd++,"0x"+Xd.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Yd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="WebChannelConnection";class eh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po=`projects/${n}/databases/${r}`,this.yo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get wo(){return!1}So(e,t,n,r,i){const s=Qd(),o=this.bo(e,t.toUriEncodedString());Zr("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(Zr("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw ti("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Yd[e];return`${this.fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Qd();return new Promise(((s,o)=>{const a=new zr;a.setWithCredentials(!0),a.listenOnce(Wr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Br.NO_ERROR:const t=a.getResponseJson();Zr(Zd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Br.TIMEOUT:Zr(Zd,`RPC '${e}' ${i} timed out`),o(new li(ai.DEADLINE_EXCEEDED,"Request time out"));break;case Br.HTTP_ERROR:const n=a.getStatus();if(Zr(Zd,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ai).indexOf(t)>=0?t:ai.UNKNOWN}(t.status);o(new li(e,t.message))}else o(new li(ai.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new li(ai.UNAVAILABLE,"Connection failed."));break;default:ri()}}finally{Zr(Zd,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Zr(Zd,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Qd(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Fr(),o=Vr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Zr(Zd,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let d=!1,h=!1;const f=new Jd({lo:t=>{h?Zr(Zd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Zr(Zd,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),Zr(Zd,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},ho:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Ur.EventType.OPEN,(()=>{h||Zr(Zd,`RPC '${e}' stream ${r} transport opened.`)})),p(c,Ur.EventType.CLOSE,(()=>{h||(h=!0,Zr(Zd,`RPC '${e}' stream ${r} transport closed`),f.Vo())})),p(c,Ur.EventType.ERROR,(t=>{h||(h=!0,ti(Zd,`RPC '${e}' stream ${r} transport errored:`,t),f.Vo(new li(ai.UNAVAILABLE,"The operation could not be completed")))})),p(c,Ur.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ii(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Zr(Zd,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Il[e];if(void 0!==t)return Sl(t)}(t),i=o.message;void 0===n&&(n=ai.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Vo(new li(n,i)),c.close()}else Zr(Zd,`RPC '${e}' stream ${r} received:`,i),f.mo(i)}})),p(o,$r.STAT_EVENT,(t=>{t.stat===jr.PROXY?Zr(Zd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===jr.NOPROXY&&Zr(Zd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.Ro()}),0),f}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(){return"undefined"!=typeof window?window:null}function nh(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(e){return new Gl(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t,n=1e3,r=1.5,i=6e4){this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Zr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ih(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===ai.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===ai.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Wo===t&&this.o_(e,n)}),(t=>{e((()=>{const e=new li(ai.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Zr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Zr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oh extends sh{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=cu(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ci.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ci.min():t.readTime?Yl(t.readTime):Ci.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=su(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ia(r)?{documents:pu(e,r)}:{query:mu(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Xl(e,t.resumeToken);const r=Kl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ci.min())>0){n.readTime=Hl(e,t.snapshotVersion.toTimestamp());const r=Kl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=vu(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=su(this.serializer),t.removeTarget=e,this.t_(t)}}class ah extends sh{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(ii(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=fu(e.writeResults,e.commitTime),n=Yl(e.commitTime);return this.listener.T_(n,t)}return ii(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=su(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>du(this.serializer,e)))};this.t_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new li(ai.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.So(e,Zl(t,n),r,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ai.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new li(ai.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.vo(e,Zl(t,n),r,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ai.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new li(ai.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}async function uh(e,t,n){var r;const i=oi(e),{request:s,V_:o,parent:a}=function(e,t,n){const{ut:r,parent:i}=mu(e,t),s={},o=[];let a=0;return n.forEach((e=>{const t="aggregate_"+a++;s[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:Eu(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:Eu(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:r.structuredQuery},parent:r.parent},V_:s,parent:i}}(i.serializer,function(e){const t=oi(e);return t.Pe||(t.Pe=ma(t,e.explicitOrderBy)),t.Pe}(t),n);i.connection.wo||delete s.parent;const l=(await i.vo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter((e=>!!e.result));ii(1===l.length);const u=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(u).reduce(((e,t)=>(e[o[t]]=u[t],e)),{})}class ch{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ei(t),this.g_=!1):Zr("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{_h(this)&&(Zr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=oi(e);t.v_.add(4),await fh(t),t.x_.set("Unknown"),t.v_.delete(4),await hh(t)}(this))}))})),this.x_=new ch(n,r)}}async function hh(e){if(_h(e))for(const t of e.F_)await t(!0)}async function fh(e){for(const t of e.F_)await t(!1)}function ph(e,t){const n=oi(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),bh(n)?yh(n):Vh(n).Jo()&&gh(n,t))}function mh(e,t){const n=oi(e),r=Vh(n);n.C_.delete(t),r.Jo()&&vh(n,t),0===n.C_.size&&(r.Jo()?r.Xo():_h(n)&&n.x_.set("Unknown"))}function gh(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ci.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vh(e).c_(t)}function vh(e,t){e.O_.Oe(t),Vh(e).l_(t)}function yh(e){e.O_=new Wl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Vh(e).start(),e.x_.p_()}function bh(e){return _h(e)&&!Vh(e).Ho()&&e.C_.size>0}function _h(e){return 0===oi(e).v_.size}function wh(e){e.O_=void 0}async function Eh(e){e.C_.forEach(((t,n)=>{gh(e,t)}))}async function Ih(e,t){wh(e),bh(e)?(e.x_.S_(t),yh(e)):e.x_.set("Unknown")}async function Th(e,t,n){if(e.x_.set("Online"),t instanceof Vl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Zr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ch(e,n)}else if(t instanceof Ml?e.O_.$e(t):t instanceof Fl?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Ci.min()))try{const t=await Cd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Hs.EMPTY_BYTE_STRING,r.snapshotVersion)),vh(e,t);const i=new ku(r.target,t,n,r.sequenceNumber);gh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Zr("RemoteStore","Failed to raise snapshot:",t),await Ch(e,t)}}async function Ch(e,t,n){if(!Qi(t))throw t;e.v_.add(1),await fh(e),e.x_.set("Offline"),n||(n=()=>Cd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Zr("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await hh(e)}))}function Sh(e,t){return t().catch((n=>Ch(e,n,t)))}async function kh(e){const t=oi(e),n=Bh(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Ah(t);)try{const e=await Ad(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,xh(t,e)}catch(e){await Ch(t,e)}Rh(t)&&Oh(t)}function Ah(e){return _h(e)&&e.D_.length<10}function xh(e,t){e.D_.push(t);const n=Bh(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Rh(e){return _h(e)&&!Bh(e).Ho()&&e.D_.length>0}function Oh(e){Bh(e).start()}async function Nh(e){Bh(e).d_()}async function Dh(e){const t=Bh(e);for(const n of e.D_)t.I_(n.mutations)}async function Ph(e,t,n){const r=e.D_.shift(),i=bl.from(r,t,n);await Sh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await kh(e)}async function Lh(e,t){t&&Bh(e).P_&&await async function(e,t){if(function(e){return Cl(e)&&e!==ai.ABORTED}(t.code)){const n=e.D_.shift();Bh(e).Zo(),await Sh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await kh(e)}}(e,t),Rh(e)&&Oh(e)}async function Mh(e,t){const n=oi(e);n.asyncQueue.verifyOperationInProgress(),Zr("RemoteStore","RemoteStore received new credentials");const r=_h(n);n.v_.add(3),await fh(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await hh(n)}async function Fh(e,t){const n=oi(e);t?(n.v_.delete(2),await hh(n)):t||(n.v_.add(2),await fh(n),n.x_.set("Unknown"))}function Vh(e){return e.N_||(e.N_=function(e,t,n){const r=oi(e);return r.R_(),new oh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{Po:Eh.bind(null,e),To:Ih.bind(null,e),u_:Th.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),bh(e)?yh(e):e.x_.set("Unknown")):(await e.N_.stop(),wh(e))}))),e.N_}function Bh(e){return e.B_||(e.B_=function(e,t,n){const r=oi(e);return r.R_(),new ah(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Nh.bind(null,e),To:Lh.bind(null,e),E_:Dh.bind(null,e),T_:Ph.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await kh(e)):(await e.B_.stop(),e.D_.length>0&&(Zr("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))}))),e.B_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Wh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Wh(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new li(ai.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $h(e,t){if(ei("AsyncQueue",`${t}: ${e}`),Qi(e))return new li(ai.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ri.comparator(t.key,n.key):(e,t)=>Ri.comparator(e.key,t.key),this.keyedMap=xa(),this.sortedSet=new Bs(this.comparator)}static emptySet(e){return new jh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new jh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.L_=new Bs(Ri.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):ri():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class zh{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new zh(e,t,jh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.q_=void 0,this.Q_=[]}}class Gh{constructor(){this.queries=new Ca((e=>ba(e)),ya),this.onlineState="Unknown",this.K_=new Set}}async function Kh(e,t){const n=oi(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qh),i)try{s.q_=await n.onListen(r)}catch(e){const n=$h(e,`Initialization of query '${_a(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&Yh(n)}async function Hh(e,t){const n=oi(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Xh(e,t){const n=oi(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Yh(n)}function Qh(e,t,n){const r=oi(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function Yh(e){e.K_.forEach((e=>{e.next()}))}class Jh{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new zh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.serializer=e}Ps(e){return nu(this.serializer,e)}Is(e){return e.metadata.exists?lu(this.serializer,e.document,!1):xo.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Yl(e)}}class tf{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nf(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=ki.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new ef(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ma()).add(e);t.set(n,r)}}return t}async complete(){const e=await Ld(this.localStore,new ef(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await Md(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function nf(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.key=e}}class sf{constructor(e){this.key=e}}class of{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ma(),this.mutatedKeys=Ma(),this.ua=Ia(e),this.ca=new jh(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Uh,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=wa(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.Ia(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.ua(c,a)>0||l&&this.ua(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:o,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ri()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const o=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==s.length||l?{snapshot:new zh(this.query,e.ca,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:o}:{da:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Uh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ma(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new sf(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new rf(n))})),t}Ra(e){this.oa=e.hs,this.aa=Ma();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return zh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class af{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lf{constructor(e){this.key=e,this.ma=!1}}class uf{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Ca((e=>ba(e)),ya),this.pa=new Map,this.ya=new Set,this.wa=new Bs(Ri.comparator),this.Sa=new Map,this.ba=new td,this.Da={},this.Ca=new Map,this.va=Rc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function cf(e,t){const n=Bf(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await xd(n.localStore,pa(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await df(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&ph(n.remoteStore,e)}return i}async function df(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Od(e.localStore,t.query,!1).then((({documents:e})=>t.view.ha(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Tf(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const s=await Od(e.localStore,t,!0),o=new of(t,s.hs),a=o.ha(s.documents),l=Ll.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Tf(e,n,u.da);const c=new af(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function hf(e,t){const n=oi(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!ya(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Rd(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),mh(n.remoteStore,r.targetId),Ef(n,r.targetId)})).catch(zi)):(Ef(n,r.targetId),await Rd(n.localStore,r.targetId,!0))}async function ff(e,t,n){const r=Wf(e);try{const e=await function(e,t){const n=oi(e),r=Ti.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ma());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=ka(),l=Ma();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=ul(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new hl(e.key,t,Ao(t.value.mapValue),rl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Ra(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Bs(wi)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await kf(r,e.changes),await kh(r.remoteStore)}catch(e){const t=$h(e,"Failed to persist write");n.reject(t)}}async function pf(e,t){const n=oi(e);try{const e=await Sd(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(ii(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?ii(r.ma):e.removedDocuments.size>0&&(ii(r.ma),r.ma=!1))})),await kf(n,e,t)}catch(e){await zi(e)}}function mf(e,t,n){const r=oi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=oi(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Yh(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gf(e,t,n){const r=oi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new Bs(Ri.comparator);e=e.insert(s,xo.newNoDocument(s,Ci.min()));const n=Ma().add(s),i=new Pl(Ci.min(),new Map,new Bs(wi),e,n);await pf(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),Sf(r)}else await Rd(r.localStore,t,!1).then((()=>Ef(r,t,n))).catch(zi)}async function vf(e,t){const n=oi(e),r=t.batch.batchId;try{const e=await Td(n.localStore,t);wf(n,r,null),_f(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kf(n,e)}catch(e){await zi(e)}}async function yf(e,t,n){const r=oi(e);try{const e=await function(e,t){const n=oi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ii(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);wf(r,t,n),_f(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await kf(r,e)}catch(n){await zi(n)}}async function bf(e,t){const n=oi(e);_h(n.remoteStore)||Zr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=oi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=$h(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}function _f(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function wf(e,t,n){const r=oi(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Ef(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||If(e,t)}))}function If(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(mh(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Sf(e))}function Tf(e,t,n){for(const r of n)r instanceof rf?(e.ba.addReference(r.key,t),Cf(e,r)):r instanceof sf?(Zr("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||If(e,r.key)):ri()}function Cf(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Zr("SyncEngine","New document in limbo: "+n),e.ya.add(r),Sf(e))}function Sf(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Ri(ki.fromString(t)),r=e.va.next();e.Sa.set(r,new lf(n)),e.wa=e.wa.insert(n,r),ph(e.remoteStore,new ku(pa(ca(n.path)),r,"TargetPurposeLimboResolution",rs._e))}}async function kf(e,t,n){const r=oi(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{o.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=yd.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.fa.u_(i),await async function(e,t){const n=oi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>qi.forEach(t,(t=>qi.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>qi.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Qi(e))throw e;Zr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Af(e,t){const n=oi(e);if(!n.currentUser.isEqual(t)){Zr("SyncEngine","User change. New user:",t.toKey());const e=await Id(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new li(ai.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await kf(n,e.us)}}function xf(e,t){const n=oi(e),r=n.Sa.get(t);if(r&&r.ma)return Ma().add(r.key);{let e=Ma();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function Rf(e,t){const n=oi(e),r=await Od(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&Tf(n,t.targetId,i.da),i}async function Of(e,t){const n=oi(e);return Dd(n.localStore,t).then((e=>kf(n,e)))}async function Nf(e,t,n,r){const i=oi(e),s=await function(e,t){const n=oi(e),r=oi(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):qi.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await kh(i.remoteStore):"acknowledged"===n||"rejected"===n?(wf(i,t,r||null),_f(i,t),function(e,t){oi(oi(e).mutationQueue).Mn(t)}(i.localStore,t)):ri(),await kf(i,s)):Zr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Df(e,t){const n=oi(e);if(Bf(n),Wf(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Pf(n,e.toArray());n.Fa=!0,await Fh(n.remoteStore,!0);for(const r of t)ph(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Ef(n,i),Rd(n.localStore,i,!0)))),mh(n.remoteStore,i)})),await t,await Pf(n,e),function(e){const t=oi(e);t.Sa.forEach(((e,n)=>{mh(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new Bs(Ri.comparator)}(n),n.Fa=!1,await Fh(n.remoteStore,!1)}}async function Pf(e,t,n){const r=oi(e),i=[],s=[];for(const o of t){let e;const t=r.pa.get(o);if(t&&0!==t.length){e=await xd(r.localStore,pa(t[0]));for(const e of t){const t=r.ga.get(e),n=await Rf(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Nd(r.localStore,o);e=await xd(r.localStore,t),await df(r,Lf(t),o,!1,e.resumeToken)}i.push(e)}return r.fa.u_(s),i}function Lf(e){return ua(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Mf(e){return function(e){return oi(oi(e).persistence).Li()}(oi(e).localStore)}async function Ff(e,t,n,r){const i=oi(e);if(i.Fa)return void Zr("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Dd(i.localStore,Ea(s[0])),r=Pl.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Hs.EMPTY_BYTE_STRING);await kf(i,e,r);break}case"rejected":await Rd(i.localStore,t,!0),Ef(i,t,r);break;default:ri()}}async function Vf(e,t,n){const r=Bf(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){Zr("SyncEngine","Adding an already active target "+e);continue}const t=await Nd(r.localStore,e),n=await xd(r.localStore,t);await df(r,Lf(t),n.targetId,!1,n.resumeToken),ph(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await Rd(r.localStore,e,!1).then((()=>{mh(r.remoteStore,e),Ef(r,e)})).catch(zi)}}function Bf(e){const t=oi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gf.bind(null,t),t.fa.u_=Xh.bind(null,t.eventManager),t.fa.xa=Qh.bind(null,t.eventManager),t}function Wf(e){const t=oi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yf.bind(null,t),t}function $f(e,t,n){const r=oi(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=oi(e),r=Yl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(nf(r));const i=new tf(r,e.localStore,t.serializer);let s=await t.Oa();for(;s;){const e=await i.na(s);e&&n._updateProgress(e),s=await t.Oa()}const o=await i.complete();return await kf(e,o.sa,void 0),await function(e,t){const n=oi(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ia)}catch(e){return ti("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}class jf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ed(this.persistence,new _d,e.initialUser,this.serializer)}createPersistence(e){return new ad(ud.Hr,this.serializer)}createSharedClientState(e){return new Gd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Uf extends jf{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){ii(this.persistence.referenceDelegate instanceof cd);const n=this.persistence.referenceDelegate.garbageCollector;return new Fc(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?Ec.withCacheSize(this.cacheSizeBytes):Ec.DEFAULT;return new ad((e=>cd.Hr(e,t)),this.serializer)}}class zf extends jf{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await Wf(this.Na.syncEngine),await kh(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Ed(this.persistence,new _d,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Fc(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new ns(t,this.persistence);return new ts(e.asyncQueue,n)}createPersistence(e){const t=vd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ec.withCacheSize(this.cacheSizeBytes):Ec.DEFAULT;return new pd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,th(),nh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Gd}}class qf extends zf{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof qd&&(this.sharedClientState.syncEngine={Zs:Nf.bind(null,t),Xs:Ff.bind(null,t),eo:Vf.bind(null,t),Li:Mf.bind(null,t),Ys:Of.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await Df(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=th();if(!qd.D(t))throw new li(ai.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=vd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qd(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Gf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Af.bind(null,this.syncEngine),await Fh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gh}()}createDatastore(e){const t=rh(e.databaseInfo.databaseId),n=function(e){return new eh(e)}(e.databaseInfo);return function(e,t,n,r){return new lh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new dh(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>mf(this.syncEngine,e,0)),function(){return Hd.D()?new Hd:new Kd}())}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new uf(e,t,n,r,i,s);return o&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=oi(e);Zr("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await fh(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new ui,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.X_)}`))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a(`length string (${t}) is not valid number`);const r=await this.Ua(n);return new Zh(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0;)if(await this.Ga())break;if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new li(ai.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=oi(e),r={documents:t.map((e=>tu(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,ki.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=uu(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());ii(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new gl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Ri.fromPath(t);this.mutations.push(new vl(n,this.precondition(n)))})),await async function(e,t){const n=oi(e),r={writes:t.map((e=>du(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,ki.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ri();t=Ci.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new li(ai.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ci.min())?rl.exists(!1):rl.updateTime(t):rl.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ci.min()))throw new li(ai.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rl.updateTime(t)}return rl.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new ih(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new Qf(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Cl(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Hr.UNAUTHENTICATED,this.clientId=_i.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Zr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Zr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new li(ai.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=$h(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Zf(e,t){e.asyncQueue.verifyOperationInProgress(),Zr("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Id(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ep(e,t){e.asyncQueue.verifyOperationInProgress();const n=await np(e);Zr("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Mh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Mh(t.remoteStore,n))),e._onlineComponents=t}function tp(e){return"FirebaseError"===e.name?e.code===ai.FAILED_PRECONDITION||e.code===ai.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function np(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zr("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!tp(n))throw n;ti("Error using user provided cache. Falling back to memory cache: "+n),await Zf(e,new jf)}}else Zr("FirestoreClient","Using default OfflineComponentProvider"),await Zf(e,new jf);return e._offlineComponents}async function rp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zr("FirestoreClient","Using user provided OnlineComponentProvider"),await ep(e,e._uninitializedComponentsProvider._online)):(Zr("FirestoreClient","Using default OnlineComponentProvider"),await ep(e,new Gf))),e._onlineComponents}function ip(e){return np(e).then((e=>e.persistence))}function sp(e){return np(e).then((e=>e.localStore))}function op(e){return rp(e).then((e=>e.remoteStore))}function ap(e){return rp(e).then((e=>e.syncEngine))}function lp(e){return rp(e).then((e=>e.datastore))}async function up(e){const t=await rp(e),n=t.eventManager;return n.onListen=cf.bind(null,t.syncEngine),n.onUnlisten=hf.bind(null,t.syncEngine),n}function cp(e){return e.asyncQueue.enqueue((async()=>{const t=await ip(e),n=await op(e);return t.setNetworkEnabled(!0),function(e){const t=oi(e);return t.v_.delete(0),hh(t)}(n)}))}function dp(e){return e.asyncQueue.enqueue((async()=>{const t=await ip(e),n=await op(e);return t.setNetworkEnabled(!1),async function(e){const t=oi(e);t.v_.add(0),await fh(t),t.x_.set("Offline")}(n)}))}function hp(e,t){const n=new ui;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=oi(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new li(ai.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=$h(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await sp(e),t,n))),n.promise}function fp(e,t,n={}){const r=new ui;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Hf({next:s=>{t.enqueueAndForget((()=>Hh(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new li(ai.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new li(ai.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Jh(ca(n.path),s,{includeMetadataChanges:!0,Z_:!0});return Kh(e,o)}(await up(e),e.asyncQueue,t,n,r))),r.promise}function pp(e,t){const n=new ui;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Od(e,t,!0),i=new of(t,r.hs),s=i.ha(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=$h(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await sp(e),t,n))),n.promise}function mp(e,t,n={}){const r=new ui;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Hf({next:n=>{t.enqueueAndForget((()=>Hh(e,o))),n.fromCache&&"server"===r.source?i.reject(new li(ai.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Jh(n,s,{includeMetadataChanges:!0,Z_:!0});return Kh(e,o)}(await up(e),e.asyncQueue,t,n,r))),r.promise}function gp(e,t){const n=new Hf(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){oi(e).K_.add(t),t.next()}(await up(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){oi(e).K_.delete(t)}(await up(e),n)))}}function vp(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Al().encode(e):e,function(e,t){return new Xf(e,t)}(function(e,t){if(e instanceof Uint8Array)return Kf(e,t);if(e instanceof ArrayBuffer)return Kf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,rh(t));e.asyncQueue.enqueueAndForget((async()=>{$f(await ap(e),i,r)}))}function yp(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=oi(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await sp(e),t)))}function bp(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=oi(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const s=e.length,o=t.length;let a=0,l=0;for(;a<o&&l<s;){const s=n(e[l],t[a]);s<0?i(e[l++]):s>0?r(t[a++]):(a++,l++)}for(;a<o;)r(t[a++]);for(;l<s;)i(e[l++])}(n,t,Pi,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>qi.waitFor(i)))))}(await sp(e),t)))}function _p(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){oi(e).ts.Ui=t}(await sp(e),t)))}function wp(e){return e.asyncQueue.enqueue((async()=>function(e){const t=oi(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(await sp(e))))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Ip=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(e,t,n){if(!n)throw new li(ai.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Cp(e,t,n,r){if(!0===t&&!0===r)throw new li(ai.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Sp(e){if(!Ri.isDocumentKey(e))throw new li(ai.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function kp(e){if(Ri.isDocumentKey(e))throw new li(ai.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ap(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":ri()}function xp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new li(ai.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ap(e);throw new li(ai.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Rp(e,t){if(t<=0)throw new li(ai.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new li(ai.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new li(ai.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ep(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new li(ai.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new li(ai.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new li(ai.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Op({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new li(ai.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new li(ai.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Op(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new di;switch(e.type){case"firstParty":return new mi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new li(ai.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ip.get(e);t&&(Zr("ComponentProvider","Removing Datastore"),Ip.delete(e),t.terminate())}(this),Promise.resolve()}}function Dp(e,t,n,r={}){var i;const s=(e=xp(e,Np))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Hr.MOCK_USER;else{t=(0,a.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new li(ai.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Hr(s)}e._authCredentials=new hi(new ci(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pp(this.firestore,e,this._query)}}class Lp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lp(this.firestore,e,this._key)}}class Mp extends Pp{constructor(e,t,n){super(e,t,ca(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lp(this.firestore,null,new Ri(e))}withConverter(e){return new Mp(this.firestore,e,this._path)}}function Fp(e,t,...n){if(e=(0,a.Ku)(e),Tp("collection","path",t),e instanceof Np){const r=ki.fromString(t,...n);return kp(r),new Mp(e,null,r)}{if(!(e instanceof Lp||e instanceof Mp))throw new li(ai.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ki.fromString(t,...n));return kp(r),new Mp(e.firestore,null,r)}}function Vp(e,t){if(e=xp(e,Np),Tp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new li(ai.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pp(e,null,function(e){return new la(ki.emptyPath(),e)}(t))}function Bp(e,t,...n){if(e=(0,a.Ku)(e),1===arguments.length&&(t=_i.newId()),Tp("doc","path",t),e instanceof Np){const r=ki.fromString(t,...n);return Sp(r),new Lp(e,null,new Ri(r))}{if(!(e instanceof Lp||e instanceof Mp))throw new li(ai.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ki.fromString(t,...n));return Sp(r),new Lp(e.firestore,e instanceof Mp?e.converter:null,new Ri(r))}}function Wp(e,t){return e=(0,a.Ku)(e),t=(0,a.Ku)(t),(e instanceof Lp||e instanceof Mp)&&(t instanceof Lp||t instanceof Mp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $p(e,t){return e=(0,a.Ku)(e),t=(0,a.Ku)(t),e instanceof Pp&&t instanceof Pp&&e.firestore===t.firestore&&ya(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jp{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ih(this,"async_queue_retry"),this._u=()=>{const e=nh();e&&Zr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=nh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=nh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new ui;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Qi(e))throw e;Zr("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw ei("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Wh.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&ri()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function Up(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class zp{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;class Gp extends Np{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=function(){return new jp}(),this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qp(this),this._firestoreClient.terminate()}}function Kp(e,t,n){n||(n="(default)");const r=(0,i.j6)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,a.bD)(i,t))return e;throw new li(ai.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new li(ai.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new li(ai.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Hp(e,t){const n="object"==typeof e?e:(0,i.Sx)(),r="string"==typeof e?e:t||"(default)",s=(0,i.j6)(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=(0,a.yU)("firestore");e&&Dp(s,...e)}return s}function Xp(e){return e._firestoreClient||Qp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Qp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new no(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ep(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Jf(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Yp(e,t){am(e=xp(e,Gp));const n=Xp(e);if(n._uninitializedComponentsProvider)throw new li(ai.FAILED_PRECONDITION,"SDK cache is already specified.");ti("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Gf;return Zp(n,i,new zf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Jp(e){am(e=xp(e,Gp));const t=Xp(e);if(t._uninitializedComponentsProvider)throw new li(ai.FAILED_PRECONDITION,"SDK cache is already specified.");ti("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Gf;return Zp(t,r,new qf(r,n.cacheSizeBytes))}function Zp(e,t,n){const r=new ui;return e.asyncQueue.enqueue((async()=>{try{await Zf(e,n),await ep(e,t),r.resolve()}catch(e){const n=e;if(!tp(n))throw n;ti("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function em(e){if(e._initialized&&!e._terminated)throw new li(ai.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ui;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ki.D())return Promise.resolve();const t=e+"main";await Ki.delete(t)}(vd(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function tm(e){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((async()=>bf(await ap(e),t))),t.promise}(Xp(e=xp(e,Gp)))}function nm(e){return cp(Xp(e=xp(e,Gp)))}function rm(e){return dp(Xp(e=xp(e,Gp)))}function im(e){return(0,i.Us)(e.app,"firestore",e._databaseId.database),e._delete()}function sm(e,t){const n=Xp(e=xp(e,Gp)),r=new zp;return vp(n,e._databaseId,t,r),r}function om(e,t){return yp(Xp(e=xp(e,Gp)),t).then((t=>t?new Pp(e,null,t.query):null))}function am(e){if(e._initialized||e._terminated)throw new li(ai.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class um{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cm(Hs.fromBase64String(e))}catch(e){throw new li(ai.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new cm(Hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new li(ai.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function hm(){return new dm("__name__")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new li(ai.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new li(ai.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wi(this._lat,e._lat)||wi(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=/^__.*__$/;class gm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new hl(e,this.data,this.fieldMask,t,this.fieldTransforms):new dl(e,this.data,t,this.fieldTransforms)}}class vm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ym(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ri()}}class bm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Bm(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(ym(this.du)&&mm.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class _m{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rh(e)}Su(e,t,n,r=!1){return new bm({du:e,methodName:t,wu:n,path:xi.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wm(e){const t=e._freezeSettings(),n=rh(e._databaseId);return new _m(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Em(e,t,n,r,i,s={}){const o=e.Su(s.merge||s.mergeFields?2:0,t,n,i);Lm("Data must be an object, but it was:",o,r);const a=Dm(r,o);let l,u;if(s.merge)l=new qs(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Mm(t,r,n);if(!o.contains(i))throw new li(ai.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Wm(e,i)||e.push(i)}l=new qs(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new gm(new ko(a),l,u)}class Im extends fm{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Im}}function Tm(e,t,n){return new bm({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cm extends fm{_toFieldTransform(e){return new el(e.path,new Ga)}isEqual(e){return e instanceof Cm}}class Sm extends fm{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=Tm(this,e,!0),n=this.bu.map((e=>Nm(e,t))),r=new Ka(n);return new el(e.path,r)}isEqual(e){return e instanceof Sm&&(0,a.bD)(this.bu,e.bu)}}class km extends fm{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=Tm(this,e,!0),n=this.bu.map((e=>Nm(e,t))),r=new Xa(n);return new el(e.path,r)}isEqual(e){return e instanceof km&&(0,a.bD)(this.bu,e.bu)}}class Am extends fm{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new Ya(e.serializer,$a(e.serializer,this.Du));return new el(e.path,t)}isEqual(e){return e instanceof Am&&this.Du===e.Du}}function xm(e,t,n,r){const i=e.Su(1,t,n);Lm("Data must be an object, but it was:",i,r);const s=[],o=ko.empty();Fs(r,((e,r)=>{const l=Vm(t,e,n);r=(0,a.Ku)(r);const u=i.fu(l);if(r instanceof Im)s.push(l);else{const e=Nm(r,u);null!=e&&(s.push(l),o.set(l,e))}}));const l=new qs(s);return new vm(o,l,i.fieldTransforms)}function Rm(e,t,n,r,i,s){const o=e.Su(1,t,n),l=[Mm(t,r,n)],u=[i];if(s.length%2!=0)throw new li(ai.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<s.length;a+=2)l.push(Mm(t,s[a])),u.push(s[a+1]);const c=[],d=ko.empty();for(let f=l.length-1;f>=0;--f)if(!Wm(c,l[f])){const e=l[f];let t=u[f];t=(0,a.Ku)(t);const n=o.fu(e);if(t instanceof Im)c.push(e);else{const r=Nm(t,n);null!=r&&(c.push(e),d.set(e,r))}}const h=new qs(c);return new vm(d,h,o.fieldTransforms)}function Om(e,t,n,r=!1){return Nm(n,e.Su(r?4:3,t))}function Nm(e,t){if(Pm(e=(0,a.Ku)(e)))return Lm("Unsupported field value:",t,e),Dm(e,t);if(e instanceof fm)return function(e,t){if(!ym(t.du))throw t.pu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.pu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Nm(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $a(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ti.fromDate(e);return{timestampValue:Hl(t.serializer,n)}}if(e instanceof Ti){const n=new Ti(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hl(t.serializer,n)}}if(e instanceof pm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cm)return{bytesValue:Xl(t.serializer,e._byteString)};if(e instanceof Lp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Jl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu(`Unsupported field value: ${Ap(e)}`)}(e,t)}function Dm(e,t){const n={};return Vs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fs(e,((e,r)=>{const i=Nm(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ti||e instanceof pm||e instanceof cm||e instanceof Lp||e instanceof fm)}function Lm(e,t,n){if(!Pm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ap(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Mm(e,t,n){if((t=(0,a.Ku)(t))instanceof dm)return t._internalPath;if("string"==typeof t)return Vm(e,t);throw Bm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Fm=new RegExp("[~\\*/\\[\\]]");function Vm(e,t,n){if(t.search(Fm)>=0)throw Bm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dm(...t.split("."))._internalPath}catch(w){throw Bm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Bm(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new li(ai.INVALID_ARGUMENT,a+e+l)}function Wm(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Lp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jm extends $m{data(){return super.data()}}function Um(e,t){return"string"==typeof t?Vm(e,t):t instanceof dm?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new li(ai.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class Gm extends qm{}function Km(e,t,...n){let r=[];t instanceof qm&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Qm)).length,n=e.filter((e=>e instanceof Hm)).length;if(t>1||t>0&&n>0)throw new li(ai.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r);for(const i of r)e=i._apply(e);return e}class Hm extends Gm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hm(e,t,n)}_apply(e){const t=this._parse(e);return fg(e._query,t),new Pp(e.firestore,e.converter,ga(e._query,t))}_parse(e){const t=wm(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new li(ai.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){hg(o,s);const t=[];for(const n of o)t.push(dg(r,e,n));a={arrayValue:{values:t}}}else a=dg(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||hg(o,s),a=Om(n,t,o,"in"===s||"not-in"===s);return Mo.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Xm(e,t,n){const r=t,i=Um("where",e);return Hm._create(i,r,n)}class Qm extends qm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Fo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)fg(n,i),n=ga(n,i)}(e._query,t),new Pp(e.firestore,e.converter,ga(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ym(...e){return e.forEach((e=>pg("or",e))),Qm._create("or",e)}function Jm(...e){return e.forEach((e=>pg("and",e))),Qm._create("and",e)}class Zm extends Gm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new li(ai.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new li(ai.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Do(t,n)}(e._query,this._field,this._direction);return new Pp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new la(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function eg(e,t="asc"){const n=t,r=Um("orderBy",e);return Zm._create(r,n)}class tg extends Gm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new tg(e,t,n)}_apply(e){return new Pp(e.firestore,e.converter,va(e._query,this._limit,this._limitType))}}function ng(e){return Rp("limit",e),tg._create("limit",e,"F")}function rg(e){return Rp("limitToLast",e),tg._create("limitToLast",e,"L")}class ig extends Gm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ig(e,t,n)}_apply(e){const t=cg(e,this.type,this._docOrFields,this._inclusive);return new Pp(e.firestore,e.converter,function(e,t){return new la(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function sg(...e){return ig._create("startAt",e,!0)}function og(...e){return ig._create("startAfter",e,!1)}class ag extends Gm{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ag(e,t,n)}_apply(e){const t=cg(e,this.type,this._docOrFields,this._inclusive);return new Pp(e.firestore,e.converter,function(e,t){return new la(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lg(...e){return ag._create("endBefore",e,!1)}function ug(...e){return ag._create("endAt",e,!0)}function cg(e,t,n,r){if(n[0]=(0,a.Ku)(n[0]),n[0]instanceof $m)return function(e,t,n,r,i){if(!r)throw new li(ai.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of fa(e))if(o.field.isKeyField())s.push(mo(t,r.key));else{const e=r.data.field(o.field);if(Zs(e))throw new li(ai.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new li(ai.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Ro(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=wm(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new li(ai.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new li(ai.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!ha(e)&&-1!==s.indexOf("/"))throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(ki.fromString(s));if(!Ri.isDocumentKey(n))throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Ri(n);a.push(mo(t,i))}else{const e=Om(n,r,s);a.push(e)}}return new Ro(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function dg(e,t,n){if("string"==typeof(n=(0,a.Ku)(n))){if(""===n)throw new li(ai.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ha(t)&&-1!==n.indexOf("/"))throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ki.fromString(n));if(!Ri.isDocumentKey(r))throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mo(e,new Ri(r))}if(n instanceof Lp)return mo(e,n._key);throw new li(ai.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ap(n)}.`)}function hg(e,t){if(!Array.isArray(e)||0===e.length)throw new li(ai.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new li(ai.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new li(ai.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function pg(e,t){if(!(t instanceof Hm||t instanceof Qm))throw new li(ai.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class mg{convertValue(e,t="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ys(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ri()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Fs(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new pm(Ys(e.latitude),Ys(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=eo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const t=Qs(e);return new Ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ki.fromString(e);ii(Su(n));const r=new ro(n.get(1),n.get(3)),i=new Ri(n.popFirst(5));return r.isEqual(t)||ei(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class vg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new cm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lp(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(e){return new lm("sum",Mm("sum",e))}function bg(e){return new lm("avg",Mm("average",e))}function _g(){return new lm("count")}function wg(e,t){var n,r;return e instanceof lm&&t instanceof lm&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())}function Eg(e,t){return $p(e.query,t.query)&&(0,a.bD)(e.data(),t.data())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tg extends $m{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Um("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Cg extends Tg{data(e={}){return super.data(e)}}class Sg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ig(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Cg(this._firestore,this._userDataWriter,n.key,n,new Ig(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new li(ai.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Cg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ig(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Cg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ig(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:kg(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ri()}}function Ag(e,t){return e instanceof Tg&&t instanceof Tg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Sg&&t instanceof Sg&&e._firestore===t._firestore&&$p(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(e){e=xp(e,Lp);const t=xp(e.firestore,Gp);return fp(Xp(t),e._key).then((n=>Ug(t,e,n)))}class Rg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new cm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lp(this.firestore,null,t)}}function Og(e){e=xp(e,Lp);const t=xp(e.firestore,Gp),n=Xp(t),r=new Rg(t);return hp(n,e._key).then((n=>new Tg(t,r,e._key,n,new Ig(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Ng(e){e=xp(e,Lp);const t=xp(e.firestore,Gp);return fp(Xp(t),e._key,{source:"server"}).then((n=>Ug(t,e,n)))}function Dg(e){e=xp(e,Pp);const t=xp(e.firestore,Gp),n=Xp(t),r=new Rg(t);return zm(e._query),mp(n,e._query).then((n=>new Sg(t,r,e,n)))}function Pg(e){e=xp(e,Pp);const t=xp(e.firestore,Gp),n=Xp(t),r=new Rg(t);return pp(n,e._query).then((n=>new Sg(t,r,e,n)))}function Lg(e){e=xp(e,Pp);const t=xp(e.firestore,Gp),n=Xp(t),r=new Rg(t);return mp(n,e._query,{source:"server"}).then((n=>new Sg(t,r,e,n)))}function Mg(e,t,n){e=xp(e,Lp);const r=xp(e.firestore,Gp),i=gg(e.converter,t,n);return jg(r,[Em(wm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rl.none())])}function Fg(e,t,n,...r){e=xp(e,Lp);const i=xp(e.firestore,Gp),s=wm(i);let o;return o="string"==typeof(t=(0,a.Ku)(t))||t instanceof dm?Rm(s,"updateDoc",e._key,t,n,r):xm(s,"updateDoc",e._key,t),jg(i,[o.toMutation(e._key,rl.exists(!0))])}function Vg(e){return jg(xp(e.firestore,Gp),[new gl(e._key,rl.none())])}function Bg(e,t){const n=xp(e.firestore,Gp),r=Bp(e),i=gg(e.converter,t);return jg(n,[Em(wm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rl.exists(!1))]).then((()=>r))}function Wg(e,...t){var n,r,i;e=(0,a.Ku)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Up(t[o])||(s=t[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges};if(Up(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,d;if(e instanceof Lp)c=xp(e.firestore,Gp),d=ca(e._key.path),u={next:n=>{t[o]&&t[o](Ug(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=xp(e,Pp);c=xp(n.firestore,Gp),d=n._query;const r=new Rg(c);u={next:e=>{t[o]&&t[o](new Sg(c,r,n,e))},error:t[o+1],complete:t[o+2]},zm(e._query)}return function(e,t,n,r){const i=new Hf(r),s=new Jh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Kh(await up(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>Hh(await up(e),s)))}}(Xp(c),d,l,u)}function $g(e,t){return gp(Xp(e=xp(e,Gp)),Up(t)?t:{next:t})}function jg(e,t){return function(e,t){const n=new ui;return e.asyncQueue.enqueueAndForget((async()=>ff(await ap(e),t,n))),n.promise}(Xp(e),t)}function Ug(e,t,n){const r=n.docs.get(t._key),i=new Rg(e);return new Tg(e,i,t._key,r,new Ig(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(e){return qg(e,{count:_g()})}function qg(e,t){const n=xp(e.firestore,Gp),r=Xp(n),i=function(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}(t,((e,t)=>new wl(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new ui;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await lp(e);r.resolve(uh(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Rg(e);return new um(t,r,n)}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e,t)))}class Gg{constructor(e){this.kind="memory",this._onlineComponentProvider=new Gf,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new jf}toJSON(){return{kind:this.kind}}}class Kg{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=nv(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Hg{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new jf}toJSON(){return{kind:this.kind}}}class Xg{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new Uf(e)}toJSON(){return{kind:this.kind}}}function Qg(){return new Hg}function Yg(e){return new Xg(null==e?void 0:e.cacheSizeBytes)}function Jg(e){return new Gg(e)}function Zg(e){return new Kg(e)}class ev{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Gf,this._offlineComponentProvider=new zf(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}class tv{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Gf,this._offlineComponentProvider=new qf(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}function nv(e){return new ev(null==e?void 0:e.forceOwnership)}function rv(){return new tv}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wm(e)}set(e,t,n){this._verifyNotCommitted();const r=ov(e,this._firestore),i=gg(r.converter,t,n),s=Em(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,rl.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=ov(e,this._firestore);let s;return s="string"==typeof(t=(0,a.Ku)(t))||t instanceof dm?Rm(this._dataReader,"WriteBatch.update",i._key,t,n,r):xm(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,rl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ov(e,this._firestore);return this._mutations=this._mutations.concat(new gl(t._key,rl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new li(ai.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ov(e,t){if((e=(0,a.Ku)(e)).firestore!==t)throw new li(ai.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wm(e)}get(e){const t=ov(e,this._firestore),n=new vg(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return ri();const r=e[0];if(r.isFoundDocument())return new $m(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new $m(this._firestore,n,t._key,null,t.converter);throw ri()}))}set(e,t,n){const r=ov(e,this._firestore),i=gg(r.converter,t,n),s=Em(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=ov(e,this._firestore);let s;return s="string"==typeof(t=(0,a.Ku)(t))||t instanceof dm?Rm(this._dataReader,"Transaction.update",i._key,t,n,r):xm(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=ov(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ov(e,this._firestore),n=new Rg(this._firestore);return super.get(e).then((e=>new Tg(this._firestore,n,t._key,e._document,new Ig(!1,!1),t.converter)))}}function lv(e,t,n){e=xp(e,Gp);const r=Object.assign(Object.assign({},iv),n);return function(e){if(e.maxAttempts<1)throw new li(ai.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ui;return e.asyncQueue.enqueueAndForget((async()=>{const i=await lp(e);new Yf(e.asyncQueue,i,n,t,r).ja()})),r.promise}(Xp(e),(n=>t(new av(e,n))),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(){return new Im("deleteField")}function cv(){return new Cm("serverTimestamp")}function dv(...e){return new Sm("arrayUnion",e)}function hv(...e){return new km("arrayRemove",e)}function fv(e){return new Am("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(e){return Xp(e=xp(e,Gp)),new sv(e,(t=>jg(e,t)))
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function mv(e,t){var n;const r=Xp(e=xp(e,Gp));if(!r._uninitializedComponentsProvider||"memory"===(null===(n=r._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return ti("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new li(ai.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const r of t.indexes){const e=gv(r,"collectionGroup"),t=[];if(Array.isArray(r.fields))for(const n of r.fields){const e=Vm("setIndexConfiguration",gv(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new Li(e,2)):"ASCENDING"===n.order?t.push(new Li(e,0)):"DESCENDING"===n.order&&t.push(new Li(e,1))}n.push(new Oi(Oi.UNKNOWN_ID,e,t,Fi.empty()))}return n}(t);return bp(r,i)}function gv(e,t){if("string"!=typeof e[t])throw new li(ai.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this._client=e,this.type="PersistentCacheIndexManager"}}function yv(e){var t;e=xp(e,Gp);const n=Iv.get(e);if(n)return n;const r=Xp(e);if("persistent"!==(null===(t=r._uninitializedComponentsProvider)||void 0===t?void 0:t._offlineKind))return null;const i=new vv(r);return Iv.set(e,i),i}function bv(e){Ev(e,!0)}function _v(e){Ev(e,!1)}function wv(e){e._client.verifyNotTerminated(),wp(e._client).then((e=>Zr("deleting all persistent cache indexes succeeded"))).catch((e=>ti("deleting all persistent cache indexes failed",e)))}function Ev(e,t){e._client.verifyNotTerminated(),_p(e._client,t).then((e=>Zr(`setting persistent cache index auto creation isEnabled=${t} succeeded`))).catch((e=>ti(`setting persistent cache index auto creation isEnabled=${t} failed`,e)))}const Iv=new WeakMap;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Cv.instance.onExistenceFilterMismatch(e)}}class Cv{constructor(){this.Cu=new Map}static get instance(){return Sv||(Sv=new Cv,function(e){if(kl)throw new Error("a TestingHooksSpi instance is already set");kl=e}(Sv)),Sv}tt(e){this.Cu.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Cu;return n.set(t,e),()=>n.delete(t)}}let Sv=null;!function(e,t=!0){!function(e){Xr=e}(i.MF),(0,i.om)(new s.uA("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new Gp(new fi(e.getProvider("auth-internal")),new vi(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new li(ai.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),(0,i.KO)(Kr,"4.4.2",e),(0,i.KO)(Kr,"4.4.2","esm2017")}()},5234:function(e,t,n){n.d(t,{Ey:function(){return ee}});n(4114),n(4603),n(7566),n(8721);var r=n(144),i=n(6768),s=!1;var o=n(179);
/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */
let a;const l=e=>a=e,u=Symbol();var c;(function(e){e["direct"]="direct",e["patchObject"]="patch object",e["patchFunction"]="patch function"})(c||(c={}));const d="undefined"!==typeof window,h=!1,f=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function p(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function m(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){_(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function g(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function v(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const y="object"===typeof navigator?navigator:{userAgent:""},b=(()=>/Macintosh/.test(y.userAgent)&&/AppleWebKit/.test(y.userAgent)&&!/Safari/.test(y.userAgent))(),_=d?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!b?w:"msSaveOrOpenBlob"in y?E:I:()=>{};function w(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener","string"===typeof e?(r.href=e,r.origin!==location.origin?g(r.href)?m(e,t,n):(r.target="_blank",v(r)):v(r)):(r.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(r.href)}),4e4),setTimeout((function(){v(r)}),0))}function E(e,t="download",n){if("string"===typeof e)if(g(e))m(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){v(t)}))}else navigator.msSaveOrOpenBlob(p(e,n),t)}function I(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"===typeof e)return m(e,t,n);const i="application/octet-stream"===e.type,s=/constructor/i.test(String(f.HTMLElement))||"safari"in f,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s||b)&&"undefined"!==typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!==typeof e)throw r=null,new Error("Wrong reader.result type");e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}function T(e,t){const n="🍍 "+e;"function"===typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?console.error(n):"warn"===t?console.warn(n):console.log(n)}function C(e){return"_a"in e&&"install"in e}function S(){if(!("clipboard"in navigator))return T("Your browser doesn't support the Clipboard API","error"),!0}function k(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(T('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function A(e){if(!S())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),T("Global state copied to clipboard.")}catch(t){if(k(t))return;T("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function x(e){if(!S())try{P(e,JSON.parse(await navigator.clipboard.readText())),T("Global state pasted from clipboard.")}catch(t){if(k(t))return;T("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function R(e){try{_(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){T("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let O;function N(){function e(){return new Promise(((e,t)=>{O.onchange=async()=>{const t=O.files;if(!t)return e(null);const n=t.item(0);return e(n?{text:await n.text(),file:n}:null)},O.oncancel=()=>e(null),O.onerror=t,O.click()}))}return O||(O=document.createElement("input"),O.type="file",O.accept=".json"),e}async function D(e){try{const t=N(),n=await t();if(!n)return;const{text:r,file:i}=n;P(e,JSON.parse(r)),T(`Global state imported from "${i.name}".`)}catch(t){T("Failed to import the state from JSON. Check the console for more details.","error"),console.error(t)}}function P(e,t){for(const n in t){const r=e.state.value[n];r?Object.assign(r,t[n]):e.state.value[n]=t[n]}}function L(e){return{_custom:{display:e}}}const M="🍍 Pinia (root)",F="_root";function V(e){return C(e)?{id:F,label:M}:{id:e.$id,label:e.$id}}function B(e){if(C(e)){const t=Array.from(e._s.keys()),n=e._s,r={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>n.get(e)._getters)).map((e=>{const t=n.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,n)=>(e[n]=t[n],e)),{})}}))};return r}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}function W(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:L(e.type),key:L(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function $(e){switch(e){case c.direct:return"mutation";case c.patchFunction:return"$patch";case c.patchObject:return"$patch";default:return"unknown"}}let j=!0;const U=[],z="pinia:mutations",q="pinia",{assign:G}=Object,K=e=>"🍍 "+e;function H(e,t){(0,o.$q)({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:U,app:e},(n=>{"function"!==typeof n.now&&T("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:z,label:"Pinia 🍍",color:15064968}),n.addInspector({id:q,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{A(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await x(t),n.sendInspectorTree(q),n.sendInspectorState(q)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{R(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await D(t),n.sendInspectorTree(q),n.sendInspectorState(q)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:e=>{const n=t._s.get(e);n?"function"!==typeof n.$reset?T(`Cannot reset "${e}" store because it doesn't have a "$reset" method implemented.`,"warn"):(n.$reset(),T(`Store "${e}" reset.`)):T(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((e,t)=>{const n=e.componentInstance&&e.componentInstance.proxy;if(n&&n._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:K(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:(0,r.ux)(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,n)=>(e[n]=t.$state[n],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:K(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,n)=>{try{e[n]=t[n]}catch(r){e[n]=r}return e}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===e&&n.inspectorId===q){let e=[t];e=e.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(n.filter.toLowerCase()):M.toLowerCase().includes(n.filter.toLowerCase()))):e).map(V)}})),n.on.getInspectorState((n=>{if(n.app===e&&n.inspectorId===q){const e=n.nodeId===F?t:t._s.get(n.nodeId);if(!e)return;e&&(n.state=B(e))}})),n.on.editInspectorState(((n,r)=>{if(n.app===e&&n.inspectorId===q){const e=n.nodeId===F?t:t._s.get(n.nodeId);if(!e)return T(`store "${n.nodeId}" not found`,"error");const{path:r}=n;C(e)?r.unshift("state"):1===r.length&&e._customProperties.has(r[0])&&!(r[0]in e.$state)||r.unshift("$state"),j=!1,n.set(e,r,n.state.value),j=!0}})),n.on.editComponentState((e=>{if(e.type.startsWith("🍍")){const n=e.type.replace(/^🍍\s*/,""),r=t._s.get(n);if(!r)return T(`store "${n}" not found`,"error");const{path:i}=e;if("state"!==i[0])return T(`Invalid path for store "${n}":\n${i}\nOnly state can be modified.`);i[0]="$state",j=!1,e.set(r,i,e.state.value),j=!0}}))}))}function X(e,t){U.includes(K(t.$id))||U.push(K(t.$id)),(0,o.$q)({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:U,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const n="function"===typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:r,onError:i,name:s,args:o})=>{const a=Y++;e.addTimelineEvent({layerId:z,event:{time:n(),title:"🛫 "+s,subtitle:"start",data:{store:L(t.$id),action:L(s),args:o},groupId:a}}),r((r=>{Q=void 0,e.addTimelineEvent({layerId:z,event:{time:n(),title:"🛬 "+s,subtitle:"end",data:{store:L(t.$id),action:L(s),args:o,result:r},groupId:a}})})),i((r=>{Q=void 0,e.addTimelineEvent({layerId:z,event:{time:n(),logType:"error",title:"💥 "+s,subtitle:"end",data:{store:L(t.$id),action:L(s),args:o,error:r},groupId:a}})}))}),!0),t._customProperties.forEach((s=>{(0,i.wB)((()=>(0,r.R1)(t[s])),((t,r)=>{e.notifyComponentUpdate(),e.sendInspectorState(q),j&&e.addTimelineEvent({layerId:z,event:{time:n(),title:"Change",subtitle:s,data:{newValue:t,oldValue:r},groupId:Q}})}),{deep:!0})})),t.$subscribe((({events:r,type:i},s)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(q),!j)return;const o={time:n(),title:$(i),data:G({store:L(t.$id)},W(r)),groupId:Q};i===c.patchFunction?o.subtitle="⤵️":i===c.patchObject?o.subtitle="🧩":r&&!Array.isArray(r)&&(o.subtitle=r.type),r&&(o.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),e.addTimelineEvent({layerId:z,event:o})}),{detached:!0,flush:"sync"});const s=t._hotUpdate;t._hotUpdate=(0,r.IG)((r=>{s(r),e.addTimelineEvent({layerId:z,event:{time:n(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:L(t.$id),info:L("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(q),e.sendInspectorState(q)}));const{$dispose:o}=t;t.$dispose=()=>{o(),e.notifyComponentUpdate(),e.sendInspectorTree(q),e.sendInspectorState(q),e.getSettings().logStoreChanges&&T(`Disposed "${t.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(q),e.sendInspectorState(q),e.getSettings().logStoreChanges&&T(`"${t.$id}" store installed 🆕`)}))}let Q,Y=0;function J(e,t,n){const i=t.reduce(((t,n)=>(t[n]=(0,r.ux)(e)[n],t)),{});for(const r in i)e[r]=function(){const t=Y,s=n?new Proxy(e,{get(...e){return Q=t,Reflect.get(...e)},set(...e){return Q=t,Reflect.set(...e)}}):e;Q=t;const o=i[r].apply(s,arguments);return Q=void 0,o}}function Z({app:e,store:t,options:n}){if(t.$id.startsWith("__hot:"))return;t._isOptionsAPI=!!n.state,J(t,Object.keys(n.actions),t._isOptionsAPI);const i=t._hotUpdate;(0,r.ux)(t)._hotUpdate=function(e){i.apply(this,arguments),J(t,Object.keys(e._hmrPayload.actions),!!t._isOptionsAPI)},X(e,t)}function ee(){const e=(0,r.uY)(!0),t=e.run((()=>(0,r.KR)({})));let n=[],i=[];const o=(0,r.IG)({install(e){l(o),s||(o._a=e,e.provide(u,o),e.config.globalProperties.$pinia=o,h&&H(e,o),i.forEach((e=>n.push(e))),i=[])},use(e){return this._a||s?n.push(e):i.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return h&&"undefined"!==typeof Proxy&&o.use(Z),o}Symbol();const{assign:te}=Object},1387:function(e,t,n){n.d(t,{LA:function(){return oe},aE:function(){return tt}});n(4114);var r=n(6768),i=n(144);
/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */
const s="undefined"!==typeof document;function o(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const a=Object.assign;function l(e,t){const n={};for(const r in t){const i=t[r];n[r]=c(i)?i.map(e):e(i)}return n}const u=()=>{},c=Array.isArray;const d=/#/g,h=/&/g,f=/\//g,p=/=/g,m=/\?/g,g=/\+/g,v=/%5B/g,y=/%5D/g,b=/%5E/g,_=/%60/g,w=/%7B/g,E=/%7C/g,I=/%7D/g,T=/%20/g;function C(e){return encodeURI(""+e).replace(E,"|").replace(v,"[").replace(y,"]")}function S(e){return C(e).replace(w,"{").replace(I,"}").replace(b,"^")}function k(e){return C(e).replace(g,"%2B").replace(T,"+").replace(d,"%23").replace(h,"%26").replace(_,"`").replace(w,"{").replace(I,"}").replace(b,"^")}function A(e){return k(e).replace(p,"%3D")}function x(e){return C(e).replace(d,"%23").replace(m,"%3F")}function R(e){return null==e?"":x(e).replace(f,"%2F")}function O(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const N=/\/$/,D=e=>e.replace(N,"");function P(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=j(null!=r?r:t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:O(o)}}function L(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function M(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function F(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&V(t.matched[r],n.matched[i])&&B(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function V(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function B(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!W(e[n],t[n]))return!1;return!0}function W(e,t){return c(e)?$(e,t):c(t)?$(t,e):e===t}function $(e,t){return c(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function j(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");let s,o,a=n.length-1;for(s=0;s<r.length;s++)if(o=r[s],"."!==o){if(".."!==o)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+r.slice(s).join("/")}var U,z;(function(e){e["pop"]="pop",e["push"]="push"})(U||(U={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(z||(z={}));function q(e){if(!e)if(s){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),D(e)}const G=/^[^#]+#/;function K(e,t){return e.replace(G,"#")+t}function H(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const X=()=>({left:window.scrollX,top:window.scrollY});function Q(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=H(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function Y(e,t){const n=history.state?history.state.position-t:-1;return n+e}const J=new Map;function Z(e,t){J.set(e,t)}function ee(e){const t=J.get(e);return J.delete(e),t}let te=()=>location.protocol+"//"+location.host;function ne(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let t=i.includes(e.slice(s))?e.slice(s).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),M(n,"")}const o=M(n,e);return o+r+i}function re(e,t,n,r){let i=[],s=[],o=null;const l=({state:s})=>{const a=ne(e,location),l=n.value,u=t.value;let c=0;if(s){if(n.value=a,t.value=s,o&&o===l)return void(o=null);c=u?s.position-u.position:0}else r(a);i.forEach((e=>{e(n.value,l,{delta:c,type:U.pop,direction:c?c>0?z.forward:z.back:z.unknown})}))};function u(){o=n.value}function c(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return s.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(a({},e.state,{scroll:X()}),"")}function h(){for(const e of s)e();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:h}}function ie(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?X():null}}function se(e){const{history:t,location:n}=window,r={value:ne(e,n)},i={value:t.state};function s(r,s,o){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:te()+e+r;try{t[o?"replaceState":"pushState"](s,"",l),i.value=s}catch(u){console.error(u),n[o?"replace":"assign"](l)}}function o(e,n){const o=a({},t.state,ie(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});s(e,o,!0),r.value=e}function l(e,n){const o=a({},i.value,t.state,{forward:e,scroll:X()});s(o.current,o,!0);const l=a({},ie(r.value,e,null),{position:o.position+1},n);s(e,l,!1),r.value=e}return i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:l,replace:o}}function oe(e){e=q(e);const t=se(e),n=re(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=a({location:"",base:e,go:r,createHref:K.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function ae(e){return"string"===typeof e||e&&"object"===typeof e}function le(e){return"string"===typeof e||"symbol"===typeof e}const ue={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ce=Symbol("");var de;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(de||(de={}));function he(e,t){return a(new Error,{type:e,[ce]:!0},t)}function fe(e,t){return e instanceof Error&&ce in e&&(null==t||!!(e.type&t))}const pe="[^/]+?",me={sensitive:!1,strict:!1,start:!0,end:!0},ge=/[.+*?^${}()[\]/\\]/g;function ve(e,t){const n=a({},me,t),r=[];let i=n.start?"^":"";const s=[];for(const a of e){const e=a.length?[]:[90];n.strict&&!a.length&&(i+="/");for(let t=0;t<a.length;t++){const r=a[t];let o=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(ge,"\\$&"),o+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:u}=r;s.push({name:e,repeatable:n,optional:l});const c=u||pe;if(c!==pe){o+=10;try{new RegExp(`(${c})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${c}): `+d.message)}}let h=n?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;t||(h=l&&a.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),i+=h,o+=20,l&&(o+=-8),n&&(o+=-20),".*"===c&&(o+=-50)}e.push(o)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(e){const t=e.match(o),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=s[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function u(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:s,repeatable:o,optional:a}=e,l=s in t?t[s]:"";if(c(l)&&!o)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const u=c(l)?l.join("/"):l;if(!u){if(!a)throw new Error(`Missing required param "${s}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n||"/"}return{re:o,score:r,keys:s,parse:l,stringify:u}}function ye(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function be(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=ye(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(_e(r))return 1;if(_e(i))return-1}return i.length-r.length}function _e(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const we={type:0,value:""},Ee=/[a-zA-Z0-9_]/;function Ie(e){if(!e)return[[]];if("/"===e)return[[we]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a,l=0,u="",c="";function d(){u&&(0===n?s.push({type:0,value:u}):1===n||2===n||3===n?(s.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),u="")}function h(){u+=a}while(l<e.length)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&d(),o()):":"===a?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===a?n=2:Ee.test(a)?h():(d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function Te(e,t,n){const r=ve(Ie(e.path),n);const i=a(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function Ce(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function s(e,n,r){const i=!r,l=ke(e);l.aliasOf=r&&r.record;const d=Oe(t,e),h=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)h.push(a({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let f,p;for(const t of h){const{path:a}=t;if(n&&"/"!==a[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(a&&r+a)}if(f=Te(t,n,d),r?r.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),i&&e.name&&!xe(f)&&o(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)s(e[t],f,r&&r.children[t])}r=r||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&c(f)}return p?()=>{o(p)}:u}function o(e){if(le(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function l(){return n}function c(e){let t=0;while(t<n.length&&be(e,n[t])>=0&&(e.record.path!==n[t].record.path||!Ne(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!xe(e)&&r.set(e.record.name,e)}function d(e,t){let i,s,o,l={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw he(1,{location:e});0,o=i.record.name,l=a(Se(t.params,i.keys.filter((e=>!e.optional)).concat(i.parent?i.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&Se(e.params,i.keys.map((e=>e.name)))),s=i.stringify(l)}else if(null!=e.path)s=e.path,i=n.find((e=>e.re.test(s))),i&&(l=i.parse(s),o=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw he(1,{location:e,currentLocation:t});o=i.record.name,l=a({},t.params,e.params),s=i.stringify(l)}const u=[];let c=i;while(c)u.unshift(c.record),c=c.parent;return{name:o,path:s,params:l,matched:u,meta:Re(u)}}return t=Oe({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>s(e))),{addRoute:s,resolve:d,removeRoute:o,getRoutes:l,getRecordMatcher:i}}function Se(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ke(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ae(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ae(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"===typeof n?n[r]:n;return t}function xe(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Re(e){return e.reduce(((e,t)=>a(e,t.meta)),{})}function Oe(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Ne(e,t){return t.children.some((t=>t===e||Ne(e,t)))}function De(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(g," "),n=e.indexOf("="),s=O(n<0?e:e.slice(0,n)),o=n<0?null:O(e.slice(n+1));if(s in t){let e=t[s];c(e)||(e=t[s]=[e]),e.push(o)}else t[s]=o}return t}function Pe(e){let t="";for(let n in e){const r=e[n];if(n=A(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=c(r)?r.map((e=>e&&k(e))):[r&&k(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Le(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=c(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Me=Symbol(""),Fe=Symbol(""),Ve=Symbol(""),Be=Symbol(""),We=Symbol("");function $e(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function je(e,t,n,r,i,s=(e=>e())){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((a,l)=>{const u=e=>{!1===e?l(he(4,{from:n,to:t})):e instanceof Error?l(e):ae(e)?l(he(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),a())},c=s((()=>e.call(r&&r.instances[i],t,n,u)));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch((e=>l(e)))}))}function Ue(e,t,n,r,i=(e=>e())){const s=[];for(const a of e){0;for(const e in a.components){let l=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if(ze(l)){const o=l.__vccOpts||l,u=o[t];u&&s.push(je(u,n,r,a,e,i))}else{let u=l();0,s.push((()=>u.then((s=>{if(!s)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${a.path}"`));const l=o(s)?s.default:s;a.components[e]=l;const u=l.__vccOpts||l,c=u[t];return c&&je(c,n,r,a,e,i)()}))))}}}return s}function ze(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function qe(e){const t=(0,r.WQ)(Ve),n=(0,r.WQ)(Be),s=(0,r.EW)((()=>t.resolve((0,i.R1)(e.to)))),o=(0,r.EW)((()=>{const{matched:e}=s.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const o=i.findIndex(V.bind(null,r));if(o>-1)return o;const a=Qe(e[t-2]);return t>1&&Qe(r)===a&&i[i.length-1].path!==a?i.findIndex(V.bind(null,e[t-2])):o})),a=(0,r.EW)((()=>o.value>-1&&Xe(n.params,s.value.params))),l=(0,r.EW)((()=>o.value>-1&&o.value===n.matched.length-1&&B(n.params,s.value.params)));function c(n={}){return He(n)?t[(0,i.R1)(e.replace)?"replace":"push"]((0,i.R1)(e.to)).catch(u):Promise.resolve()}return{route:s,href:(0,r.EW)((()=>s.value.href)),isActive:a,isExactActive:l,navigate:c}}const Ge=(0,r.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qe,setup(e,{slots:t}){const n=(0,i.Kh)(qe(e)),{options:s}=(0,r.WQ)(Ve),o=(0,r.EW)((()=>({[Ye(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ye(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),Ke=Ge;function He(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Xe(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!c(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function Qe(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ye=(e,t,n)=>null!=e?e:null!=t?t:n,Je=(0,r.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=(0,r.WQ)(We),o=(0,r.EW)((()=>e.route||s.value)),l=(0,r.WQ)(Fe,0),u=(0,r.EW)((()=>{let e=(0,i.R1)(l);const{matched:t}=o.value;let n;while((n=t[e])&&!n.components)e++;return e})),c=(0,r.EW)((()=>o.value.matched[u.value]));(0,r.Gt)(Fe,(0,r.EW)((()=>u.value+1))),(0,r.Gt)(Me,c),(0,r.Gt)(We,o);const d=(0,i.KR)();return(0,r.wB)((()=>[d.value,c.value,e.name]),(([e,t,n],[r,i,s])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&V(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=o.value,s=e.name,l=c.value,u=l&&l.components[s];if(!u)return Ze(n.default,{Component:u,route:i});const h=l.props[s],f=h?!0===h?i.params:"function"===typeof h?h(i):h:null,p=e=>{e.component.isUnmounted&&(l.instances[s]=null)},m=(0,r.h)(u,a({},f,t,{onVnodeUnmounted:p,ref:d}));return Ze(n.default,{Component:m,route:i})||m}}});function Ze(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Je;function tt(e){const t=Ce(e.routes,e),n=e.parseQuery||De,o=e.stringifyQuery||Pe,d=e.history;const h=$e(),f=$e(),p=$e(),m=(0,i.IJ)(ue);let g=ue;s&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=l.bind(null,(e=>""+e)),y=l.bind(null,R),b=l.bind(null,O);function _(e,n){let r,i;return le(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function w(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function E(){return t.getRoutes().map((e=>e.record))}function I(e){return!!t.getRecordMatcher(e)}function T(e,r){if(r=a({},r||m.value),"string"===typeof e){const i=P(n,e,r.path),s=t.resolve({path:i.path},r),o=d.createHref(i.fullPath);return a(i,s,{params:b(s.params),hash:O(i.hash),redirectedFrom:void 0,href:o})}let i;if(null!=e.path)i=a({},e,{path:P(n,e.path,r.path).path});else{const t=a({},e.params);for(const e in t)null==t[e]&&delete t[e];i=a({},e,{params:y(t)}),r.params=y(r.params)}const s=t.resolve(i,r),l=e.hash||"";s.params=v(b(s.params));const u=L(o,a({},e,{hash:S(l),path:s.path})),c=d.createHref(u);return a({fullPath:u,hash:l,query:o===Pe?Le(e.query):e.query||{}},s,{redirectedFrom:void 0,href:c})}function C(e){return"string"===typeof e?P(n,e,m.value.path):a({},e)}function k(e,t){if(g!==e)return he(8,{from:t,to:e})}function A(e){return D(e)}function x(e){return A(a(C(e),{replace:!0}))}function N(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=C(r):{path:r},r.params={}),a({query:e.query,hash:e.hash,params:null!=r.path?{}:e.params},r)}}function D(e,t){const n=g=T(e),r=m.value,i=e.state,s=e.force,l=!0===e.replace,u=N(n);if(u)return D(a(C(u),{state:"object"===typeof u?a({},i,u.state):i,force:s,replace:l}),t||n);const c=n;let d;return c.redirectedFrom=t,!s&&F(o,r,n)&&(d=he(16,{to:c,from:r}),ne(r,r,!0,!1)),(d?Promise.resolve(d):B(c,r)).catch((e=>fe(e)?fe(e,2)?e:te(e):H(e,c,r))).then((e=>{if(e){if(fe(e,2))return D(a({replace:l},C(e.to),{state:"object"===typeof e.to?a({},i,e.to.state):i,force:s}),t||c)}else e=$(c,r,!0,l,i);return W(c,r,e),e}))}function M(e,t){const n=k(e,t);return n?Promise.reject(n):Promise.resolve()}function V(e){const t=se.values().next().value;return t&&"function"===typeof t.runWithContext?t.runWithContext(e):e()}function B(e,t){let n;const[r,i,s]=nt(e,t);n=Ue(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach((r=>{n.push(je(r,e,t))}));const o=M.bind(null,e,t);return n.push(o),ae(n).then((()=>{n=[];for(const r of h.list())n.push(je(r,e,t));return n.push(o),ae(n)})).then((()=>{n=Ue(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(je(r,e,t))}));return n.push(o),ae(n)})).then((()=>{n=[];for(const r of s)if(r.beforeEnter)if(c(r.beforeEnter))for(const i of r.beforeEnter)n.push(je(i,e,t));else n.push(je(r.beforeEnter,e,t));return n.push(o),ae(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Ue(s,"beforeRouteEnter",e,t,V),n.push(o),ae(n)))).then((()=>{n=[];for(const r of f.list())n.push(je(r,e,t));return n.push(o),ae(n)})).catch((e=>fe(e,8)?e:Promise.reject(e)))}function W(e,t,n){p.list().forEach((r=>V((()=>r(e,t,n)))))}function $(e,t,n,r,i){const o=k(e,t);if(o)return o;const l=t===ue,u=s?history.state:{};n&&(r||l?d.replace(e.fullPath,a({scroll:l&&u&&u.scroll},i)):d.push(e.fullPath,i)),m.value=e,ne(e,t,n,l),te()}let j;function z(){j||(j=d.listen(((e,t,n)=>{if(!oe.listening)return;const r=T(e),i=N(r);if(i)return void D(a(i,{replace:!0}),r).catch(u);g=r;const o=m.value;s&&Z(Y(o.fullPath,n.delta),X()),B(r,o).catch((e=>fe(e,12)?e:fe(e,2)?(D(e.to,r).then((e=>{fe(e,20)&&!n.delta&&n.type===U.pop&&d.go(-1,!1)})).catch(u),Promise.reject()):(n.delta&&d.go(-n.delta,!1),H(e,r,o)))).then((e=>{e=e||$(r,o,!1),e&&(n.delta&&!fe(e,8)?d.go(-n.delta,!1):n.type===U.pop&&fe(e,20)&&d.go(-1,!1)),W(r,o,e)})).catch(u)})))}let q,G=$e(),K=$e();function H(e,t,n){te(e);const r=K.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function J(){return q&&m.value!==ue?Promise.resolve():new Promise(((e,t)=>{G.add([e,t])}))}function te(e){return q||(q=!e,z(),G.list().forEach((([t,n])=>e?n(e):t())),G.reset()),e}function ne(t,n,i,o){const{scrollBehavior:a}=e;if(!s||!a)return Promise.resolve();const l=!i&&ee(Y(t.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return(0,r.dY)().then((()=>a(t,n,l))).then((e=>e&&Q(e))).catch((e=>H(e,t,n)))}const re=e=>d.go(e);let ie;const se=new Set,oe={currentRoute:m,listening:!0,addRoute:_,removeRoute:w,hasRoute:I,getRoutes:E,resolve:T,options:e,push:A,replace:x,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:h.add,beforeResolve:f.add,afterEach:p.add,onError:K.add,isReady:J,install(e){const t=this;e.component("RouterLink",Ke),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.R1)(m)}),s&&!ie&&m.value===ue&&(ie=!0,A(d.location).catch((e=>{0})));const n={};for(const i in ue)Object.defineProperty(n,i,{get:()=>m.value[i],enumerable:!0});e.provide(Ve,t),e.provide(Be,(0,i.Gc)(n)),e.provide(We,m);const r=e.unmount;se.add(e),e.unmount=function(){se.delete(e),se.size<1&&(g=ue,j&&j(),j=null,m.value=ue,ie=!1,q=!1),r()}}};function ae(e){return e.reduce(((e,t)=>e.then((()=>V(t)))),Promise.resolve())}return oe}function nt(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const s=t.matched[o];s&&(e.matched.find((e=>V(e,s)))?r.push(s):n.push(s));const a=e.matched[o];a&&(t.matched.find((e=>V(e,a)))||i.push(a))}return[n,r,i]}}}]);
//# sourceMappingURL=chunk-vendors.a3d108ce.js.map